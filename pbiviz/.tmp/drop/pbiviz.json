{"visual":{"name":"kpi_tree","displayName":"Advanced KPI Tree","guid":"FCB64197A074475B35C21C09AB529C74","visualClassName":"Visual","version":"1.0.4","description":"Custom visual that transforms data into tree structure.","supportUrl":"https://github.com/victurtle/kpitree","gitHubUrl":"https://github.com/victurtle/kpitree"},"apiVersion":"2.5.0","author":{"name":"Tang Quoc Thai","email":"tang.q.thai@gmail.com"},"coauthor":{"name":"Nguyen Van Duc","email":"vanduc.dn@gmail.com"},"assets":{"icon":"assets/icon.png"},"externalJS":["node_modules/file-saver/dist/FileSaver.min.js","node_modules/js-base64/base64.min.js","node_modules/powerbi-visuals-utils-dataviewutils/lib/index.js","node_modules/d3/d3.min.js","node_modules/powerbi-models/dist/models.js"],"style":"style/visual.less","capabilities":{"dataRoles":[{"name":"category","kind":"Grouping","displayName":"Category Levels"},{"name":"value","kind":"Measure","displayName":"Data Value"},{"name":"color","kind":"Measure","displayName":"Color"}],"objects":{"general":{"displayName":"General","displayNameKey":"formattingGeneral","properties":{"filter":{"type":{"filter":true}}}},"KPITreeSettings":{"displayName":"KPITree settings","properties":{"showMeasure":{"displayName":"Show measure","type":{"bool":true}},"showLimit":{"displayName":"Children limit","type":{"numeric":true}},"defaultDrillDown":{"displayName":"Default drill-down","type":{"numeric":true}},"drillBlank":{"displayName":"Drill into blank","type":{"bool":true}},"drillEmpty":{"displayName":"Drill into empty","type":{"bool":true}}}},"BlockAnnotation":{"displayName":"Annotation settings","properties":{"R1":{"displayName":"Line 1","type":{"text":true}},"R2":{"displayName":"Line 2","type":{"text":true}},"R3":{"displayName":"Line 3","type":{"text":true}}}},"Legend":{"displayName":"Legend settings","properties":{"enable":{"displayName":"Enable","type":{"bool":true}},"L1":{"displayName":"Line 1","type":{"text":true}},"L2":{"displayName":"Line 2","type":{"text":true}},"L3":{"displayName":"Line 3","type":{"text":true}},"L4":{"displayName":"Line 4","type":{"text":true}}}},"KPITreeFormat":{"displayName":"KPITree formatting","properties":{"boxbg":{"displayName":"Box background","type":{"fill":{"solid":{"color":true}}}},"lines":{"displayName":"Lines","type":{"fill":{"solid":{"color":true}}}},"rx":{"displayName":"Smaller radius","type":{"numeric":true}},"Rx":{"displayName":"Bigger radius","type":{"numeric":true}}}},"dataPoint":{"displayName":"Data colors","properties":{"defaultColor":{"displayName":"Default color","type":{"fill":{"solid":{"color":true}}}},"showAllDataPoints":{"displayName":"Show all","type":{"bool":true}},"fill":{"displayName":"Fill","type":{"fill":{"solid":{"color":true}}}},"fillRule":{"displayName":"Color saturation","type":{"fill":{}}},"fontSize":{"displayName":"Text Size","type":{"formatting":{"fontSize":true}}}}}},"dataViewMappings":[{"categorical":{"categories":{"for":{"in":"category"},"dataReductionAlgorithm":{"top":{"count":10000}}},"values":{"select":[{"bind":{"to":"value"}},{"bind":{"to":"color"}}]}}}]},"stringResources":{},"content":{"js":"!function(t,e){\"function\"==typeof define&&define.amd?define([],e):\"undefined\"!=typeof exports?e():(e(),t.FileSaver={exports:{}}.exports)}(this,function(){\"use strict\";function t(t,e){return\"undefined\"==typeof e?e={autoBom:!1}:\"object\"!=typeof e&&(console.warn(\"Deprecated: Expected third argument to be a object\"),e={autoBom:!e}),e.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(t.type)?new Blob([\"\\ufeff\",t],{type:t.type}):t}function e(t,e,n){var r=new XMLHttpRequest;r.open(\"GET\",t),r.responseType=\"blob\",r.onload=function(){i(r.response,e,n)},r.onerror=function(){console.error(\"could not download file\")},r.send()}function n(t){var e=new XMLHttpRequest;e.open(\"HEAD\",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent(\"click\"))}catch(e){var n=document.createEvent(\"MouseEvents\");n.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var a=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,i=a.saveAs||(\"object\"!=typeof window||window!==a?function(){}:\"download\"in HTMLAnchorElement.prototype?function(t,i,o){var l=a.URL||a.webkitURL,u=document.createElement(\"a\");i=i||t.name||\"download\",u.download=i,u.rel=\"noopener\",\"string\"==typeof t?(u.href=t,u.origin===location.origin?r(u):n(u.href)?e(t,i,o):r(u,u.target=\"_blank\")):(u.href=l.createObjectURL(t),setTimeout(function(){l.revokeObjectURL(u.href)},4e4),setTimeout(function(){r(u)},0))}:\"msSaveOrOpenBlob\"in navigator?function(a,i,o){if(i=i||a.name||\"download\",\"string\"!=typeof a)navigator.msSaveOrOpenBlob(t(a,o),i);else if(n(a))e(a,i,o);else{var l=document.createElement(\"a\");l.href=a,l.target=\"_blank\",setTimeout(function(){r(l)})}}:function(t,n,r,i){if(i=i||open(\"\",\"_blank\"),i&&(i.document.title=i.document.body.innerText=\"downloading...\"),\"string\"==typeof t)return e(t,n,r);var o=\"application/octet-stream\"===t.type,l=/constructor/i.test(a.HTMLElement)||a.safari,u=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((u||o&&l)&&\"object\"==typeof FileReader){var s=new FileReader;s.onloadend=function(){var t=s.result;t=u?t:t.replace(/^data:[^;]*;/,\"data:attachment/file;\"),i?i.location.href=t:location=t,i=null},s.readAsDataURL(t)}else{var c=a.URL||a.webkitURL,f=c.createObjectURL(t);i?i.location=f:location.href=f,i=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});a.saveAs=i.saveAs=i,\"undefined\"!=typeof module&&(module.exports=i)}),function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e(t):\"function\"==typeof define&&define.amd?define(e):e(t)}(\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:this,function(global){\"use strict\";global=global||{};var _Base64=global.Base64,version=\"2.5.1\",buffer;if(\"undefined\"!=typeof module&&module.exports)try{buffer=eval(\"require('buffer').Buffer\")}catch(err){buffer=void 0}var b64chars=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",b64tab=function(t){for(var e={},n=0,r=t.length;r>n;n++)e[t.charAt(n)]=n;return e}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(t){if(t.length<2){var e=t.charCodeAt(0);return 128>e?t:2048>e?fromCharCode(192|e>>>6)+fromCharCode(128|63&e):fromCharCode(224|e>>>12&15)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e)}var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return fromCharCode(240|e>>>18&7)+fromCharCode(128|e>>>12&63)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e)},re_utob=/[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g,utob=function(t){return t.replace(re_utob,cb_utob)},cb_encode=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),r=[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),e>=2?\"=\":b64chars.charAt(n>>>6&63),e>=1?\"=\":b64chars.charAt(63&n)];return r.join(\"\")},btoa=global.btoa?function(t){return global.btoa(t)}:function(t){return t.replace(/[\\s\\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t)).toString(\"base64\")}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t)).toString(\"base64\")}:function(t){return btoa(utob(t))},encode=function(t,e){return e?_encode(String(t)).replace(/[+\\/]/g,function(t){return\"+\"==t?\"-\":\"_\"}).replace(/=/g,\"\"):_encode(String(t))},encodeURI=function(t){return encode(t,!0)},re_btou=new RegExp([\"[À-ß][-¿]\",\"[à-ï][-¿]{2}\",\"[ð-÷][-¿]{3}\"].join(\"|\"),\"g\"),cb_btou=function(t){switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return fromCharCode((n>>>10)+55296)+fromCharCode((1023&n)+56320);case 3:return fromCharCode((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return fromCharCode((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},btou=function(t){return t.replace(re_btou,cb_btou)},cb_decode=function(t){var e=t.length,n=e%4,r=(e>0?b64tab[t.charAt(0)]<<18:0)|(e>1?b64tab[t.charAt(1)]<<12:0)|(e>2?b64tab[t.charAt(2)]<<6:0)|(e>3?b64tab[t.charAt(3)]:0),a=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return a.length-=[0,0,2,1][n],a.join(\"\")},_atob=global.atob?function(t){return global.atob(t)}:function(t){return t.replace(/\\S{1,4}/g,cb_decode)},atob=function(t){return _atob(String(t).replace(/[^A-Za-z0-9\\+\\/]/g,\"\"))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t,\"base64\")).toString()}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t,\"base64\")).toString()}:function(t){return btou(_atob(t))},decode=function(t){return _decode(String(t).replace(/[-_]/g,function(t){return\"-\"==t?\"+\":\"/\"}).replace(/[^A-Za-z0-9\\+\\/]/g,\"\"))},noConflict=function(){var t=global.Base64;return global.Base64=_Base64,t};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},\"function\"==typeof Object.defineProperty){var noEnum=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,\"fromBase64\",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,\"toBase64\",noEnum(function(t){return encode(this,t)})),Object.defineProperty(String.prototype,\"toBase64URI\",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),\"undefined\"!=typeof module&&module.exports?module.exports.Base64=global.Base64:\"function\"==typeof define&&define.amd&&define([],function(){return global.Base64}),{Base64:global.Base64}});var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t,e,r){void 0===t&&(t=[]);var a=t;return n(a),e&&(a.identityFields=e),r&&(a.source=r),a}function n(t,e){t.grouped=e?function(){return e}:function(){return r(t)}}function r(t){for(var e,n=[],r=0,a=t.length;a>r;r++){var i=t[r];if(!e||e.identity!==i.identity){if(e={values:[]},i.identity){e.identity=i.identity;var o=i.source;void 0!==o.groupName?e.name=o.groupName:o.displayName&&(e.name=o.displayName)}n.push(e)}e.values.push(i)}return n}t.createValueColumns=e,t.setGrouped=n,t.groupValues=r}(e=t.DataViewTransform||(t.DataViewTransform={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t,e){if(!t||!t.length)return-1;var n=t[0];if(n.values&&n.values.length>0)for(var a=0,i=n.values.length;i>a;++a){var o=n.values[a];if(o&&o.source&&r(o.source,e))return a}return-1}function n(t,e){if(t&&t.length)for(var n=0,a=t.length;a>n;n++)if(r(t[n].source,e))return n;return-1}function r(t,e){var n=t.roles;return n&&n[e]}function a(t,e){return null!=t&&null!=t.metadata&&t.metadata.columns&&t.metadata.columns.some(function(t){return t.roles&&void 0!==t.roles[e]})}function i(t,e){return t&&t.source&&t.source.roles&&t.source.roles[e]===!0}t.getMeasureIndexOfRole=e,t.getCategoryIndexOfRole=n,t.hasRole=r,t.hasRoleInDataView=a,t.hasRoleInValueColumn=i}(e=t.DataRoleHelper||(t.DataRoleHelper={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t,e,n){if(!t)return n;var r=t[e];return void 0===r?n:r}function n(t,n,r){var a=e(t,n);return a&&a.solid?a.solid.color:r}t.getValue=e,t.getFillColorByPropertyName=n}(e=t.DataViewObject||(t.DataViewObject={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(e){function n(e,n,r){return e?t.DataViewObject.getValue(e[n.objectName],n.propertyName,r):r}function r(t,e,n){return t&&t[e]?t[e]:n}function a(t,e,r){var a=n(t,e);return a&&a.solid?a.solid.color:r}function i(t,e,r){var a=n(t,e,r);return a&&a.solid?a.solid.color:void 0===a||null===a||\"object\"==typeof a&&!a.solid?r:a}e.getValue=n,e.getObject=r,e.getFillColor=a,e.getCommonValue=i}(e=t.DataViewObjects||(t.DataViewObjects={}))}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(e){var n;!function(e){var n;!function(e){var n,r=t.extensibility.utils.dataview.DataRoleHelper;!function(t){function e(t,e,n){if(t.categories&&t.categories.length>0){var a=t.categories[0];return a.source&&r.hasRole(a.source,e)&&r.hasRole(a.source,n)}return!1}function n(t){return void 0!==t.groupName?t.groupName:t.queryName}function a(t){var e=o(t);return null!=e&&e.imageUrl===!0}function i(t){var e=o(t);return null!=e&&e.webUrl===!0}function o(t){return t&&t.type&&t.type.misc}function l(t){return t&&t.metadata&&t.metadata.columns&&t.metadata.columns.length?t.metadata.columns.some(function(t){return a(t)===!0}):!1}t.categoryIsAlsoSeriesRole=e,t.getSeriesName=n,t.isImageUrlColumn=a,t.isWebUrlColumn=i,t.getMiscellaneousTypeDescriptor=o,t.hasImageUrlColumn=l}(n=e.converterHelper||(e.converterHelper={}))}(n=e.dataview||(e.dataview={}))}(n=e.utils||(e.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function e(){}return e.getDefault=function(){return new this},e.createPropertyIdentifier=function(t,e){return{objectName:t,propertyName:e}},e.parse=function(e){var n,r=this.getDefault();if(!e||!e.metadata||!e.metadata.objects)return r;n=r.getProperties();for(var a in n)for(var i in n[a]){var o=r[a][i];r[a][i]=t.DataViewObjects.getCommonValue(e.metadata.objects,n[a][i],o)}return r},e.isPropertyEnumerable=function(t){return!e.InnumerablePropertyPrefix.test(t)},e.enumerateObjectInstances=function(t,e){var n=t&&t[e.objectName];if(!n)return[];var r={objectName:e.objectName,selector:null,properties:{}};for(var a in n)n.hasOwnProperty(a)&&(r.properties[a]=n[a]);return{instances:[r]}},e.prototype.getProperties=function(){var t=this,n={},r=Object.keys(this);return r.forEach(function(r){if(e.isPropertyEnumerable(r)){var a=Object.keys(t[r]);n[r]={},a.forEach(function(t){e.isPropertyEnumerable(r)&&(n[r][t]=e.createPropertyIdentifier(r,t))})}}),n},e}();e.InnumerablePropertyPrefix=/^_/,t.DataViewObjectsParser=e}(e=t.dataview||(t.dataview={}))}(e=t.utils||(t.utils={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={})),!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function r(t){return null===t?NaN:+t}function a(t){return!isNaN(t)}function i(t){return{left:function(e,n,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=e.length);a>r;){var i=r+a>>>1;t(e[i],n)<0?r=i+1:a=i}return r},right:function(e,n,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=e.length);a>r;){var i=r+a>>>1;t(e[i],n)>0?a=i:r=i+1}return r}}}function o(t){return t.length}function l(t){for(var e=1;t*e%1;)e*=10;return e}function u(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function s(){this._=Object.create(null)}function c(t){return(t+=\"\")===vo||t[0]===go?go+t:t}function f(t){return(t+=\"\")[0]===go?t.slice(1):t}function d(t){return c(t)in this._}function h(t){return(t=c(t))in this._&&delete this._[t]}function p(){var t=[];for(var e in this._)t.push(f(e));return t}function v(){var t=0;for(var e in this._)++t;return t}function g(){for(var t in this._)return!1;return!0}function y(){this._=Object.create(null)}function m(t){return t}function V(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function b(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=yo.length;r>n;++n){var a=yo[n]+e;if(a in t)return a}}function w(){}function x(){}function M(t){function e(){for(var e,r=n,a=-1,i=r.length;++a<i;)(e=r[a].on)&&e.apply(this,arguments);return t}var n=[],r=new s;return e.on=function(e,a){var i,o=r.get(e);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,i=n.indexOf(o)).concat(n.slice(i+1)),r.remove(e)),a&&n.push(r.set(e,{on:a})),t)},e}function _(){eo.event.preventDefault()}function S(){for(var t,e=eo.event;t=e.sourceEvent;)e=t;return e}function k(t){for(var e=new x,n=0,r=arguments.length;++n<r;)e[arguments[n]]=M(e);return e.of=function(n,r){return function(a){try{var i=a.sourceEvent=eo.event;a.target=t,eo.event=a,e[a.type].apply(n,r)}finally{eo.event=i}}},e}function A(t){return Vo(t,Mo),t}function C(t){return\"function\"==typeof t?t:function(){return bo(t,this)}}function T(t){return\"function\"==typeof t?t:function(){return wo(t,this)}}function N(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function a(){this.setAttribute(t,e)}function i(){this.setAttributeNS(t.space,t.local,e)}function o(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function l(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=eo.ns.qualify(t),null==e?t.local?r:n:\"function\"==typeof e?t.local?l:o:t.local?i:a}function E(t){return t.trim().replace(/\\s+/g,\" \")}function O(t){return new RegExp(\"(?:^|\\\\s+)\"+eo.requote(t)+\"(?:\\\\s+|$)\",\"g\")}function F(t){return(t+\"\").trim().split(/^|\\s+/)}function R(t,e){function n(){for(var n=-1;++n<a;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<a;)t[n](this,r)}t=F(t).map(L);var a=t.length;return\"function\"==typeof e?r:n}function L(t){var e=O(t);return function(n,r){if(a=n.classList)return r?a.add(t):a.remove(t);var a=n.getAttribute(\"class\")||\"\";r?(e.lastIndex=0,e.test(a)||n.setAttribute(\"class\",E(a+\" \"+t))):n.setAttribute(\"class\",E(a.replace(e,\" \")))}}function P(t,e,n){function r(){this.style.removeProperty(t)}function a(){this.style.setProperty(t,e,n)}function i(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:\"function\"==typeof e?i:a}function j(t,e){function n(){delete this[t]}function r(){this[t]=e}function a(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:\"function\"==typeof e?a:r}function q(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return\"function\"==typeof t?t:(t=eo.ns.qualify(t)).local?n:e}function D(){var t=this.parentNode;t&&t.removeChild(this)}function B(t){return{__data__:t}}function I(t){return function(){return xo(this,t)}}function z(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function U(t,e){for(var n=0,r=t.length;r>n;n++)for(var a,i=t[n],o=0,l=i.length;l>o;o++)(a=i[o])&&e(a,o,n);return t}function H(t){return Vo(t,So),t}function K(t){var e,n;return function(r,a,i){var o,l=t[i].update,u=l.length;for(i!=n&&(n=i,e=0),a>=e&&(e=a+1);!(o=l[e])&&++e<u;);return o}}function Y(t,e,n){function r(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}function a(){var a=u(e,ro(arguments));r.call(this),this.addEventListener(t,this[o]=a,a.$=n),a._=e}function i(){var e,n=new RegExp(\"^__on([^.]+)\"+eo.requote(t)+\"$\");for(var r in this)if(e=r.match(n)){var a=this[r];this.removeEventListener(e[1],a,a.$),delete this[r]}}var o=\"__on\"+t,l=t.indexOf(\".\"),u=J;l>0&&(t=t.slice(0,l));var s=ko.get(t);return s&&(t=s,u=G),l?e?a:r:e?w:i}function J(t,e){return function(n){var r=eo.event;eo.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{eo.event=r}}}function G(t,e){var n=J(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function W(n){var r=\".dragsuppress-\"+ ++Co,a=\"click\"+r,i=eo.select(e(n)).on(\"touchmove\"+r,_).on(\"dragstart\"+r,_).on(\"selectstart\"+r,_);if(null==Ao&&(Ao=\"onselectstart\"in n?!1:b(n.style,\"userSelect\")),Ao){var o=t(n).style,l=o[Ao];o[Ao]=\"none\"}return function(t){if(i.on(r,null),Ao&&(o[Ao]=l),t){var e=function(){i.on(a,null)};i.on(a,function(){_(),e()},!0),setTimeout(e,0)}}}function Z(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var a=r.createSVGPoint();if(0>To){var i=e(t);if(i.scrollX||i.scrollY){r=eo.select(\"body\").append(\"svg\").style({position:\"absolute\",top:0,left:0,margin:0,padding:0,border:\"none\"},\"important\");var o=r[0][0].getScreenCTM();To=!(o.f||o.e),r.remove()}}return To?(a.x=n.pageX,a.y=n.pageY):(a.x=n.clientX,a.y=n.clientY),a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}var l=t.getBoundingClientRect();return[n.clientX-l.left-t.clientLeft,n.clientY-l.top-t.clientTop]}function $(){return eo.event.changedTouches[0].identifier}function X(t){return t>0?1:0>t?-1:0}function Q(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return t>1?0:-1>t?Oo:Math.acos(t)}function et(t){return t>1?Lo:-1>t?-Lo:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function rt(t){return((t=Math.exp(t))+1/t)/2}function at(t){return((t=Math.exp(2*t))-1)/(t+1)}function it(t){return(t=Math.sin(t/2))*t}function ot(){}function lt(t,e,n){return this instanceof lt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof lt?new lt(t.h,t.s,t.l):wt(\"\"+t,xt,lt):new lt(t,e,n)}function ut(t,e,n){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?i+(o-i)*t/60:180>t?o:240>t?i+(o-i)*(240-t)/60:i}function a(t){return Math.round(255*r(t))}var i,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,o=.5>=n?n*(1+e):n+e-n*e,i=2*n-o,new yt(a(t+120),a(t),a(t-120))}function st(t,e,n){return this instanceof st?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.c,t.l):t instanceof ft?ht(t.l,t.a,t.b):ht((t=Mt((t=eo.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new st(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ft(n,Math.cos(t*=Po)*e,Math.sin(t)*e)}function ft(t,e,n){return this instanceof ft?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ft?new ft(t.l,t.a,t.b):t instanceof st?ct(t.h,t.c,t.l):Mt((t=yt(t)).r,t.g,t.b):new ft(t,e,n)}function dt(t,e,n){var r=(t+16)/116,a=r+e/500,i=r-n/200;return a=pt(a)*Jo,r=pt(r)*Go,i=pt(i)*Wo,new yt(gt(3.2404542*a-1.5371385*r-.4985314*i),gt(-.969266*a+1.8760108*r+.041556*i),gt(.0556434*a-.2040259*r+1.0572252*i))}function ht(t,e,n){return t>0?new st(Math.atan2(n,e)*jo,Math.sqrt(e*e+n*n),t):new st(NaN,NaN,t)}function pt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function vt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function gt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function yt(t,e,n){return this instanceof yt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof yt?new yt(t.r,t.g,t.b):wt(\"\"+t,yt,ut):new yt(t,e,n)}function mt(t){return new yt(t>>16,t>>8&255,255&t)}function Vt(t){return mt(t)+\"\"}function bt(t){return 16>t?\"0\"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function wt(t,e,n){var r,a,i,o=0,l=0,u=0;if(r=/([a-z]+)\\((.*)\\)/i.exec(t))switch(a=r[2].split(\",\"),r[1]){case\"hsl\":return n(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case\"rgb\":return e(St(a[0]),St(a[1]),St(a[2]))}return(i=Xo.get(t.toLowerCase()))?e(i.r,i.g,i.b):(null==t||\"#\"!==t.charAt(0)||isNaN(i=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&i)>>4,o=o>>4|o,l=240&i,l=l>>4|l,u=15&i,u=u<<4|u):7===t.length&&(o=(16711680&i)>>16,l=(65280&i)>>8,u=255&i)),e(o,l,u))}function xt(t,e,n){var r,a,i=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),l=o-i,u=(o+i)/2;return l?(a=.5>u?l/(o+i):l/(2-o-i),r=t==o?(e-n)/l+(n>e?6:0):e==o?(n-t)/l+2:(t-e)/l+4,r*=60):(r=NaN,a=u>0&&1>u?0:r),new lt(r,a,u)}function Mt(t,e,n){t=_t(t),e=_t(e),n=_t(n);var r=vt((.4124564*t+.3575761*e+.1804375*n)/Jo),a=vt((.2126729*t+.7151522*e+.072175*n)/Go),i=vt((.0193339*t+.119192*e+.9503041*n)/Wo);return ft(116*a-16,500*(r-a),200*(a-i))}function _t(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function St(t){var e=parseFloat(t);return\"%\"===t.charAt(t.length-1)?Math.round(2.55*e):e}function kt(t){return\"function\"==typeof t?t:function(){return t}}function At(t){return function(e,n,r){return 2===arguments.length&&\"function\"==typeof n&&(r=n,n=null),Ct(e,n,t,r)}}function Ct(t,e,n,r){function a(){var t,e=u.status;if(!e&&Nt(u)||e>=200&&300>e||304===e){try{t=n.call(i,u)}catch(r){return void o.error.call(i,r)}o.load.call(i,t)}else o.error.call(i,u)}var i={},o=eo.dispatch(\"beforesend\",\"progress\",\"load\",\"error\"),l={},u=new XMLHttpRequest,s=null;return!this.XDomainRequest||\"withCredentials\"in u||!/^(http(s)?:)?\\/\\//.test(t)||(u=new XDomainRequest),\"onload\"in u?u.onload=u.onerror=a:u.onreadystatechange=function(){u.readyState>3&&a()},u.onprogress=function(t){var e=eo.event;eo.event=t;try{o.progress.call(i,u)}finally{eo.event=e}},i.header=function(t,e){return t=(t+\"\").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+\"\",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+\"\",i):e},i.responseType=function(t){return arguments.length?(s=t,i):s},i.response=function(t){return n=t,i},[\"get\",\"post\"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(ro(arguments)))}}),i.send=function(n,r,a){if(2===arguments.length&&\"function\"==typeof r&&(a=r,r=null),u.open(n,t,!0),null==e||\"accept\"in l||(l.accept=e+\",*/*\"),u.setRequestHeader)for(var c in l)u.setRequestHeader(c,l[c]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=s&&(u.responseType=s),null!=a&&i.on(\"error\",a).on(\"load\",function(t){a(null,t)}),o.beforesend.call(i,u),u.send(null==r?null:r),i},i.abort=function(){return u.abort(),i},eo.rebind(i,o,\"on\"),null==r?i:i.get(Tt(r))}function Tt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Nt(t){var e=t.responseType;return e&&\"text\"!==e?t.response:t.responseText}function Et(){var t=Ot(),e=Ft()-t;e>24?(isFinite(e)&&(clearTimeout(nl),nl=setTimeout(Et,e)),el=0):(el=1,al(Et))}function Ot(){var t=Date.now();for(rl=Qo;rl;)t>=rl.t&&(rl.f=rl.c(t-rl.t)),rl=rl.n;return t}function Ft(){for(var t,e=Qo,n=1/0;e;)e.f?e=t?t.n=e.n:Qo=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return tl=t,n}function Rt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Lt(t,e){var n=Math.pow(10,3*po(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Pt(t){var e=t.decimal,n=t.thousands,r=t.grouping,a=t.currency,i=r&&n?function(t,e){for(var a=t.length,i=[],o=0,l=r[0],u=0;a>0&&l>0&&(u+l+1>e&&(l=Math.max(1,e-u)),i.push(t.substring(a-=l,a+l)),!((u+=l+1)>e));)l=r[o=(o+1)%r.length];return i.reverse().join(n)}:m;return function(t){var n=ol.exec(t),r=n[1]||\" \",o=n[2]||\">\",l=n[3]||\"-\",u=n[4]||\"\",s=n[5],c=+n[6],f=n[7],d=n[8],h=n[9],p=1,v=\"\",g=\"\",y=!1,m=!0;switch(d&&(d=+d.substring(1)),(s||\"0\"===r&&\"=\"===o)&&(s=r=\"0\",o=\"=\"),h){case\"n\":f=!0,h=\"g\";break;case\"%\":p=100,g=\"%\",h=\"f\";break;case\"p\":p=100,g=\"%\",h=\"r\";break;case\"b\":case\"o\":case\"x\":case\"X\":\"#\"===u&&(v=\"0\"+h.toLowerCase());case\"c\":m=!1;case\"d\":y=!0,d=0;break;case\"s\":p=-1,h=\"r\"}\"$\"===u&&(v=a[0],g=a[1]),\"r\"!=h||d||(h=\"g\"),null!=d&&(\"g\"==h?d=Math.max(1,Math.min(21,d)):(\"e\"==h||\"f\"==h)&&(d=Math.max(0,Math.min(20,d)))),h=ll.get(h)||jt;var V=s&&f;return function(t){var n=g;if(y&&t%1)return\"\";var a=0>t||0===t&&0>1/t?(t=-t,\"-\"):\"-\"===l?\"\":l;if(0>p){var u=eo.formatPrefix(t,d);t=u.scale(t),n=u.symbol+g}else t*=p;t=h(t,d);var b,w,x=t.lastIndexOf(\".\");if(0>x){var M=m?t.lastIndexOf(\"e\"):-1;0>M?(b=t,w=\"\"):(b=t.substring(0,M),w=t.substring(M))}else b=t.substring(0,x),w=e+t.substring(x+1);!s&&f&&(b=i(b,1/0));var _=v.length+b.length+w.length+(V?0:a.length),S=c>_?new Array(_=c-_+1).join(r):\"\";return V&&(b=i(S+b,S.length?c-w.length:1/0)),a+=v,t=b+w,(\"<\"===o?a+t+S:\">\"===o?S+a+t:\"^\"===o?S.substring(0,_>>=1)+a+t+S.substring(_):a+(V?t:S+t))+n}}}function jt(t){return t+\"\"}function qt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Dt(t,e,n){function r(e){var n=t(e),r=i(n,1);return r-e>e-n?n:r}function a(n){return e(n=t(new sl(n-1)),1),n}function i(t,n){return e(t=new sl(+t),n),t}function o(t,r,i){var o=a(t),l=[];if(i>1)for(;r>o;)n(o)%i||l.push(new Date(+o)),e(o,1);else for(;r>o;)l.push(new Date(+o)),e(o,1);return l}function l(t,e,n){try{sl=qt;var r=new qt;return r._=t,o(r,e,n)}finally{sl=Date}}t.floor=t,t.round=r,t.ceil=a,t.offset=i,t.range=o;var u=t.utc=Bt(t);return u.floor=u,u.round=Bt(r),u.ceil=Bt(a),u.offset=Bt(i),u.range=l,t}function Bt(t){return function(e,n){try{sl=qt;var r=new qt;return r._=e,t(r,n)._}finally{sl=Date}}}function It(t){function e(t){function e(e){for(var n,a,i,o=[],l=-1,u=0;++l<r;)37===t.charCodeAt(l)&&(o.push(t.slice(u,l)),null!=(a=fl[n=t.charAt(++l)])&&(n=t.charAt(++l)),(i=C[n])&&(n=i(e,null==a?\"e\"===n?\" \":\"0\":a)),o.push(n),u=l+1);return o.push(t.slice(u,l)),o.join(\"\")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},a=n(r,t,e,0);if(a!=e.length)return null;\"p\"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&sl!==qt,o=new(i?qt:sl);return\"j\"in r?o.setFullYear(r.y,0,r.j):\"w\"in r&&(\"W\"in r||\"U\"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,\"W\"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?o._:o},e.toString=function(){return t},e}function n(t,e,n,r){for(var a,i,o,l=0,u=e.length,s=n.length;u>l;){if(r>=s)return-1;if(a=e.charCodeAt(l++),37===a){if(o=e.charAt(l++),i=T[o in fl?e.charAt(l++):o],!i||(r=i(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){x.lastIndex=0;var r=x.exec(e.slice(n));return r?(t.w=M.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){b.lastIndex=0;var r=b.exec(e.slice(n));return r?(t.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){k.lastIndex=0;var r=k.exec(e.slice(n));return r?(t.m=A.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function l(t,e,r){return n(t,C.c.toString(),e,r)}function u(t,e,r){return n(t,C.x.toString(),e,r)}function s(t,e,r){return n(t,C.X.toString(),e,r)}function c(t,e,n){var r=V.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var f=t.dateTime,d=t.date,h=t.time,p=t.periods,v=t.days,g=t.shortDays,y=t.months,m=t.shortMonths;e.utc=function(t){function n(t){try{sl=qt;var e=new sl;return e._=t,r(e)}finally{sl=Date}}var r=e(t);return n.parse=function(t){try{sl=qt;var e=r.parse(t);return e&&e._}finally{sl=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=le;var V=eo.map(),b=Ut(v),w=Ht(v),x=Ut(g),M=Ht(g),_=Ut(y),S=Ht(y),k=Ut(m),A=Ht(m);p.forEach(function(t,e){V.set(t.toLowerCase(),e)});var C={a:function(t){return g[t.getDay()]},A:function(t){return v[t.getDay()]},b:function(t){return m[t.getMonth()]},B:function(t){return y[t.getMonth()]},c:e(f),d:function(t,e){return zt(t.getDate(),e,2)},e:function(t,e){return zt(t.getDate(),e,2)},H:function(t,e){return zt(t.getHours(),e,2)},I:function(t,e){return zt(t.getHours()%12||12,e,2)},j:function(t,e){return zt(1+ul.dayOfYear(t),e,3)},L:function(t,e){return zt(t.getMilliseconds(),e,3)},m:function(t,e){return zt(t.getMonth()+1,e,2)},M:function(t,e){return zt(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return zt(t.getSeconds(),e,2)},U:function(t,e){return zt(ul.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return zt(ul.mondayOfYear(t),e,2)},x:e(d),X:e(h),y:function(t,e){return zt(t.getFullYear()%100,e,2)},Y:function(t,e){return zt(t.getFullYear()%1e4,e,4)},Z:ie,\"%\":function(){return\"%\"}},T={a:r,A:a,b:i,B:o,c:l,d:Qt,e:Qt,H:ee,I:ee,j:te,L:ae,m:Xt,M:ne,p:c,S:re,U:Yt,w:Kt,W:Jt,x:u,X:s,y:Wt,Y:Gt,Z:Zt,\"%\":oe};return e}function zt(t,e,n){var r=0>t?\"-\":\"\",a=(r?-t:t)+\"\",i=a.length;return r+(n>i?new Array(n-i+1).join(e)+a:a)}function Ut(t){return new RegExp(\"^(?:\"+t.map(eo.requote).join(\"|\")+\")\",\"i\")}function Ht(t){for(var e=new s,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Kt(t,e,n){dl.lastIndex=0;var r=dl.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Yt(t,e,n){dl.lastIndex=0;var r=dl.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Jt(t,e,n){dl.lastIndex=0;var r=dl.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Gt(t,e,n){dl.lastIndex=0;var r=dl.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Wt(t,e,n){dl.lastIndex=0;var r=dl.exec(e.slice(n,n+2));return r?(t.y=$t(+r[0]),n+r[0].length):-1}function Zt(t,e,n){return/^[+-]\\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function $t(t){return t+(t>68?1900:2e3)}function Xt(t,e,n){dl.lastIndex=0;var r=dl.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Qt(t,e,n){dl.lastIndex=0;var r=dl.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function te(t,e,n){dl.lastIndex=0;var r=dl.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ee(t,e,n){dl.lastIndex=0;var r=dl.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ne(t,e,n){dl.lastIndex=0;var r=dl.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function re(t,e,n){dl.lastIndex=0;var r=dl.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ae(t,e,n){dl.lastIndex=0;var r=dl.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ie(t){var e=t.getTimezoneOffset(),n=e>0?\"-\":\"+\",r=po(e)/60|0,a=po(e)%60;return n+zt(r,\"0\",2)+zt(a,\"0\",2)}function oe(t,e,n){hl.lastIndex=0;var r=hl.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function le(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function ue(){}function se(t,e,n){var r=n.s=t+e,a=r-t,i=r-a;n.t=t-i+(e-a)}function ce(t,e){t&&yl.hasOwnProperty(t.type)&&yl[t.type](t,e)}function fe(t,e,n){var r,a=-1,i=t.length-n;for(e.lineStart();++a<i;)r=t[a],e.point(r[0],r[1],r[2]);e.lineEnd()}function de(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)fe(t[n],e,1);e.polygonEnd()}function he(){function t(t,e){t*=Po,e=e*Po/2+Oo/4;var n=t-r,o=n>=0?1:-1,l=o*n,u=Math.cos(e),s=Math.sin(e),c=i*s,f=a*u+c*Math.cos(l),d=c*o*Math.sin(l);Vl.add(Math.atan2(d,f)),r=t,a=u,i=s}var e,n,r,a,i;bl.point=function(o,l){bl.point=t,r=(e=o)*Po,a=Math.cos(l=(n=l)*Po/2+Oo/4),i=Math.sin(l)},bl.lineEnd=function(){t(e,n)}}function pe(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)];\n}function ve(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ge(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ye(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function me(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ve(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function be(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function we(t,e){return po(t[0]-e[0])<No&&po(t[1]-e[1])<No}function xe(t,e){t*=Po;var n=Math.cos(e*=Po);Me(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Me(t,e,n){++wl,Ml+=(t-Ml)/wl,_l+=(e-_l)/wl,Sl+=(n-Sl)/wl}function _e(){function t(t,a){t*=Po;var i=Math.cos(a*=Po),o=i*Math.cos(t),l=i*Math.sin(t),u=Math.sin(a),s=Math.atan2(Math.sqrt((s=n*u-r*l)*s+(s=r*o-e*u)*s+(s=e*l-n*o)*s),e*o+n*l+r*u);xl+=s,kl+=s*(e+(e=o)),Al+=s*(n+(n=l)),Cl+=s*(r+(r=u)),Me(e,n,r)}var e,n,r;Ol.point=function(a,i){a*=Po;var o=Math.cos(i*=Po);e=o*Math.cos(a),n=o*Math.sin(a),r=Math.sin(i),Ol.point=t,Me(e,n,r)}}function Se(){Ol.point=xe}function ke(){function t(t,e){t*=Po;var n=Math.cos(e*=Po),o=n*Math.cos(t),l=n*Math.sin(t),u=Math.sin(e),s=a*u-i*l,c=i*o-r*u,f=r*l-a*o,d=Math.sqrt(s*s+c*c+f*f),h=r*o+a*l+i*u,p=d&&-tt(h)/d,v=Math.atan2(d,h);Tl+=p*s,Nl+=p*c,El+=p*f,xl+=v,kl+=v*(r+(r=o)),Al+=v*(a+(a=l)),Cl+=v*(i+(i=u)),Me(r,a,i)}var e,n,r,a,i;Ol.point=function(o,l){e=o,n=l,Ol.point=t,o*=Po;var u=Math.cos(l*=Po);r=u*Math.cos(o),a=u*Math.sin(o),i=Math.sin(l),Me(r,a,i)},Ol.lineEnd=function(){t(e,n),Ol.lineEnd=Se,Ol.point=xe}}function Ae(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function Ce(){return!0}function Te(t,e,n,r,a){var i=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(we(n,r)){a.lineStart();for(var l=0;e>l;++l)a.point((n=t[l])[0],n[1]);return void a.lineEnd()}var u=new Ee(n,t,null,!0),s=new Ee(n,null,u,!1);u.o=s,i.push(u),o.push(s),u=new Ee(r,t,null,!1),s=new Ee(r,null,u,!0),u.o=s,i.push(u),o.push(s)}}),o.sort(e),Ne(i),Ne(o),i.length){for(var l=0,u=n,s=o.length;s>l;++l)o[l].e=u=!u;for(var c,f,d=i[0];;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;c=h.z,a.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(var l=0,s=c.length;s>l;++l)a.point((f=c[l])[0],f[1]);else r(h.x,h.n.x,1,a);h=h.n}else{if(p){c=h.p.z;for(var l=c.length-1;l>=0;--l)a.point((f=c[l])[0],f[1])}else r(h.x,h.p.x,-1,a);h=h.p}h=h.o,c=h.z,p=!p}while(!h.v);a.lineEnd()}}}function Ne(t){if(e=t.length){for(var e,n,r=0,a=t[0];++r<e;)a.n=n=t[r],n.p=a,a=n;a.n=n=t[0],n.p=a}}function Ee(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Oe(t,e,n,r){return function(a,i){function o(e,n){var r=a(e,n);t(e=r[0],n=r[1])&&i.point(e,n)}function l(t,e){var n=a(t,e);g.point(n[0],n[1])}function u(){m.point=l,g.lineStart()}function s(){m.point=o,g.lineEnd()}function c(t,e){v.push([t,e]);var n=a(t,e);b.point(n[0],n[1])}function f(){b.lineStart(),v=[]}function d(){c(v[0][0],v[0][1]),b.lineEnd();var t,e=b.clean(),n=V.buffer(),r=n.length;if(v.pop(),p.push(v),v=null,r)if(1&e){t=n[0];var a,r=t.length-1,o=-1;if(r>0){for(w||(i.polygonStart(),w=!0),i.lineStart();++o<r;)i.point((a=t[o])[0],a[1]);i.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Fe))}var h,p,v,g=e(i),y=a.invert(r[0],r[1]),m={point:o,lineStart:u,lineEnd:s,polygonStart:function(){m.point=c,m.lineStart=f,m.lineEnd=d,h=[],p=[]},polygonEnd:function(){m.point=o,m.lineStart=u,m.lineEnd=s,h=eo.merge(h);var t=De(y,p);h.length?(w||(i.polygonStart(),w=!0),Te(h,Le,t,n,i)):t&&(w||(i.polygonStart(),w=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),w&&(i.polygonEnd(),w=!1),h=p=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}},V=Re(),b=e(V),w=!1;return m}}function Fe(t){return t.length>1}function Re(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:w,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Le(t,e){return((t=t.x)[0]<0?t[1]-Lo-No:Lo-t[1])-((e=e.x)[0]<0?e[1]-Lo-No:Lo-e[1])}function Pe(t){var e,n=NaN,r=NaN,a=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,o){var l=i>0?Oo:-Oo,u=po(i-n);po(u-Oo)<No?(t.point(n,r=(r+o)/2>0?Lo:-Lo),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(i,r),e=0):a!==l&&u>=Oo&&(po(n-a)<No&&(n-=a*No),po(i-l)<No&&(i-=l*No),r=je(n,r,i,o),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(l,r),e=0),t.point(n=i,r=o),a=l},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function je(t,e,n,r){var a,i,o=Math.sin(t-n);return po(o)>No?Math.atan((Math.sin(e)*(i=Math.cos(r))*Math.sin(n)-Math.sin(r)*(a=Math.cos(e))*Math.sin(t))/(a*i*o)):(e+r)/2}function qe(t,e,n,r){var a;if(null==t)a=n*Lo,r.point(-Oo,a),r.point(0,a),r.point(Oo,a),r.point(Oo,0),r.point(Oo,-a),r.point(0,-a),r.point(-Oo,-a),r.point(-Oo,0),r.point(-Oo,a);else if(po(t[0]-e[0])>No){var i=t[0]<e[0]?Oo:-Oo;a=n*i/2,r.point(-i,a),r.point(0,a),r.point(i,a)}else r.point(e[0],e[1])}function De(t,e){var n=t[0],r=t[1],a=[Math.sin(n),-Math.cos(n),0],i=0,o=0;Vl.reset();for(var l=0,u=e.length;u>l;++l){var s=e[l],c=s.length;if(c)for(var f=s[0],d=f[0],h=f[1]/2+Oo/4,p=Math.sin(h),v=Math.cos(h),g=1;;){g===c&&(g=0),t=s[g];var y=t[0],m=t[1]/2+Oo/4,V=Math.sin(m),b=Math.cos(m),w=y-d,x=w>=0?1:-1,M=x*w,_=M>Oo,S=p*V;if(Vl.add(Math.atan2(S*x*Math.sin(M),v*b+S*Math.cos(M))),i+=_?w+x*Fo:w,_^d>=n^y>=n){var k=ge(pe(f),pe(t));Ve(k);var A=ge(a,k);Ve(A);var C=(_^w>=0?-1:1)*et(A[2]);(r>C||r===C&&(k[0]||k[1]))&&(o+=_^w>=0?1:-1)}if(!g++)break;d=y,p=V,v=b,f=t}}return(-No>i||No>i&&0>Vl)^1&o}function Be(t){function e(t,e){return Math.cos(t)*Math.cos(e)>i}function n(t){var n,i,u,s,c;return{lineStart:function(){s=u=!1,c=1},point:function(f,d){var h,p=[f,d],v=e(f,d),g=o?v?0:a(f,d):v?a(f+(0>f?Oo:-Oo),d):0;if(!n&&(s=u=v)&&t.lineStart(),v!==u&&(h=r(n,p),(we(n,h)||we(p,h))&&(p[0]+=No,p[1]+=No,v=e(p[0],p[1]))),v!==u)c=0,v?(t.lineStart(),h=r(p,n),t.point(h[0],h[1])):(h=r(n,p),t.point(h[0],h[1]),t.lineEnd()),n=h;else if(l&&n&&o^v){var y;g&i||!(y=r(p,n,!0))||(c=0,o?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!v||n&&we(n,p)||t.point(p[0],p[1]),n=p,u=v,i=g},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return c|(s&&u)<<1}}}function r(t,e,n){var r=pe(t),a=pe(e),o=[1,0,0],l=ge(r,a),u=ve(l,l),s=l[0],c=u-s*s;if(!c)return!n&&t;var f=i*u/c,d=-i*s/c,h=ge(o,l),p=me(o,f),v=me(l,d);ye(p,v);var g=h,y=ve(p,g),m=ve(g,g),V=y*y-m*(ve(p,p)-1);if(!(0>V)){var b=Math.sqrt(V),w=me(g,(-y-b)/m);if(ye(w,p),w=be(w),!n)return w;var x,M=t[0],_=e[0],S=t[1],k=e[1];M>_&&(x=M,M=_,_=x);var A=_-M,C=po(A-Oo)<No,T=C||No>A;if(!C&&S>k&&(x=S,S=k,k=x),T?C?S+k>0^w[1]<(po(w[0]-M)<No?S:k):S<=w[1]&&w[1]<=k:A>Oo^(M<=w[0]&&w[0]<=_)){var N=me(g,(-y+b)/m);return ye(N,p),[w,be(N)]}}}function a(e,n){var r=o?t:Oo-t,a=0;return-r>e?a|=1:e>r&&(a|=2),-r>n?a|=4:n>r&&(a|=8),a}var i=Math.cos(t),o=i>0,l=po(i)>No,u=pn(t,6*Po);return Oe(e,n,u,o?[0,-t]:[-Oo,t-Oo])}function Ie(t,e,n,r){return function(a){var i,o=a.a,l=a.b,u=o.x,s=o.y,c=l.x,f=l.y,d=0,h=1,p=c-u,v=f-s;if(i=t-u,p||!(i>0)){if(i/=p,0>p){if(d>i)return;h>i&&(h=i)}else if(p>0){if(i>h)return;i>d&&(d=i)}if(i=n-u,p||!(0>i)){if(i/=p,0>p){if(i>h)return;i>d&&(d=i)}else if(p>0){if(d>i)return;h>i&&(h=i)}if(i=e-s,v||!(i>0)){if(i/=v,0>v){if(d>i)return;h>i&&(h=i)}else if(v>0){if(i>h)return;i>d&&(d=i)}if(i=r-s,v||!(0>i)){if(i/=v,0>v){if(i>h)return;i>d&&(d=i)}else if(v>0){if(d>i)return;h>i&&(h=i)}return d>0&&(a.a={x:u+d*p,y:s+d*v}),1>h&&(a.b={x:u+h*p,y:s+h*v}),a}}}}}}function ze(t,e,n,r){function a(r,a){return po(r[0]-t)<No?a>0?0:3:po(r[0]-n)<No?a>0?2:1:po(r[1]-e)<No?a>0?1:0:a>0?3:2}function i(t,e){return o(t.x,e.x)}function o(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(l){function u(t){for(var e=0,n=g.length,r=t[1],a=0;n>a;++a)for(var i,o=1,l=g[a],u=l.length,s=l[0];u>o;++o)i=l[o],s[1]<=r?i[1]>r&&Q(s,i,t)>0&&++e:i[1]<=r&&Q(s,i,t)<0&&--e,s=i;return 0!==e}function s(i,l,u,s){var c=0,f=0;if(null==i||(c=a(i,u))!==(f=a(l,u))||o(i,l)<0^u>0){do s.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+u+4)%4)!==f)}else s.point(l[0],l[1])}function c(a,i){return a>=t&&n>=a&&i>=e&&r>=i}function f(t,e){c(t,e)&&l.point(t,e)}function d(){T.point=p,g&&g.push(y=[]),_=!0,M=!1,w=x=NaN}function h(){v&&(p(m,V),b&&M&&A.rejoin(),v.push(A.buffer())),T.point=f,M&&l.lineEnd()}function p(t,e){t=Math.max(-Rl,Math.min(Rl,t)),e=Math.max(-Rl,Math.min(Rl,e));var n=c(t,e);if(g&&y.push([t,e]),_)m=t,V=e,b=n,_=!1,n&&(l.lineStart(),l.point(t,e));else if(n&&M)l.point(t,e);else{var r={a:{x:w,y:x},b:{x:t,y:e}};C(r)?(M||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),n||l.lineEnd(),S=!1):n&&(l.lineStart(),l.point(t,e),S=!1)}w=t,x=e,M=n}var v,g,y,m,V,b,w,x,M,_,S,k=l,A=Re(),C=Ie(t,e,n,r),T={point:f,lineStart:d,lineEnd:h,polygonStart:function(){l=A,v=[],g=[],S=!0},polygonEnd:function(){l=k,v=eo.merge(v);var e=u([t,r]),n=S&&e,a=v.length;(n||a)&&(l.polygonStart(),n&&(l.lineStart(),s(null,null,1,l),l.lineEnd()),a&&Te(v,i,e,s,l),l.polygonEnd()),v=g=y=null}};return T}}function Ue(t){var e=0,n=Oo/3,r=on(t),a=r(e,n);return a.parallels=function(t){return arguments.length?r(e=t[0]*Oo/180,n=t[1]*Oo/180):[e/Oo*180,n/Oo*180]},a}function He(t,e){function n(t,e){var n=Math.sqrt(i-2*a*Math.sin(e))/a;return[n*Math.sin(t*=a),o-n*Math.cos(t)]}var r=Math.sin(t),a=(r+Math.sin(e))/2,i=1+r*(2*a-r),o=Math.sqrt(i)/a;return n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/a,et((i-(t*t+n*n)*a*a)/(2*a))]},n}function Ke(){function t(t,e){Pl+=a*t-r*e,r=t,a=e}var e,n,r,a;Il.point=function(i,o){Il.point=t,e=r=i,n=a=o},Il.lineEnd=function(){t(e,n)}}function Ye(t,e){jl>t&&(jl=t),t>Dl&&(Dl=t),ql>e&&(ql=e),e>Bl&&(Bl=e)}function Je(){function t(t,e){o.push(\"M\",t,\",\",e,i)}function e(t,e){o.push(\"M\",t,\",\",e),l.point=n}function n(t,e){o.push(\"L\",t,\",\",e)}function r(){l.point=t}function a(){o.push(\"Z\")}var i=Ge(4.5),o=[],l={point:t,lineStart:function(){l.point=e},lineEnd:r,polygonStart:function(){l.lineEnd=a},polygonEnd:function(){l.lineEnd=r,l.point=t},pointRadius:function(t){return i=Ge(t),l},result:function(){if(o.length){var t=o.join(\"\");return o=[],t}}};return l}function Ge(t){return\"m0,\"+t+\"a\"+t+\",\"+t+\" 0 1,1 0,\"+-2*t+\"a\"+t+\",\"+t+\" 0 1,1 0,\"+2*t+\"z\"}function We(t,e){Ml+=t,_l+=e,++Sl}function Ze(){function t(t,r){var a=t-e,i=r-n,o=Math.sqrt(a*a+i*i);kl+=o*(e+t)/2,Al+=o*(n+r)/2,Cl+=o,We(e=t,n=r)}var e,n;Ul.point=function(r,a){Ul.point=t,We(e=r,n=a)}}function $e(){Ul.point=We}function Xe(){function t(t,e){var n=t-r,i=e-a,o=Math.sqrt(n*n+i*i);kl+=o*(r+t)/2,Al+=o*(a+e)/2,Cl+=o,o=a*t-r*e,Tl+=o*(r+t),Nl+=o*(a+e),El+=3*o,We(r=t,a=e)}var e,n,r,a;Ul.point=function(i,o){Ul.point=t,We(e=r=i,n=a=o)},Ul.lineEnd=function(){t(e,n)}}function Qe(t){function e(e,n){t.moveTo(e+o,n),t.arc(e,n,o,0,Fo)}function n(e,n){t.moveTo(e,n),l.point=r}function r(e,n){t.lineTo(e,n)}function a(){l.point=e}function i(){t.closePath()}var o=4.5,l={point:e,lineStart:function(){l.point=n},lineEnd:a,polygonStart:function(){l.lineEnd=i},polygonEnd:function(){l.lineEnd=a,l.point=e},pointRadius:function(t){return o=t,l},result:w};return l}function tn(t){function e(t){return(l?r:n)(t)}function n(e){return rn(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){V=NaN,_.point=i,e.lineStart()}function i(n,r){var i=pe([n,r]),o=t(n,r);a(V,b,m,w,x,M,V=o[0],b=o[1],m=n,w=i[0],x=i[1],M=i[2],l,e),e.point(V,b)}function o(){_.point=n,e.lineEnd()}function u(){r(),_.point=s,_.lineEnd=c}function s(t,e){i(f=t,d=e),h=V,p=b,v=w,g=x,y=M,_.point=i}function c(){a(V,b,m,w,x,M,h,p,f,v,g,y,l,e),_.lineEnd=o,o()}var f,d,h,p,v,g,y,m,V,b,w,x,M,_={point:n,lineStart:r,lineEnd:o,polygonStart:function(){e.polygonStart(),_.lineStart=u},polygonEnd:function(){e.polygonEnd(),_.lineStart=r}};return _}function a(e,n,r,l,u,s,c,f,d,h,p,v,g,y){var m=c-e,V=f-n,b=m*m+V*V;if(b>4*i&&g--){var w=l+h,x=u+p,M=s+v,_=Math.sqrt(w*w+x*x+M*M),S=Math.asin(M/=_),k=po(po(M)-1)<No||po(r-d)<No?(r+d)/2:Math.atan2(x,w),A=t(k,S),C=A[0],T=A[1],N=C-e,E=T-n,O=V*N-m*E;(O*O/b>i||po((m*N+V*E)/b-.5)>.3||o>l*h+u*p+s*v)&&(a(e,n,r,l,u,s,C,T,k,w/=_,x/=_,M,g,y),y.point(C,T),a(C,T,k,w,x,M,c,f,d,h,p,v,g,y))}}var i=.5,o=Math.cos(30*Po),l=16;return e.precision=function(t){return arguments.length?(l=(i=t*t)>0&&16,e):Math.sqrt(i)},e}function en(t){var e=tn(function(e,n){return t([e*jo,n*jo])});return function(t){return ln(e(t))}}function nn(t){this.stream=t}function rn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return on(function(){return t})()}function on(t){function e(t){return t=l(t[0]*Po,t[1]*Po),[t[0]*d+u,s-t[1]*d]}function n(t){return t=l.invert((t[0]-u)/d,(s-t[1])/d),t&&[t[0]*jo,t[1]*jo]}function r(){l=Ae(o=cn(y,V,b),i);var t=i(v,g);return u=h-t[0]*d,s=p+t[1]*d,a()}function a(){return c&&(c.valid=!1,c=null),e}var i,o,l,u,s,c,f=tn(function(t,e){return t=i(t,e),[t[0]*d+u,s-t[1]*d]}),d=150,h=480,p=250,v=0,g=0,y=0,V=0,b=0,w=Fl,x=m,M=null,_=null;return e.stream=function(t){return c&&(c.valid=!1),c=ln(w(o,f(x(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(w=null==t?(M=t,Fl):Be((M=+t)*Po),a()):M},e.clipExtent=function(t){return arguments.length?(_=t,x=t?ze(t[0][0],t[0][1],t[1][0],t[1][1]):m,a()):_},e.scale=function(t){return arguments.length?(d=+t,r()):d},e.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],r()):[h,p]},e.center=function(t){return arguments.length?(v=t[0]%360*Po,g=t[1]%360*Po,r()):[v*jo,g*jo]},e.rotate=function(t){return arguments.length?(y=t[0]%360*Po,V=t[1]%360*Po,b=t.length>2?t[2]%360*Po:0,r()):[y*jo,V*jo,b*jo]},eo.rebind(e,f,\"precision\"),function(){return i=t.apply(this,arguments),e.invert=i.invert&&n,r()}}function ln(t){return rn(t,function(e,n){t.point(e*Po,n*Po)})}function un(t,e){return[t,e]}function sn(t,e){return[t>Oo?t-Fo:-Oo>t?t+Fo:t,e]}function cn(t,e,n){return t?e||n?Ae(dn(t),hn(e,n)):dn(t):e||n?hn(e,n):sn}function fn(t){return function(e,n){return e+=t,[e>Oo?e-Fo:-Oo>e?e+Fo:e,n]}}function dn(t){var e=fn(t);return e.invert=fn(-t),e}function hn(t,e){function n(t,e){var n=Math.cos(e),l=Math.cos(t)*n,u=Math.sin(t)*n,s=Math.sin(e),c=s*r+l*a;return[Math.atan2(u*i-c*o,l*r-s*a),et(c*i+u*o)]}var r=Math.cos(t),a=Math.sin(t),i=Math.cos(e),o=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),l=Math.cos(t)*n,u=Math.sin(t)*n,s=Math.sin(e),c=s*i-u*o;return[Math.atan2(u*i+s*o,l*r+c*a),et(c*r-l*a)]},n}function pn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(a,i,o,l){var u=o*e;null!=a?(a=vn(n,a),i=vn(n,i),(o>0?i>a:a>i)&&(a+=o*Fo)):(a=t+o*Fo,i=t-.5*u);for(var s,c=a;o>0?c>i:i>c;c-=u)l.point((s=be([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],s[1])}}function vn(t,e){var n=pe(e);n[0]-=t,Ve(n);var r=tt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-No)%(2*Math.PI)}function gn(t,e,n){var r=eo.range(t,e-No,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function yn(t,e,n){var r=eo.range(t,e-No,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function mn(t){return t.source}function Vn(t){return t.target}function bn(t,e,n,r){var a=Math.cos(e),i=Math.sin(e),o=Math.cos(r),l=Math.sin(r),u=a*Math.cos(t),s=a*Math.sin(t),c=o*Math.cos(n),f=o*Math.sin(n),d=2*Math.asin(Math.sqrt(it(r-e)+a*o*it(n-t))),h=1/Math.sin(d),p=d?function(t){var e=Math.sin(t*=d)*h,n=Math.sin(d-t)*h,r=n*u+e*c,a=n*s+e*f,o=n*i+e*l;return[Math.atan2(a,r)*jo,Math.atan2(o,Math.sqrt(r*r+a*a))*jo]}:function(){return[t*jo,e*jo]};return p.distance=d,p}function wn(){function t(t,a){var i=Math.sin(a*=Po),o=Math.cos(a),l=po((t*=Po)-e),u=Math.cos(l);Hl+=Math.atan2(Math.sqrt((l=o*Math.sin(l))*l+(l=r*i-n*o*u)*l),n*i+r*o*u),e=t,n=i,r=o}var e,n,r;Kl.point=function(a,i){e=a*Po,n=Math.sin(i*=Po),r=Math.cos(i),Kl.point=t},Kl.lineEnd=function(){Kl.point=Kl.lineEnd=w}}function xn(t,e){function n(e,n){var r=Math.cos(e),a=Math.cos(n),i=t(r*a);return[i*a*Math.sin(e),i*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),a=e(r),i=Math.sin(a),o=Math.cos(a);return[Math.atan2(t*i,r*o),Math.asin(r&&n*i/r)]},n}function Mn(t,e){function n(t,e){o>0?-Lo+No>e&&(e=-Lo+No):e>Lo-No&&(e=Lo-No);var n=o/Math.pow(a(e),i);return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),a=function(t){return Math.tan(Oo/4+t/2)},i=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(a(e)/a(t)),o=r*Math.pow(a(t),i)/i;return i?(n.invert=function(t,e){var n=o-e,r=X(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(o/r,1/i))-Lo]},n):Sn}function _n(t,e){function n(t,e){var n=i-e;return[n*Math.sin(a*t),i-n*Math.cos(a*t)]}var r=Math.cos(t),a=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),i=r/a+t;return po(a)<No?un:(n.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/a,i-X(a)*Math.sqrt(t*t+n*n)]},n)}function Sn(t,e){return[t,Math.log(Math.tan(Oo/4+e/2))]}function kn(t){var e,n=an(t),r=n.scale,a=n.translate,i=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=a.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=i.apply(n,arguments);if(o===n){if(e=null==t){var l=Oo*r(),u=a();i([[u[0]-l,u[1]-l],[u[0]+l,u[1]+l]])}}else e&&(o=null);return o},n.clipExtent(null)}function An(t,e){return[Math.log(Math.tan(Oo/4+e/2)),-t]}function Cn(t){return t[0]}function Tn(t){return t[1]}function Nn(t){for(var e=t.length,n=[0,1],r=2,a=2;e>a;a++){for(;r>1&&Q(t[n[r-2]],t[n[r-1]],t[a])<=0;)--r;n[r++]=a}return n.slice(0,r)}function En(t,e){return t[0]-e[0]||t[1]-e[1]}function On(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Fn(t,e,n,r){var a=t[0],i=n[0],o=e[0]-a,l=r[0]-i,u=t[1],s=n[1],c=e[1]-u,f=r[1]-s,d=(l*(u-s)-f*(a-i))/(f*o-l*c);return[a+d*o,u+d*c]}function Rn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Ln(){nr(this),this.edge=this.site=this.circle=null}function Pn(t){var e=ru.pop()||new Ln;return e.site=t,e}function jn(t){Jn(t),tu.remove(t),ru.push(t),nr(t)}function qn(t){var e=t.circle,n=e.x,r=e.cy,a={x:n,y:r},i=t.P,o=t.N,l=[t];jn(t);for(var u=i;u.circle&&po(n-u.circle.x)<No&&po(r-u.circle.cy)<No;)i=u.P,l.unshift(u),jn(u),u=i;l.unshift(u),Jn(u);for(var s=o;s.circle&&po(n-s.circle.x)<No&&po(r-s.circle.cy)<No;)o=s.N,l.push(s),jn(s),s=o;l.push(s),Jn(s);var c,f=l.length;for(c=1;f>c;++c)s=l[c],u=l[c-1],Qn(s.edge,u.site,s.site,a);u=l[0],s=l[f-1],s.edge=$n(u.site,s.site,null,a),Yn(u),Yn(s)}function Dn(t){for(var e,n,r,a,i=t.x,o=t.y,l=tu._;l;)if(r=Bn(l,o)-i,r>No)l=l.L;else{if(a=i-In(l,o),!(a>No)){r>-No?(e=l.P,n=l):a>-No?(e=l,n=l.N):e=n=l;break}if(!l.R){e=l;break}l=l.R}var u=Pn(t);if(tu.insert(e,u),e||n){if(e===n)return Jn(e),n=Pn(e.site),tu.insert(u,n),u.edge=n.edge=$n(e.site,u.site),Yn(e),void Yn(n);if(!n)return void(u.edge=$n(e.site,u.site));Jn(e),Jn(n);var s=e.site,c=s.x,f=s.y,d=t.x-c,h=t.y-f,p=n.site,v=p.x-c,g=p.y-f,y=2*(d*g-h*v),m=d*d+h*h,V=v*v+g*g,b={x:(g*m-h*V)/y+c,y:(d*V-v*m)/y+f};Qn(n.edge,s,p,b),u.edge=$n(s,t,null,b),n.edge=$n(t,p,null,b),Yn(e),Yn(n)}}function Bn(t,e){var n=t.site,r=n.x,a=n.y,i=a-e;if(!i)return r;var o=t.P;if(!o)return-1/0;n=o.site;var l=n.x,u=n.y,s=u-e;if(!s)return l;var c=l-r,f=1/i-1/s,d=c/s;return f?(-d+Math.sqrt(d*d-2*f*(c*c/(-2*s)-u+s/2+a-i/2)))/f+r:(r+l)/2}function In(t,e){var n=t.N;if(n)return Bn(n,e);var r=t.site;return r.y===e?r.x:1/0}function zn(t){this.site=t,this.edges=[]}function Un(t){for(var e,n,r,a,i,o,l,u,s,c,f=t[0][0],d=t[1][0],h=t[0][1],p=t[1][1],v=Ql,g=v.length;g--;)if(i=v[g],i&&i.prepare())for(l=i.edges,u=l.length,o=0;u>o;)c=l[o].end(),r=c.x,a=c.y,s=l[++o%u].start(),e=s.x,n=s.y,(po(r-e)>No||po(a-n)>No)&&(l.splice(o,0,new tr(Xn(i.site,c,po(r-f)<No&&p-a>No?{x:f,y:po(e-f)<No?n:p}:po(a-p)<No&&d-r>No?{x:po(n-p)<No?e:d,y:p}:po(r-d)<No&&a-h>No?{x:d,y:po(e-d)<No?n:h}:po(a-h)<No&&r-f>No?{x:po(n-h)<No?e:f,y:h}:null),i.site,null)),++u)}function Hn(t,e){return e.angle-t.angle}function Kn(){nr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Yn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,a=t.site,i=n.site;if(r!==i){var o=a.x,l=a.y,u=r.x-o,s=r.y-l,c=i.x-o,f=i.y-l,d=2*(u*f-s*c);if(!(d>=-Eo)){var h=u*u+s*s,p=c*c+f*f,v=(f*h-s*p)/d,g=(u*p-c*h)/d,f=g+l,y=au.pop()||new Kn;y.arc=t,y.site=a,y.x=v+o,y.y=f+Math.sqrt(v*v+g*g),y.cy=f,t.circle=y;for(var m=null,V=nu._;V;)if(y.y<V.y||y.y===V.y&&y.x<=V.x){if(!V.L){m=V.P;break}V=V.L}else{if(!V.R){m=V;break}V=V.R}nu.insert(m,y),m||(eu=y)}}}}function Jn(t){var e=t.circle;e&&(e.P||(eu=e.N),nu.remove(e),au.push(e),nr(e),t.circle=null)}function Gn(t){for(var e,n=Xl,r=Ie(t[0][0],t[0][1],t[1][0],t[1][1]),a=n.length;a--;)e=n[a],(!Wn(e,t)||!r(e)||po(e.a.x-e.b.x)<No&&po(e.a.y-e.b.y)<No)&&(e.a=e.b=null,n.splice(a,1))}function Wn(t,e){var n=t.b;if(n)return!0;var r,a,i=t.a,o=e[0][0],l=e[1][0],u=e[0][1],s=e[1][1],c=t.l,f=t.r,d=c.x,h=c.y,p=f.x,v=f.y,g=(d+p)/2,y=(h+v)/2;if(v===h){if(o>g||g>=l)return;if(d>p){if(i){if(i.y>=s)return}else i={x:g,y:u};n={x:g,y:s}}else{if(i){if(i.y<u)return}else i={x:g,y:s};n={x:g,y:u}}}else if(r=(d-p)/(v-h),a=y-r*g,-1>r||r>1)if(d>p){if(i){if(i.y>=s)return}else i={x:(u-a)/r,y:u};n={x:(s-a)/r,y:s}}else{if(i){if(i.y<u)return}else i={x:(s-a)/r,y:s};n={x:(u-a)/r,y:u}}else if(v>h){if(i){if(i.x>=l)return}else i={x:o,y:r*o+a};n={x:l,y:r*l+a}}else{if(i){if(i.x<o)return}else i={x:l,y:r*l+a};n={x:o,y:r*o+a}}return t.a=i,t.b=n,!0}function Zn(t,e){this.l=t,this.r=e,this.a=this.b=null}function $n(t,e,n,r){var a=new Zn(t,e);return Xl.push(a),n&&Qn(a,t,e,n),r&&Qn(a,e,t,r),Ql[t.i].edges.push(new tr(a,t,e)),Ql[e.i].edges.push(new tr(a,e,t)),a}function Xn(t,e,n){var r=new Zn(t,null);return r.a=e,r.b=n,Xl.push(r),r}function Qn(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function tr(t,e,n){var r=t.a,a=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(a.x-r.x,r.y-a.y):Math.atan2(r.x-a.x,a.y-r.y)}function er(){this._=null}function nr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function rr(t,e){var n=e,r=e.R,a=n.U;a?a.L===n?a.L=r:a.R=r:t._=r,r.U=a,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ar(t,e){var n=e,r=e.L,a=n.U;a?a.L===n?a.L=r:a.R=r:t._=r,r.U=a,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ir(t){for(;t.L;)t=t.L;return t}function or(t,e){var n,r,a,i=t.sort(lr).pop();for(Xl=[],Ql=new Array(t.length),tu=new er,nu=new er;;)if(a=eu,i&&(!a||i.y<a.y||i.y===a.y&&i.x<a.x))(i.x!==n||i.y!==r)&&(Ql[i.i]=new zn(i),Dn(i),n=i.x,r=i.y),i=t.pop();else{if(!a)break;qn(a.arc)}e&&(Gn(e),Un(e));var o={cells:Ql,edges:Xl};return tu=nu=Xl=Ql=null,o}function lr(t,e){return e.y-t.y||e.x-t.x}function ur(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function sr(t){return t.x}function cr(t){return t.y}function fr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function dr(t,e,n,r,a,i){if(!t(e,n,r,a,i)){var o=.5*(n+a),l=.5*(r+i),u=e.nodes;u[0]&&dr(t,u[0],n,r,o,l),u[1]&&dr(t,u[1],o,r,a,l),u[2]&&dr(t,u[2],n,l,o,i),u[3]&&dr(t,u[3],o,l,a,i)}}function hr(t,e,n,r,a,i,o){var l,u=1/0;return function s(t,c,f,d,h){if(!(c>i||f>o||r>d||a>h)){if(p=t.point){var p,v=e-t.x,g=n-t.y,y=v*v+g*g;if(u>y){var m=Math.sqrt(u=y);r=e-m,a=n-m,i=e+m,o=n+m,l=p}}for(var V=t.nodes,b=.5*(c+d),w=.5*(f+h),x=e>=b,M=n>=w,_=M<<1|x,S=_+4;S>_;++_)if(t=V[3&_])switch(3&_){case 0:s(t,c,f,b,w);break;case 1:s(t,b,f,d,w);break;case 2:s(t,c,w,b,h);break;case 3:s(t,b,w,d,h)}}}(t,r,a,i,o),l}function pr(t,e){t=eo.rgb(t),e=eo.rgb(e);var n=t.r,r=t.g,a=t.b,i=e.r-n,o=e.g-r,l=e.b-a;return function(t){return\"#\"+bt(Math.round(n+i*t))+bt(Math.round(r+o*t))+bt(Math.round(a+l*t))}}function vr(t,e){var n,r={},a={};for(n in t)n in e?r[n]=mr(t[n],e[n]):a[n]=t[n];for(n in e)n in t||(a[n]=e[n]);return function(t){for(n in r)a[n]=r[n](t);return a}}function gr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yr(t,e){var n,r,a,i=ou.lastIndex=lu.lastIndex=0,o=-1,l=[],u=[];for(t+=\"\",e+=\"\";(n=ou.exec(t))&&(r=lu.exec(e));)(a=r.index)>i&&(a=e.slice(i,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,u.push({i:o,x:gr(n,r)})),i=lu.lastIndex;return i<e.length&&(a=e.slice(i),l[o]?l[o]+=a:l[++o]=a),l.length<2?u[0]?(e=u[0].x,function(t){return e(t)+\"\"}):function(){return e}:(e=u.length,function(t){for(var n,r=0;e>r;++r)l[(n=u[r]).i]=n.x(t);return l.join(\"\")})}function mr(t,e){for(var n,r=eo.interpolators.length;--r>=0&&!(n=eo.interpolators[r](t,e)););return n}function Vr(t,e){var n,r=[],a=[],i=t.length,o=e.length,l=Math.min(t.length,e.length);for(n=0;l>n;++n)r.push(mr(t[n],e[n]));for(;i>n;++n)a[n]=t[n];for(;o>n;++n)a[n]=e[n];return function(t){for(n=0;l>n;++n)a[n]=r[n](t);return a}}function br(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function wr(t){return function(e){return 1-t(1-e)}}function xr(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Mr(t){return t*t}function _r(t){return t*t*t}function Sr(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function kr(t){return function(e){return Math.pow(e,t)}}function Ar(t){return 1-Math.cos(t*Lo)}function Cr(t){return Math.pow(2,10*(t-1))}function Tr(t){return 1-Math.sqrt(1-t*t)}function Nr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Fo*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Fo/e)}}function Er(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Or(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Fr(t,e){t=eo.hcl(t),e=eo.hcl(e);var n=t.h,r=t.c,a=t.l,i=e.h-n,o=e.c-r,l=e.l-a;return isNaN(o)&&(o=0,r=isNaN(r)?e.c:r),isNaN(i)?(i=0,n=isNaN(n)?e.h:n):i>180?i-=360:-180>i&&(i+=360),function(t){return ct(n+i*t,r+o*t,a+l*t)+\"\"}}function Rr(t,e){t=eo.hsl(t),e=eo.hsl(e);var n=t.h,r=t.s,a=t.l,i=e.h-n,o=e.s-r,l=e.l-a;return isNaN(o)&&(o=0,r=isNaN(r)?e.s:r),isNaN(i)?(i=0,n=isNaN(n)?e.h:n):i>180?i-=360:-180>i&&(i+=360),function(t){return ut(n+i*t,r+o*t,a+l*t)+\"\"}}function Lr(t,e){t=eo.lab(t),e=eo.lab(e);var n=t.l,r=t.a,a=t.b,i=e.l-n,o=e.a-r,l=e.b-a;return function(t){return dt(n+i*t,r+o*t,a+l*t)+\"\"}}function Pr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function jr(t){var e=[t.a,t.b],n=[t.c,t.d],r=Dr(e),a=qr(e,n),i=Dr(Br(n,e,-a))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,a*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*jo,this.translate=[t.e,t.f],this.scale=[r,i],this.skew=i?Math.atan2(a,i)*jo:0}function qr(t,e){return t[0]*e[0]+t[1]*e[1]}function Dr(t){var e=Math.sqrt(qr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Br(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Ir(t,e){var n,r=[],a=[],i=eo.transform(t),o=eo.transform(e),l=i.translate,u=o.translate,s=i.rotate,c=o.rotate,f=i.skew,d=o.skew,h=i.scale,p=o.scale;return l[0]!=u[0]||l[1]!=u[1]?(r.push(\"translate(\",null,\",\",null,\")\"),a.push({i:1,x:gr(l[0],u[0])},{i:3,x:gr(l[1],u[1])})):r.push(u[0]||u[1]?\"translate(\"+u+\")\":\"\"),s!=c?(s-c>180?c+=360:c-s>180&&(s+=360),a.push({i:r.push(r.pop()+\"rotate(\",null,\")\")-2,x:gr(s,c)})):c&&r.push(r.pop()+\"rotate(\"+c+\")\"),f!=d?a.push({i:r.push(r.pop()+\"skewX(\",null,\")\")-2,x:gr(f,d)}):d&&r.push(r.pop()+\"skewX(\"+d+\")\"),h[0]!=p[0]||h[1]!=p[1]?(n=r.push(r.pop()+\"scale(\",null,\",\",null,\")\"),a.push({i:n-4,x:gr(h[0],p[0])},{i:n-2,x:gr(h[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+\"scale(\"+p+\")\"),n=a.length,function(t){for(var e,i=-1;++i<n;)r[(e=a[i]).i]=e.x(t);return r.join(\"\")}}function zr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Ur(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Hr(t){for(var e=t.source,n=t.target,r=Yr(e,n),a=[e];e!==r;)e=e.parent,a.push(e);for(var i=a.length;n!==r;)a.splice(i,0,n),n=n.parent;return a}function Kr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Yr(t,e){if(t===e)return t;for(var n=Kr(t),r=Kr(e),a=n.pop(),i=r.pop(),o=null;a===i;)o=a,a=n.pop(),i=r.pop();return o}function Jr(t){t.fixed|=2}function Gr(t){t.fixed&=-7}function Wr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Zr(t){t.fixed&=-5}function $r(t,e,n){var r=0,a=0;if(t.charge=0,!t.leaf)for(var i,o=t.nodes,l=o.length,u=-1;++u<l;)i=o[u],null!=i&&($r(i,e,n),t.charge+=i.charge,r+=i.charge*i.cx,a+=i.charge*i.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var s=e*n[t.point.index];t.charge+=t.pointCharge=s,r+=s*t.point.x,a+=s*t.point.y}t.cx=r/t.charge,t.cy=a/t.charge}function Xr(t,e){return eo.rebind(t,e,\"sort\",\"children\",\"value\"),t.nodes=t,t.links=aa,t}function Qr(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(a=t.children)&&(r=a.length))for(var r,a;--r>=0;)n.push(a[r])}function ta(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(i=t.children)&&(a=i.length))for(var a,i,o=-1;++o<a;)n.push(i[o]);for(;null!=(t=r.pop());)e(t)}function ea(t){return t.children}function na(t){return t.value}function ra(t,e){return e.value-t.value}function aa(t){return eo.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function ia(t){return t.x}function oa(t){return t.y}function la(t,e,n){t.y0=e,t.y=n}function ua(t){return eo.range(t.length)}function sa(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function ca(t){for(var e,n=1,r=0,a=t[0][1],i=t.length;i>n;++n)(e=t[n][1])>a&&(r=n,a=e);return r}function fa(t){return t.reduce(da,0)}function da(t,e){return t+e[1]}function ha(t,e){return pa(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function pa(t,e){for(var n=-1,r=+t[0],a=(t[1]-r)/e,i=[];++n<=e;)i[n]=a*n+r;return i}function va(t){return[eo.min(t),eo.max(t)]}function ga(t,e){return t.value-e.value}function ya(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function ma(t,e){t._pack_next=e,e._pack_prev=t}function Va(t,e){var n=e.x-t.x,r=e.y-t.y,a=t.r+e.r;return.999*a*a>n*n+r*r}function ba(t){function e(t){c=Math.min(t.x-t.r,c),f=Math.max(t.x+t.r,f),d=Math.min(t.y-t.r,d),h=Math.max(t.y+t.r,h)}if((n=t.children)&&(s=n.length)){var n,r,a,i,o,l,u,s,c=1/0,f=-1/0,d=1/0,h=-1/0;if(n.forEach(wa),r=n[0],r.x=-r.r,r.y=0,e(r),s>1&&(a=n[1],a.x=a.r,a.y=0,e(a),s>2))for(i=n[2],_a(r,a,i),e(i),ya(r,i),r._pack_prev=i,ya(i,a),a=r._pack_next,o=3;s>o;o++){_a(r,a,i=n[o]);var p=0,v=1,g=1;for(l=a._pack_next;l!==a;l=l._pack_next,v++)if(Va(l,i)){p=1;break}if(1==p)for(u=r._pack_prev;u!==l._pack_prev&&!Va(u,i);u=u._pack_prev,g++);p?(g>v||v==g&&a.r<r.r?ma(r,a=l):ma(r=u,a),o--):(ya(r,i),a=i,e(i))}var y=(c+f)/2,m=(d+h)/2,V=0;for(o=0;s>o;o++)i=n[o],i.x-=y,i.y-=m,V=Math.max(V,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=V,n.forEach(xa)}}function wa(t){t._pack_next=t._pack_prev=t}function xa(t){delete t._pack_next,delete t._pack_prev}function Ma(t,e,n,r){var a=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,a)for(var i=-1,o=a.length;++i<o;)Ma(a[i],e,n,r)}function _a(t,e,n){var r=t.r+n.r,a=e.x-t.x,i=e.y-t.y;if(r&&(a||i)){var o=e.r+n.r,l=a*a+i*i;o*=o,r*=r;var u=.5+(r-o)/(2*l),s=Math.sqrt(Math.max(0,2*o*(r+l)-(r-=l)*r-o*o))/(2*l);n.x=t.x+u*a+s*i,n.y=t.y+u*i-s*a}else n.x=t.x+r,n.y=t.y}function Sa(t,e){return t.parent==e.parent?1:2}function ka(t){var e=t.children;return e.length?e[0]:t.t}function Aa(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Ca(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Ta(t){for(var e,n=0,r=0,a=t.children,i=a.length;--i>=0;)e=a[i],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function Na(t,e,n){return t.a.parent===e.parent?t.a:n}function Ea(t){return 1+eo.max(t,function(t){return t.y})}function Oa(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Fa(t){var e=t.children;return e&&e.length?Fa(e[0]):t}function Ra(t){var e,n=t.children;return n&&(e=n.length)?Ra(n[e-1]):t}function La(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Pa(t,e){var n=t.x+e[3],r=t.y+e[0],a=t.dx-e[1]-e[3],i=t.dy-e[0]-e[2];return 0>a&&(n+=a/2,a=0),\n0>i&&(r+=i/2,i=0),{x:n,y:r,dx:a,dy:i}}function ja(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function qa(t){return t.rangeExtent?t.rangeExtent():ja(t.range())}function Da(t,e,n,r){var a=n(t[0],t[1]),i=r(e[0],e[1]);return function(t){return i(a(t))}}function Ba(t,e){var n,r=0,a=t.length-1,i=t[r],o=t[a];return i>o&&(n=r,r=a,a=n,n=i,i=o,o=n),t[r]=e.floor(i),t[a]=e.ceil(o),t}function Ia(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:mu}function za(t,e,n,r){var a=[],i=[],o=0,l=Math.min(t.length,e.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=l;)a.push(n(t[o-1],t[o])),i.push(r(e[o-1],e[o]));return function(e){var n=eo.bisect(t,e,1,l)-1;return i[n](a[n](e))}}function Ua(t,e,n,r){function a(){var a=Math.min(t.length,e.length)>2?za:Da,u=r?Ur:zr;return o=a(t,e,u,n),l=a(e,t,u,mr),i}function i(t){return o(t)}var o,l;return i.invert=function(t){return l(t)},i.domain=function(e){return arguments.length?(t=e.map(Number),a()):t},i.range=function(t){return arguments.length?(e=t,a()):e},i.rangeRound=function(t){return i.range(t).interpolate(Pr)},i.clamp=function(t){return arguments.length?(r=t,a()):r},i.interpolate=function(t){return arguments.length?(n=t,a()):n},i.ticks=function(e){return Ja(t,e)},i.tickFormat=function(e,n){return Ga(t,e,n)},i.nice=function(e){return Ka(t,e),a()},i.copy=function(){return Ua(t,e,n,r)},a()}function Ha(t,e){return eo.rebind(t,e,\"range\",\"rangeRound\",\"interpolate\",\"clamp\")}function Ka(t,e){return Ba(t,Ia(Ya(t,e)[2]))}function Ya(t,e){null==e&&(e=10);var n=ja(t),r=n[1]-n[0],a=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),i=e/r*a;return.15>=i?a*=10:.35>=i?a*=5:.75>=i&&(a*=2),n[0]=Math.ceil(n[0]/a)*a,n[1]=Math.floor(n[1]/a)*a+.5*a,n[2]=a,n}function Ja(t,e){return eo.range.apply(eo,Ya(t,e))}function Ga(t,e,n){var r=Ya(t,e);if(n){var a=ol.exec(n);if(a.shift(),\"s\"===a[8]){var i=eo.formatPrefix(Math.max(po(r[0]),po(r[1])));return a[7]||(a[7]=\".\"+Wa(i.scale(r[2]))),a[8]=\"f\",n=eo.format(a.join(\"\")),function(t){return n(i.scale(t))+i.symbol}}a[7]||(a[7]=\".\"+Za(a[8],r)),n=a.join(\"\")}else n=\",.\"+Wa(r[2])+\"f\";return eo.format(n)}function Wa(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Za(t,e){var n=Wa(e[2]);return t in Vu?Math.abs(n-Wa(Math.max(po(e[0]),po(e[1]))))+ +(\"e\"!==t):n-2*(\"%\"===t)}function $a(t,e,n,r){function a(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function i(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(a(e))}return o.invert=function(e){return i(t.invert(e))},o.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(a)),o):r},o.base=function(n){return arguments.length?(e=+n,t.domain(r.map(a)),o):e},o.nice=function(){var e=Ba(r.map(a),n?Math:wu);return t.domain(e),r=e.map(i),o},o.ticks=function(){var t=ja(r),o=[],l=t[0],u=t[1],s=Math.floor(a(l)),c=Math.ceil(a(u)),f=e%1?2:e;if(isFinite(c-s)){if(n){for(;c>s;s++)for(var d=1;f>d;d++)o.push(i(s)*d);o.push(i(s))}else for(o.push(i(s));s++<c;)for(var d=f-1;d>0;d--)o.push(i(s)*d);for(s=0;o[s]<l;s++);for(c=o.length;o[c-1]>u;c--);o=o.slice(s,c)}return o},o.tickFormat=function(t,e){if(!arguments.length)return bu;arguments.length<2?e=bu:\"function\"!=typeof e&&(e=eo.format(e));var r,l=Math.max(.1,t/o.ticks().length),u=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/i(u(a(t)+r))<=l?e(t):\"\"}},o.copy=function(){return $a(t.copy(),e,n,r)},Ha(o,t)}function Xa(t,e,n){function r(e){return t(a(e))}var a=Qa(e),i=Qa(1/e);return r.invert=function(e){return i(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(a)),r):n},r.ticks=function(t){return Ja(n,t)},r.tickFormat=function(t,e){return Ga(n,t,e)},r.nice=function(t){return r.domain(Ka(n,t))},r.exponent=function(o){return arguments.length?(a=Qa(e=o),i=Qa(1/e),t.domain(n.map(a)),r):e},r.copy=function(){return Xa(t.copy(),e,n)},Ha(r,t)}function Qa(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function ti(t,e){function n(n){return i[((a.get(n)||(\"range\"===e.t?a.set(n,t.push(n)):NaN))-1)%i.length]}function r(e,n){return eo.range(t.length).map(function(t){return e+n*t})}var a,i,o;return n.domain=function(r){if(!arguments.length)return t;t=[],a=new s;for(var i,o=-1,l=r.length;++o<l;)a.has(i=r[o])||a.set(i,t.push(i));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(i=t,o=0,e={t:\"range\",a:arguments},n):i},n.rangePoints=function(a,l){arguments.length<2&&(l=0);var u=a[0],s=a[1],c=t.length<2?(u=(u+s)/2,0):(s-u)/(t.length-1+l);return i=r(u+c*l/2,c),o=0,e={t:\"rangePoints\",a:arguments},n},n.rangeRoundPoints=function(a,l){arguments.length<2&&(l=0);var u=a[0],s=a[1],c=t.length<2?(u=s=Math.round((u+s)/2),0):(s-u)/(t.length-1+l)|0;return i=r(u+Math.round(c*l/2+(s-u-(t.length-1+l)*c)/2),c),o=0,e={t:\"rangeRoundPoints\",a:arguments},n},n.rangeBands=function(a,l,u){arguments.length<2&&(l=0),arguments.length<3&&(u=l);var s=a[1]<a[0],c=a[s-0],f=a[1-s],d=(f-c)/(t.length-l+2*u);return i=r(c+d*u,d),s&&i.reverse(),o=d*(1-l),e={t:\"rangeBands\",a:arguments},n},n.rangeRoundBands=function(a,l,u){arguments.length<2&&(l=0),arguments.length<3&&(u=l);var s=a[1]<a[0],c=a[s-0],f=a[1-s],d=Math.floor((f-c)/(t.length-l+2*u));return i=r(c+Math.round((f-c-(t.length-l)*d)/2),d),s&&i.reverse(),o=Math.round(d*(1-l)),e={t:\"rangeRoundBands\",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return ja(e.a[0])},n.copy=function(){return ti(t,e)},n.domain(t)}function ei(t,e){function i(){var n=0,r=e.length;for(l=[];++n<r;)l[n-1]=eo.quantile(t,n/r);return o}function o(t){return isNaN(t=+t)?void 0:e[eo.bisect(l,t)]}var l;return o.domain=function(e){return arguments.length?(t=e.map(r).filter(a).sort(n),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.quantiles=function(){return l},o.invertExtent=function(n){return n=e.indexOf(n),0>n?[NaN,NaN]:[n>0?l[n-1]:t[0],n<l.length?l[n]:t[t.length-1]]},o.copy=function(){return ei(t,e)},i()}function ni(t,e,n){function r(e){return n[Math.max(0,Math.min(o,Math.floor(i*(e-t))))]}function a(){return i=n.length/(e-t),o=n.length-1,r}var i,o;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],a()):[t,e]},r.range=function(t){return arguments.length?(n=t,a()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=0>e?NaN:e/i+t,[e,e+1/i]},r.copy=function(){return ni(t,e,n)},a()}function ri(t,e){function n(n){return n>=n?e[eo.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ri(t,e)},n}function ai(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Ja(t,e)},e.tickFormat=function(e,n){return Ga(t,e,n)},e.copy=function(){return ai(t)},e}function ii(){return 0}function oi(t){return t.innerRadius}function li(t){return t.outerRadius}function ui(t){return t.startAngle}function si(t){return t.endAngle}function ci(t){return t&&t.padAngle}function fi(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function di(t,e,n,r,a){var i=t[0]-e[0],o=t[1]-e[1],l=(a?r:-r)/Math.sqrt(i*i+o*o),u=l*o,s=-l*i,c=t[0]+u,f=t[1]+s,d=e[0]+u,h=e[1]+s,p=(c+d)/2,v=(f+h)/2,g=d-c,y=h-f,m=g*g+y*y,V=n-r,b=c*h-d*f,w=(0>y?-1:1)*Math.sqrt(V*V*m-b*b),x=(b*y-g*w)/m,M=(-b*g-y*w)/m,_=(b*y+g*w)/m,S=(-b*g+y*w)/m,k=x-p,A=M-v,C=_-p,T=S-v;return k*k+A*A>C*C+T*T&&(x=_,M=S),[[x-u,M-s],[x*n/V,M*n/V]]}function hi(t){function e(e){function o(){s.push(\"M\",i(t(c),l))}for(var u,s=[],c=[],f=-1,d=e.length,h=kt(n),p=kt(r);++f<d;)a.call(this,u=e[f],f)?c.push([+h.call(this,u,f),+p.call(this,u,f)]):c.length&&(o(),c=[]);return c.length&&o(),s.length?s.join(\"\"):null}var n=Cn,r=Tn,a=Ce,i=pi,o=i.key,l=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(o=\"function\"==typeof t?i=t:(i=Au.get(t)||pi).key,e):o},e.tension=function(t){return arguments.length?(l=t,e):l},e}function pi(t){return t.join(\"L\")}function vi(t){return pi(t)+\"Z\"}function gi(t){for(var e=0,n=t.length,r=t[0],a=[r[0],\",\",r[1]];++e<n;)a.push(\"H\",(r[0]+(r=t[e])[0])/2,\"V\",r[1]);return n>1&&a.push(\"H\",r[0]),a.join(\"\")}function yi(t){for(var e=0,n=t.length,r=t[0],a=[r[0],\",\",r[1]];++e<n;)a.push(\"V\",(r=t[e])[1],\"H\",r[0]);return a.join(\"\")}function mi(t){for(var e=0,n=t.length,r=t[0],a=[r[0],\",\",r[1]];++e<n;)a.push(\"H\",(r=t[e])[0],\"V\",r[1]);return a.join(\"\")}function Vi(t,e){return t.length<4?pi(t):t[1]+xi(t.slice(1,-1),Mi(t,e))}function bi(t,e){return t.length<3?pi(t):t[0]+xi((t.push(t[0]),t),Mi([t[t.length-2]].concat(t,[t[1]]),e))}function wi(t,e){return t.length<3?pi(t):t[0]+xi(t,Mi(t,e))}function xi(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return pi(t);var n=t.length!=e.length,r=\"\",a=t[0],i=t[1],o=e[0],l=o,u=1;if(n&&(r+=\"Q\"+(i[0]-2*o[0]/3)+\",\"+(i[1]-2*o[1]/3)+\",\"+i[0]+\",\"+i[1],a=t[1],u=2),e.length>1){l=e[1],i=t[u],u++,r+=\"C\"+(a[0]+o[0])+\",\"+(a[1]+o[1])+\",\"+(i[0]-l[0])+\",\"+(i[1]-l[1])+\",\"+i[0]+\",\"+i[1];for(var s=2;s<e.length;s++,u++)i=t[u],l=e[s],r+=\"S\"+(i[0]-l[0])+\",\"+(i[1]-l[1])+\",\"+i[0]+\",\"+i[1]}if(n){var c=t[u];r+=\"Q\"+(i[0]+2*l[0]/3)+\",\"+(i[1]+2*l[1]/3)+\",\"+c[0]+\",\"+c[1]}return r}function Mi(t,e){for(var n,r=[],a=(1-e)/2,i=t[0],o=t[1],l=1,u=t.length;++l<u;)n=i,i=o,o=t[l],r.push([a*(o[0]-n[0]),a*(o[1]-n[1])]);return r}function _i(t){if(t.length<3)return pi(t);var e=1,n=t.length,r=t[0],a=r[0],i=r[1],o=[a,a,a,(r=t[1])[0]],l=[i,i,i,r[1]],u=[a,\",\",i,\"L\",Ci(Nu,o),\",\",Ci(Nu,l)];for(t.push(t[n-1]);++e<=n;)r=t[e],o.shift(),o.push(r[0]),l.shift(),l.push(r[1]),Ti(u,o,l);return t.pop(),u.push(\"L\",r),u.join(\"\")}function Si(t){if(t.length<4)return pi(t);for(var e,n=[],r=-1,a=t.length,i=[0],o=[0];++r<3;)e=t[r],i.push(e[0]),o.push(e[1]);for(n.push(Ci(Nu,i)+\",\"+Ci(Nu,o)),--r;++r<a;)e=t[r],i.shift(),i.push(e[0]),o.shift(),o.push(e[1]),Ti(n,i,o);return n.join(\"\")}function ki(t){for(var e,n,r=-1,a=t.length,i=a+4,o=[],l=[];++r<4;)n=t[r%a],o.push(n[0]),l.push(n[1]);for(e=[Ci(Nu,o),\",\",Ci(Nu,l)],--r;++r<i;)n=t[r%a],o.shift(),o.push(n[0]),l.shift(),l.push(n[1]),Ti(e,o,l);return e.join(\"\")}function Ai(t,e){var n=t.length-1;if(n)for(var r,a,i=t[0][0],o=t[0][1],l=t[n][0]-i,u=t[n][1]-o,s=-1;++s<=n;)r=t[s],a=s/n,r[0]=e*r[0]+(1-e)*(i+a*l),r[1]=e*r[1]+(1-e)*(o+a*u);return _i(t)}function Ci(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ti(t,e,n){t.push(\"C\",Ci(Cu,e),\",\",Ci(Cu,n),\",\",Ci(Tu,e),\",\",Ci(Tu,n),\",\",Ci(Nu,e),\",\",Ci(Nu,n))}function Ni(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ei(t){for(var e=0,n=t.length-1,r=[],a=t[0],i=t[1],o=r[0]=Ni(a,i);++e<n;)r[e]=(o+(o=Ni(a=i,i=t[e+1])))/2;return r[e]=o,r}function Oi(t){for(var e,n,r,a,i=[],o=Ei(t),l=-1,u=t.length-1;++l<u;)e=Ni(t[l],t[l+1]),po(e)<No?o[l]=o[l+1]=0:(n=o[l]/e,r=o[l+1]/e,a=n*n+r*r,a>9&&(a=3*e/Math.sqrt(a),o[l]=a*n,o[l+1]=a*r));for(l=-1;++l<=u;)a=(t[Math.min(u,l+1)][0]-t[Math.max(0,l-1)][0])/(6*(1+o[l]*o[l])),i.push([a||0,o[l]*a||0]);return i}function Fi(t){return t.length<3?pi(t):t[0]+xi(t,Oi(t))}function Ri(t){for(var e,n,r,a=-1,i=t.length;++a<i;)e=t[a],n=e[0],r=e[1]-Lo,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Li(t){function e(e){function u(){v.push(\"M\",l(t(y),f),c,s(t(g.reverse()),f),\"Z\")}for(var d,h,p,v=[],g=[],y=[],m=-1,V=e.length,b=kt(n),w=kt(a),x=n===r?function(){return h}:kt(r),M=a===i?function(){return p}:kt(i);++m<V;)o.call(this,d=e[m],m)?(g.push([h=+b.call(this,d,m),p=+w.call(this,d,m)]),y.push([+x.call(this,d,m),+M.call(this,d,m)])):g.length&&(u(),g=[],y=[]);return g.length&&u(),v.length?v.join(\"\"):null}var n=Cn,r=Cn,a=0,i=Tn,o=Ce,l=pi,u=l.key,s=l,c=\"L\",f=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(a=i=t,e):i},e.y0=function(t){return arguments.length?(a=t,e):a},e.y1=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(u=\"function\"==typeof t?l=t:(l=Au.get(t)||pi).key,s=l.reverse||l,c=l.closed?\"M\":\"L\",e):u},e.tension=function(t){return arguments.length?(f=t,e):f},e}function Pi(t){return t.radius}function ji(t){return[t.x,t.y]}function qi(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Lo;return[n*Math.cos(r),n*Math.sin(r)]}}function Di(){return 64}function Bi(){return\"circle\"}function Ii(t){var e=Math.sqrt(t/Oo);return\"M0,\"+e+\"A\"+e+\",\"+e+\" 0 1,1 0,\"+-e+\"A\"+e+\",\"+e+\" 0 1,1 0,\"+e+\"Z\"}function zi(t){return function(){var e,n;(e=this[t])&&(n=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Ui(t,e,n){return Vo(t,ju),t.namespace=e,t.id=n,t}function Hi(t,e,n,r){var a=t.id,i=t.namespace;return U(t,\"function\"==typeof n?function(t,o,l){t[i][a].tween.set(e,r(n.call(t,t.__data__,o,l)))}:(n=r(n),function(t){t[i][a].tween.set(e,n)}))}function Ki(t){return null==t&&(t=\"\"),function(){this.textContent=t}}function Yi(t){return null==t?\"__transition__\":\"__transition_\"+t+\"__\"}function Ji(t,e,n,r,a){var i=t[n]||(t[n]={active:0,count:0}),o=i[r];if(!o){var l=a.time;o=i[r]={tween:new s,time:l,delay:a.delay,duration:a.duration,ease:a.ease,index:e},a=null,++i.count,eo.timer(function(a){function u(n){if(i.active>r)return c();var a=i[i.active];a&&(--i.count,delete i[i.active],a.event&&a.event.interrupt.call(t,t.__data__,a.index)),i.active=r,o.event&&o.event.start.call(t,t.__data__,e),o.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&v.push(r)}),d=o.ease,f=o.duration,eo.timer(function(){return p.c=s(n||1)?Ce:s,1},0,l)}function s(n){if(i.active!==r)return 1;for(var a=n/f,l=d(a),u=v.length;u>0;)v[--u].call(t,l);return a>=1?(o.event&&o.event.end.call(t,t.__data__,e),c()):void 0}function c(){return--i.count?delete i[r]:delete t[n],1}var f,d,h=o.delay,p=rl,v=[];return p.t=h+l,a>=h?u(a-h):void(p.c=u)},0,l)}}function Gi(t,e,n){t.attr(\"transform\",function(t){var r=e(t);return\"translate(\"+(isFinite(r)?r:n(t))+\",0)\"})}function Wi(t,e,n){t.attr(\"transform\",function(t){var r=e(t);return\"translate(0,\"+(isFinite(r)?r:n(t))+\")\"})}function Zi(t){return t.toISOString()}function $i(t,e,n){function r(e){return t(e)}function a(t,n){var r=t[1]-t[0],a=r/n,i=eo.bisect(Yu,a);return i==Yu.length?[e.year,Ya(t.map(function(t){return t/31536e6}),n)[2]]:i?e[a/Yu[i-1]<Yu[i]/a?i-1:i]:[Wu,Ya(t,n)[2]]}return r.invert=function(e){return Xi(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Xi)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Xi(+n+1),e).length}var i=r.domain(),o=ja(i),l=null==t?a(o,10):\"number\"==typeof t&&a(o,t);return l&&(t=l[0],e=l[1]),r.domain(Ba(i,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Xi(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Xi(+e+1);return e}}:t))},r.ticks=function(t,e){var n=ja(r.domain()),i=null==t?a(n,10):\"number\"==typeof t?a(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],Xi(+n[1]+1),1>e?1:e)},r.tickFormat=function(){return n},r.copy=function(){return $i(t.copy(),e,n)},Ha(r,t)}function Xi(t){return new Date(t)}function Qi(t){return JSON.parse(t.responseText)}function to(t){var e=ao.createRange();return e.selectNode(ao.body),e.createContextualFragment(t.responseText)}var eo={version:\"3.5.5\"},no=[].slice,ro=function(t){return no.call(t)},ao=this.document;if(ao)try{ro(ao.documentElement.childNodes)[0].nodeType}catch(io){ro=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),ao)try{ao.createElement(\"DIV\").style.setProperty(\"opacity\",0,\"\")}catch(oo){var lo=this.Element.prototype,uo=lo.setAttribute,so=lo.setAttributeNS,co=this.CSSStyleDeclaration.prototype,fo=co.setProperty;lo.setAttribute=function(t,e){uo.call(this,t,e+\"\")},lo.setAttributeNS=function(t,e,n){so.call(this,t,e,n+\"\")},co.setProperty=function(t,e,n){fo.call(this,t,e+\"\",n)}}eo.ascending=n,eo.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},eo.min=function(t,e){var n,r,a=-1,i=t.length;if(1===arguments.length){for(;++a<i;)if(null!=(r=t[a])&&r>=r){n=r;break}for(;++a<i;)null!=(r=t[a])&&n>r&&(n=r)}else{for(;++a<i;)if(null!=(r=e.call(t,t[a],a))&&r>=r){n=r;break}for(;++a<i;)null!=(r=e.call(t,t[a],a))&&n>r&&(n=r)}return n},eo.max=function(t,e){var n,r,a=-1,i=t.length;if(1===arguments.length){for(;++a<i;)if(null!=(r=t[a])&&r>=r){n=r;break}for(;++a<i;)null!=(r=t[a])&&r>n&&(n=r)}else{for(;++a<i;)if(null!=(r=e.call(t,t[a],a))&&r>=r){n=r;break}for(;++a<i;)null!=(r=e.call(t,t[a],a))&&r>n&&(n=r)}return n},eo.extent=function(t,e){var n,r,a,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=a=r;break}for(;++i<o;)null!=(r=t[i])&&(n>r&&(n=r),r>a&&(a=r))}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=a=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&(n>r&&(n=r),r>a&&(a=r))}return[n,a]},eo.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)a(n=+t[o])&&(r+=n);else for(;++o<i;)a(n=+e.call(t,t[o],o))&&(r+=n);return r},eo.mean=function(t,e){var n,i=0,o=t.length,l=-1,u=o;if(1===arguments.length)for(;++l<o;)a(n=r(t[l]))?i+=n:--u;else for(;++l<o;)a(n=r(e.call(t,t[l],l)))?i+=n:--u;return u?i/u:void 0},eo.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),a=+t[r-1],i=n-r;return i?a+i*(t[r]-a):a},eo.median=function(t,e){var i,o=[],l=t.length,u=-1;if(1===arguments.length)for(;++u<l;)a(i=r(t[u]))&&o.push(i);else for(;++u<l;)a(i=r(e.call(t,t[u],u)))&&o.push(i);return o.length?eo.quantile(o.sort(n),.5):void 0},eo.variance=function(t,e){var n,i,o=t.length,l=0,u=0,s=-1,c=0;if(1===arguments.length)for(;++s<o;)a(n=r(t[s]))&&(i=n-l,l+=i/++c,u+=i*(n-l));else for(;++s<o;)a(n=r(e.call(t,t[s],s)))&&(i=n-l,l+=i/++c,u+=i*(n-l));return c>1?u/(c-1):void 0},eo.deviation=function(){var t=eo.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ho=i(n);eo.bisectLeft=ho.left,eo.bisect=eo.bisectRight=ho.right,eo.bisector=function(t){return i(1===t.length?function(e,r){return n(t(e),r)}:t)},eo.shuffle=function(t,e,n){(i=arguments.length)<3&&(n=t.length,2>i&&(e=0));for(var r,a,i=n-e;i;)a=Math.random()*i--|0,r=t[i+e],t[i+e]=t[a+e],t[a+e]=r;return t},eo.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},eo.pairs=function(t){for(var e,n=0,r=t.length-1,a=t[0],i=new Array(0>r?0:r);r>n;)i[n]=[e=a,a=t[++n]];return i},eo.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=eo.min(arguments,o),n=new Array(e);++t<e;)for(var r,a=-1,i=n[t]=new Array(r);++a<r;)i[a]=arguments[a][t];return n},eo.transpose=function(t){return eo.zip.apply(eo,t)},eo.keys=function(t){var e=[];for(var n in t)e.push(n);return e},eo.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},eo.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},eo.merge=function(t){for(var e,n,r,a=t.length,i=-1,o=0;++i<a;)o+=t[i].length;for(n=new Array(o);--a>=0;)for(r=t[a],e=r.length;--e>=0;)n[--o]=r[e];return n};var po=Math.abs;eo.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error(\"infinite range\");var r,a=[],i=l(po(n)),o=-1;if(t*=i,e*=i,n*=i,0>n)for(;(r=t+n*++o)>e;)a.push(r/i);else for(;(r=t+n*++o)<e;)a.push(r/i);return a},eo.map=function(t,e){var n=new s;if(t instanceof s)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,a=-1,i=t.length;if(1===arguments.length)for(;++a<i;)n.set(a,t[a]);else for(;++a<i;)n.set(e.call(t,r=t[a],a),r)}else for(var o in t)n.set(o,t[o]);return n};var vo=\"__proto__\",go=\"\\x00\";u(s,{has:d,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:h,keys:p,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:f(e),value:this._[e]});return t},size:v,empty:g,forEach:function(t){for(var e in this._)t.call(this,f(e),this._[e])}}),eo.nest=function(){function t(e,o,l){if(l>=i.length)return r?r.call(a,o):n?o.sort(n):o;for(var u,c,f,d,h=-1,p=o.length,v=i[l++],g=new s;++h<p;)(d=g.get(u=v(c=o[h])))?d.push(c):g.set(u,[c]);return e?(c=e(),f=function(n,r){c.set(n,t(e,r,l))}):(c={},f=function(n,r){c[n]=t(e,r,l)}),g.forEach(f),c}function e(t,n){if(n>=i.length)return t;var r=[],a=o[n++];return t.forEach(function(t,a){r.push({key:t,values:e(a,n)})}),a?r.sort(function(t,e){return a(t.key,e.key)}):r}var n,r,a={},i=[],o=[];return a.map=function(e,n){return t(n,e,0)},a.entries=function(n){return e(t(eo.map,n,0),0)},a.key=function(t){return i.push(t),a},a.sortKeys=function(t){return o[i.length-1]=t,a},a.sortValues=function(t){return n=t,a},a.rollup=function(t){return r=t,a},a},eo.set=function(t){var e=new y;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e},u(y,{has:d,add:function(t){return this._[c(t+=\"\")]=!0,t},remove:h,values:p,size:v,empty:g,forEach:function(t){for(var e in this._)t.call(this,f(e))}}),eo.behavior={},eo.rebind=function(t,e){for(var n,r=1,a=arguments.length;++r<a;)t[n=arguments[r]]=V(t,e,e[n]);return t};var yo=[\"webkit\",\"ms\",\"moz\",\"Moz\",\"o\",\"O\"];eo.dispatch=function(){for(var t=new x,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=M(t);return t},x.prototype.on=function(t,e){var n=t.indexOf(\".\"),r=\"\";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},eo.event=null,eo.requote=function(t){return t.replace(mo,\"\\\\$&\")};var mo=/[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g,Vo={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},bo=function(t,e){return e.querySelector(t)},wo=function(t,e){return e.querySelectorAll(t)},xo=function(t,e){var n=t.matches||t[b(t,\"matchesSelector\")];return(xo=function(t,e){return n.call(t,e)})(t,e)};\"function\"==typeof Sizzle&&(bo=function(t,e){return Sizzle(t,e)[0]||null},wo=Sizzle,xo=Sizzle.matchesSelector),eo.selection=function(){return eo.select(ao.documentElement)};var Mo=eo.selection.prototype=[];Mo.select=function(t){var e,n,r,a,i=[];t=C(t);for(var o=-1,l=this.length;++o<l;){i.push(e=[]),e.parentNode=(r=this[o]).parentNode;for(var u=-1,s=r.length;++u<s;)(a=r[u])?(e.push(n=t.call(a,a.__data__,u,o)),n&&\"__data__\"in a&&(n.__data__=a.__data__)):e.push(null)}return A(i)},Mo.selectAll=function(t){var e,n,r=[];t=T(t);for(var a=-1,i=this.length;++a<i;)for(var o=this[a],l=-1,u=o.length;++l<u;)(n=o[l])&&(r.push(e=ro(t.call(n,n.__data__,l,a))),e.parentNode=n);return A(r)};var _o={svg:\"http://www.w3.org/2000/svg\",xhtml:\"http://www.w3.org/1999/xhtml\",xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"};eo.ns={prefix:_o,qualify:function(t){var e=t.indexOf(\":\"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),_o.hasOwnProperty(n)?{space:_o[n],local:t}:t}},Mo.attr=function(t,e){if(arguments.length<2){if(\"string\"==typeof t){var n=this.node();return t=eo.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(N(e,t[e]));return this}return this.each(N(t,e))},Mo.classed=function(t,e){if(arguments.length<2){if(\"string\"==typeof t){var n=this.node(),r=(t=F(t)).length,a=-1;if(e=n.classList){for(;++a<r;)if(!e.contains(t[a]))return!1}else for(e=n.getAttribute(\"class\");++a<r;)if(!O(t[a]).test(e))return!1;return!0}for(e in t)this.each(R(e,t[e]));return this}return this.each(R(t,e))},Mo.style=function(t,n,r){var a=arguments.length;if(3>a){if(\"string\"!=typeof t){2>a&&(n=\"\");for(r in t)this.each(P(r,t[r],n));return this}if(2>a){var i=this.node();return e(i).getComputedStyle(i,null).getPropertyValue(t)}r=\"\"}return this.each(P(t,n,r))},Mo.property=function(t,e){if(arguments.length<2){if(\"string\"==typeof t)return this.node()[t];for(e in t)this.each(j(e,t[e]));return this}return this.each(j(t,e))},Mo.text=function(t){return arguments.length?this.each(\"function\"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?\"\":e}:null==t?function(){this.textContent=\"\"}:function(){this.textContent=t}):this.node().textContent},Mo.html=function(t){return arguments.length?this.each(\"function\"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?\"\":e}:null==t?function(){this.innerHTML=\"\"}:function(){this.innerHTML=t}):this.node().innerHTML},Mo.append=function(t){return t=q(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Mo.insert=function(t,e){return t=q(t),e=C(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Mo.remove=function(){return this.each(D)},Mo.data=function(t,e){function n(t,n){var r,a,i,o=t.length,f=n.length,d=Math.min(o,f),h=new Array(f),p=new Array(f),v=new Array(o);if(e){var g,y=new s,m=new Array(o);for(r=-1;++r<o;)y.has(g=e.call(a=t[r],a.__data__,r))?v[r]=a:y.set(g,a),m[r]=g;for(r=-1;++r<f;)(a=y.get(g=e.call(n,i=n[r],r)))?a!==!0&&(h[r]=a,a.__data__=i):p[r]=B(i),y.set(g,!0);for(r=-1;++r<o;)y.get(m[r])!==!0&&(v[r]=t[r])}else{for(r=-1;++r<d;)a=t[r],i=n[r],a?(a.__data__=i,h[r]=a):p[r]=B(i);for(;f>r;++r)p[r]=B(n[r]);for(;o>r;++r)v[r]=t[r]}p.update=h,p.parentNode=h.parentNode=v.parentNode=t.parentNode,l.push(p),u.push(h),c.push(v)}var r,a,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(r=this[0]).length);++i<o;)(a=r[i])&&(t[i]=a.__data__);return t}var l=H([]),u=A([]),c=A([]);if(\"function\"==typeof t)for(;++i<o;)n(r=this[i],t.call(r,r.parentNode.__data__,i));else for(;++i<o;)n(r=this[i],t);return u.enter=function(){return l},u.exit=function(){return c},u},Mo.datum=function(t){return arguments.length?this.property(\"__data__\",t):this.property(\"__data__\")},Mo.filter=function(t){var e,n,r,a=[];\"function\"!=typeof t&&(t=I(t));for(var i=0,o=this.length;o>i;i++){a.push(e=[]),e.parentNode=(n=this[i]).parentNode;for(var l=0,u=n.length;u>l;l++)(r=n[l])&&t.call(r,r.__data__,l,i)&&e.push(r)}return A(a)},Mo.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],a=r.length-1,i=r[a];--a>=0;)(n=r[a])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},Mo.sort=function(t){t=z.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Mo.each=function(t){return U(this,function(e,n,r){t.call(e,e.__data__,n,r)})},Mo.call=function(t){var e=ro(arguments);return t.apply(e[0]=this,e),this},Mo.empty=function(){return!this.node()},Mo.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,a=n.length;a>r;r++){var i=n[r];if(i)return i}return null},Mo.size=function(){var t=0;return U(this,function(){++t}),t};var So=[];eo.selection.enter=H,eo.selection.enter.prototype=So,So.append=Mo.append,So.empty=Mo.empty,So.node=Mo.node,So.call=Mo.call,So.size=Mo.size,So.select=function(t){for(var e,n,r,a,i,o=[],l=-1,u=this.length;++l<u;){r=(a=this[l]).update,o.push(e=[]),e.parentNode=a.parentNode;for(var s=-1,c=a.length;++s<c;)(i=a[s])?(e.push(r[s]=n=t.call(a.parentNode,i.__data__,s,l)),n.__data__=i.__data__):e.push(null)}return A(o)},So.insert=function(t,e){return arguments.length<2&&(e=K(this)),Mo.insert.call(this,t,e)},eo.select=function(e){var n;return\"string\"==typeof e?(n=[bo(e,ao)],n.parentNode=ao.documentElement):(n=[e],n.parentNode=t(e)),A([n])},eo.selectAll=function(t){var e;return\"string\"==typeof t?(e=ro(wo(t,ao)),e.parentNode=ao.documentElement):(e=t,e.parentNode=null),A([e])},Mo.on=function(t,e,n){var r=arguments.length;if(3>r){if(\"string\"!=typeof t){2>r&&(e=!1);for(n in t)this.each(Y(n,t[n],e));return this}if(2>r)return(r=this.node()[\"__on\"+t])&&r._;n=!1}return this.each(Y(t,e,n))};var ko=eo.map({mouseenter:\"mouseover\",mouseleave:\"mouseout\"});ao&&ko.forEach(function(t){\"on\"+t in ao&&ko.remove(t)});var Ao,Co=0;eo.mouse=function(t){return Z(t,S())};var To=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;eo.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=S().changedTouches),e)for(var r,a=0,i=e.length;i>a;++a)if((r=e[a]).identifier===n)return Z(t,r)},eo.behavior.drag=function(){function t(){this.on(\"mousedown.drag\",i).on(\"touchstart.drag\",o)}function n(t,e,n,i,o){return function(){function l(){var t,n,r=e(d,v);r&&(t=r[0]-V[0],n=r[1]-V[1],p|=t|n,V=r,h({type:\"drag\",x:r[0]+s[0],y:r[1]+s[1],dx:t,dy:n}))}function u(){e(d,v)&&(y.on(i+g,null).on(o+g,null),m(p&&eo.event.target===f),h({type:\"dragend\"}))}var s,c=this,f=eo.event.target,d=c.parentNode,h=r.of(c,arguments),p=0,v=t(),g=\".drag\"+(null==v?\"\":\"-\"+v),y=eo.select(n(f)).on(i+g,l).on(o+g,u),m=W(f),V=e(d,v);a?(s=a.apply(c,arguments),s=[s.x-V[0],s.y-V[1]]):s=[0,0],h({type:\"dragstart\"})}}var r=k(t,\"drag\",\"dragstart\",\"dragend\"),a=null,i=n(w,eo.mouse,e,\"mousemove\",\"mouseup\"),o=n($,eo.touch,m,\"touchmove\",\"touchend\");return t.origin=function(e){return arguments.length?(a=e,t):a},eo.rebind(t,r,\"on\")},eo.touches=function(t,e){return arguments.length<2&&(e=S().touches),e?ro(e).map(function(e){var n=Z(t,e);return n.identifier=e.identifier,n}):[]};var No=1e-6,Eo=No*No,Oo=Math.PI,Fo=2*Oo,Ro=Fo-No,Lo=Oo/2,Po=Oo/180,jo=180/Oo,qo=Math.SQRT2,Do=2,Bo=4;eo.interpolateZoom=function(t,e){function n(t){var e=t*m;if(y){var n=rt(v),o=i/(Do*d)*(n*at(qo*e+v)-nt(v));return[r+o*s,a+o*c,i*n/rt(qo*e+v)]}return[r+t*s,a+t*c,i*Math.exp(qo*e)]}var r=t[0],a=t[1],i=t[2],o=e[0],l=e[1],u=e[2],s=o-r,c=l-a,f=s*s+c*c,d=Math.sqrt(f),h=(u*u-i*i+Bo*f)/(2*i*Do*d),p=(u*u-i*i-Bo*f)/(2*u*Do*d),v=Math.log(Math.sqrt(h*h+1)-h),g=Math.log(Math.sqrt(p*p+1)-p),y=g-v,m=(y||Math.log(u/i))/qo;return n.duration=1e3*m,n},eo.behavior.zoom=function(){function t(t){t.on(E,f).on(zo+\".zoom\",h).on(\"dblclick.zoom\",p).on(R,d)}function n(t){return[(t[0]-S.x)/S.k,(t[1]-S.y)/S.k]}function r(t){return[t[0]*S.k+S.x,t[1]*S.k+S.y]}function a(t){S.k=Math.max(C[0],Math.min(C[1],t))}function i(t,e){e=r(e),S.x+=t[0]-e[0],S.y+=t[1]-e[1]}function o(e,n,r,o){e.__chart__={x:S.x,y:S.y,k:S.k},a(Math.pow(2,o)),i(g=n,r),e=eo.select(e),T>0&&(e=e.transition().duration(T)),e.call(t.event)}function l(){w&&w.domain(b.range().map(function(t){return(t-S.x)/S.k}).map(b.invert)),M&&M.domain(x.range().map(function(t){return(t-S.y)/S.k}).map(x.invert))}function u(t){N++||t({type:\"zoomstart\"})}function s(t){l(),t({type:\"zoom\",scale:S.k,translate:[S.x,S.y]})}function c(t){--N||t({type:\"zoomend\"}),g=null}function f(){function t(){f=1,i(eo.mouse(a),h),s(l)}function r(){d.on(O,null).on(F,null),p(f&&eo.event.target===o),c(l)}var a=this,o=eo.event.target,l=L.of(a,arguments),f=0,d=eo.select(e(a)).on(O,t).on(F,r),h=n(eo.mouse(a)),p=W(a);Pu.call(a),u(l)}function d(){function t(){var t=eo.touches(p);return h=S.k,t.forEach(function(t){t.identifier in g&&(g[t.identifier]=n(t))}),t}function e(){var e=eo.event.target;eo.select(e).on(b,r).on(w,l),x.push(e);for(var n=eo.event.changedTouches,a=0,i=n.length;i>a;++a)g[n[a].identifier]=null;var u=t(),s=Date.now();if(1===u.length){if(500>s-V){var c=u[0];o(p,c,g[c.identifier],Math.floor(Math.log(S.k)/Math.LN2)+1),_()}V=s}else if(u.length>1){var c=u[0],f=u[1],d=c[0]-f[0],h=c[1]-f[1];y=d*d+h*h}}function r(){var t,e,n,r,o=eo.touches(p);Pu.call(p);for(var l=0,u=o.length;u>l;++l,r=null)if(n=o[l],r=g[n.identifier]){if(e)break;t=n,e=r}if(r){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,f=y&&Math.sqrt(c/y);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],a(f*h)}V=null,i(t,e),s(v)}function l(){if(eo.event.touches.length){for(var e=eo.event.changedTouches,n=0,r=e.length;r>n;++n)delete g[e[n].identifier];for(var a in g)return void t()}eo.selectAll(x).on(m,null),M.on(E,f).on(R,d),k(),c(v)}var h,p=this,v=L.of(p,arguments),g={},y=0,m=\".zoom-\"+eo.event.changedTouches[0].identifier,b=\"touchmove\"+m,w=\"touchend\"+m,x=[],M=eo.select(p),k=W(p);e(),u(v),M.on(E,null).on(R,e)}function h(){var t=L.of(this,arguments);m?clearTimeout(m):(v=n(g=y||eo.mouse(this)),Pu.call(this),u(t)),m=setTimeout(function(){m=null,c(t)},50),_(),\na(Math.pow(2,.002*Io())*S.k),i(g,v),s(t)}function p(){var t=eo.mouse(this),e=Math.log(S.k)/Math.LN2;o(this,t,n(t),eo.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var v,g,y,m,V,b,w,x,M,S={x:0,y:0,k:1},A=[960,500],C=Uo,T=250,N=0,E=\"mousedown.zoom\",O=\"mousemove.zoom\",F=\"mouseup.zoom\",R=\"touchstart.zoom\",L=k(t,\"zoomstart\",\"zoom\",\"zoomend\");return zo||(zo=\"onwheel\"in ao?(Io=function(){return-eo.event.deltaY*(eo.event.deltaMode?120:1)},\"wheel\"):\"onmousewheel\"in ao?(Io=function(){return eo.event.wheelDelta},\"mousewheel\"):(Io=function(){return-eo.event.detail},\"MozMousePixelScroll\")),t.event=function(t){t.each(function(){var t=L.of(this,arguments),e=S;Ru?eo.select(this).transition().each(\"start.zoom\",function(){S=this.__chart__||{x:0,y:0,k:1},u(t)}).tween(\"zoom:zoom\",function(){var n=A[0],r=A[1],a=g?g[0]:n/2,i=g?g[1]:r/2,o=eo.interpolateZoom([(a-S.x)/S.k,(i-S.y)/S.k,n/S.k],[(a-e.x)/e.k,(i-e.y)/e.k,n/e.k]);return function(e){var r=o(e),l=n/r[2];this.__chart__=S={x:a-r[0]*l,y:i-r[1]*l,k:l},s(t)}}).each(\"interrupt.zoom\",function(){c(t)}).each(\"end.zoom\",function(){c(t)}):(this.__chart__=S,u(t),s(t),c(t))})},t.translate=function(e){return arguments.length?(S={x:+e[0],y:+e[1],k:S.k},l(),t):[S.x,S.y]},t.scale=function(e){return arguments.length?(S={x:S.x,y:S.y,k:+e},l(),t):S.k},t.scaleExtent=function(e){return arguments.length?(C=null==e?Uo:[+e[0],+e[1]],t):C},t.center=function(e){return arguments.length?(y=e&&[+e[0],+e[1]],t):y},t.size=function(e){return arguments.length?(A=e&&[+e[0],+e[1]],t):A},t.duration=function(e){return arguments.length?(T=+e,t):T},t.x=function(e){return arguments.length?(w=e,b=e.copy(),S={x:0,y:0,k:1},t):w},t.y=function(e){return arguments.length?(M=e,x=e.copy(),S={x:0,y:0,k:1},t):M},eo.rebind(t,L,\"on\")};var Io,zo,Uo=[0,1/0];eo.color=ot,ot.prototype.toString=function(){return this.rgb()+\"\"},eo.hsl=lt;var Ho=lt.prototype=new ot;Ho.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new lt(this.h,this.s,this.l/t)},Ho.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new lt(this.h,this.s,t*this.l)},Ho.rgb=function(){return ut(this.h,this.s,this.l)},eo.hcl=st;var Ko=st.prototype=new ot;Ko.brighter=function(t){return new st(this.h,this.c,Math.min(100,this.l+Yo*(arguments.length?t:1)))},Ko.darker=function(t){return new st(this.h,this.c,Math.max(0,this.l-Yo*(arguments.length?t:1)))},Ko.rgb=function(){return ct(this.h,this.c,this.l).rgb()},eo.lab=ft;var Yo=18,Jo=.95047,Go=1,Wo=1.08883,Zo=ft.prototype=new ot;Zo.brighter=function(t){return new ft(Math.min(100,this.l+Yo*(arguments.length?t:1)),this.a,this.b)},Zo.darker=function(t){return new ft(Math.max(0,this.l-Yo*(arguments.length?t:1)),this.a,this.b)},Zo.rgb=function(){return dt(this.l,this.a,this.b)},eo.rgb=yt;var $o=yt.prototype=new ot;$o.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,a=30;return e||n||r?(e&&a>e&&(e=a),n&&a>n&&(n=a),r&&a>r&&(r=a),new yt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new yt(a,a,a)},$o.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new yt(t*this.r,t*this.g,t*this.b)},$o.hsl=function(){return xt(this.r,this.g,this.b)},$o.toString=function(){return\"#\"+bt(this.r)+bt(this.g)+bt(this.b)};var Xo=eo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Xo.forEach(function(t,e){Xo.set(t,mt(e))}),eo.functor=kt,eo.xhr=At(m),eo.dsv=function(t,e){function n(t,n,i){arguments.length<3&&(i=n,n=null);var o=Ct(t,e,null==n?r:a(n),i);return o.row=function(t){return arguments.length?o.response(null==(n=t)?r:a(t)):n},o}function r(t){return n.parse(t.responseText)}function a(t){return function(e){return n.parse(e.responseText,t)}}function i(e){return e.map(o).join(t)}function o(t){return l.test(t)?'\"'+t.replace(/\\\"/g,'\"\"')+'\"':t}var l=new RegExp('[\"'+t+\"\\n]\"),u=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var a=new Function(\"d\",\"return {\"+t.map(function(t,e){return JSON.stringify(t)+\": d[\"+e+\"]\"}).join(\",\")+\"}\");r=e?function(t,n){return e(a(t),n)}:a})},n.parseRows=function(t,e){function n(){if(c>=s)return o;if(a)return a=!1,i;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<s;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(a=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(a=!0),t.slice(e+1,n).replace(/\"\"/g,'\"')}for(;s>c;){var r=t.charCodeAt(c++),l=1;if(10===r)a=!0;else if(13===r)a=!0,10===t.charCodeAt(c)&&(++c,++l);else if(r!==u)continue;return t.slice(e,c-l)}return t.slice(e)}for(var r,a,i={},o={},l=[],s=t.length,c=0,f=0;(r=n())!==o;){for(var d=[];r!==i&&r!==o;)d.push(r),r=n();e&&null==(d=e(d,f++))||l.push(d)}return l},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new y,a=[];return e.forEach(function(t){for(var e in t)r.has(e)||a.push(r.add(e))}),[a.map(o).join(t)].concat(e.map(function(e){return a.map(function(t){return o(e[t])}).join(t)})).join(\"\\n\")},n.formatRows=function(t){return t.map(i).join(\"\\n\")},n},eo.csv=eo.dsv(\",\",\"text/csv\"),eo.tsv=eo.dsv(\"\t\",\"text/tab-separated-values\");var Qo,tl,el,nl,rl,al=this[b(this,\"requestAnimationFrame\")]||function(t){setTimeout(t,17)};eo.timer=function(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now());var a=n+e,i={c:t,t:a,f:!1,n:null};tl?tl.n=i:Qo=i,tl=i,el||(nl=clearTimeout(nl),el=1,al(Et))},eo.timer.flush=function(){Ot(),Ft()},eo.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var il=[\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"].map(Lt);eo.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=eo.round(t,Rt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),il[8+n/3]};var ol=/(?:([^{])?([<>=^]))?([+\\- ])?([$#])?(0)?(\\d+)?(,)?(\\.-?\\d+)?([a-z%])?/i,ll=eo.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=eo.round(t,Rt(t,e))).toFixed(Math.max(0,Math.min(20,Rt(t*(1+1e-15),e))))}}),ul=eo.time={},sl=Date;qt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){cl.setUTCDate.apply(this._,arguments)},setDay:function(){cl.setUTCDay.apply(this._,arguments)},setFullYear:function(){cl.setUTCFullYear.apply(this._,arguments)},setHours:function(){cl.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){cl.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){cl.setUTCMinutes.apply(this._,arguments)},setMonth:function(){cl.setUTCMonth.apply(this._,arguments)},setSeconds:function(){cl.setUTCSeconds.apply(this._,arguments)},setTime:function(){cl.setTime.apply(this._,arguments)}};var cl=Date.prototype;ul.year=Dt(function(t){return t=ul.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ul.years=ul.year.range,ul.years.utc=ul.year.utc.range,ul.day=Dt(function(t){var e=new sl(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ul.days=ul.day.range,ul.days.utc=ul.day.utc.range,ul.dayOfYear=function(t){var e=ul.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},[\"sunday\",\"monday\",\"tuesday\",\"wednesday\",\"thursday\",\"friday\",\"saturday\"].forEach(function(t,e){e=7-e;var n=ul[t]=Dt(function(t){return(t=ul.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ul.year(t).getDay();return Math.floor((ul.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ul[t+\"s\"]=n.range,ul[t+\"s\"].utc=n.utc.range,ul[t+\"OfYear\"]=function(t){var n=ul.year(t).getDay();return Math.floor((ul.dayOfYear(t)+(n+e)%7)/7)}}),ul.week=ul.sunday,ul.weeks=ul.sunday.range,ul.weeks.utc=ul.sunday.utc.range,ul.weekOfYear=ul.sundayOfYear;var fl={\"-\":\"\",_:\" \",0:\"0\"},dl=/^\\s*\\d+/,hl=/^%/;eo.locale=function(t){return{numberFormat:Pt(t),timeFormat:It(t)}};var pl=eo.locale({decimal:\".\",thousands:\",\",grouping:[3],currency:[\"$\",\"\"],dateTime:\"%a %b %e %X %Y\",date:\"%m/%d/%Y\",time:\"%H:%M:%S\",periods:[\"AM\",\"PM\"],days:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],shortDays:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],shortMonths:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"]});eo.format=pl.numberFormat,eo.geo={},ue.prototype={s:0,t:0,add:function(t){se(t,this.t,vl),se(vl.s,this.s,this),this.s?this.t+=vl.t:this.s=vl.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var vl=new ue;eo.geo.stream=function(t,e){t&&gl.hasOwnProperty(t.type)?gl[t.type](t,e):ce(t,e)};var gl={Feature:function(t,e){ce(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,a=n.length;++r<a;)ce(n[r].geometry,e)}},yl={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){fe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)fe(n[r],e,0)},Polygon:function(t,e){de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)de(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,a=n.length;++r<a;)ce(n[r],e)}};eo.geo.area=function(t){return ml=0,eo.geo.stream(t,bl),ml};var ml,Vl=new ue,bl={sphere:function(){ml+=4*Oo},point:w,lineStart:w,lineEnd:w,polygonStart:function(){Vl.reset(),bl.lineStart=he},polygonEnd:function(){var t=2*Vl;ml+=0>t?4*Oo+t:t,bl.lineStart=bl.lineEnd=bl.point=w}};eo.geo.bounds=function(){function t(t,e){V.push(b=[c=t,d=t]),f>e&&(f=e),e>h&&(h=e)}function e(e,n){var r=pe([e*Po,n*Po]);if(y){var a=ge(y,r),i=[a[1],-a[0],0],o=ge(i,a);Ve(o),o=be(o);var u=e-p,s=u>0?1:-1,v=o[0]*jo*s,g=po(u)>180;if(g^(v>s*p&&s*e>v)){var m=o[1]*jo;m>h&&(h=m)}else if(v=(v+360)%360-180,g^(v>s*p&&s*e>v)){var m=-o[1]*jo;f>m&&(f=m)}else f>n&&(f=n),n>h&&(h=n);g?p>e?l(c,e)>l(c,d)&&(d=e):l(e,d)>l(c,d)&&(c=e):d>=c?(c>e&&(c=e),e>d&&(d=e)):e>p?l(c,e)>l(c,d)&&(d=e):l(e,d)>l(c,d)&&(c=e)}else t(e,n);y=r,p=e}function n(){w.point=e}function r(){b[0]=c,b[1]=d,w.point=t,y=null}function a(t,n){if(y){var r=t-p;m+=po(r)>180?r+(r>0?360:-360):r}else v=t,g=n;bl.point(t,n),e(t,n)}function i(){bl.lineStart()}function o(){a(v,g),bl.lineEnd(),po(m)>No&&(c=-(d=180)),b[0]=c,b[1]=d,y=null}function l(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function s(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,f,d,h,p,v,g,y,m,V,b,w={point:t,lineStart:n,lineEnd:r,polygonStart:function(){w.point=a,w.lineStart=i,w.lineEnd=o,m=0,bl.polygonStart()},polygonEnd:function(){bl.polygonEnd(),w.point=t,w.lineStart=n,w.lineEnd=r,0>Vl?(c=-(d=180),f=-(h=90)):m>No?h=90:-No>m&&(f=-90),b[0]=c,b[1]=d}};return function(t){h=d=-(c=f=1/0),V=[],eo.geo.stream(t,w);var e=V.length;if(e){V.sort(u);for(var n,r=1,a=V[0],i=[a];e>r;++r)n=V[r],s(n[0],a)||s(n[1],a)?(l(a[0],n[1])>l(a[0],a[1])&&(a[1]=n[1]),l(n[0],a[1])>l(a[0],a[1])&&(a[0]=n[0])):i.push(a=n);for(var o,n,p=-1/0,e=i.length-1,r=0,a=i[e];e>=r;a=n,++r)n=i[r],(o=l(a[1],n[0]))>p&&(p=o,c=n[0],d=a[1])}return V=b=null,1/0===c||1/0===f?[[NaN,NaN],[NaN,NaN]]:[[c,f],[d,h]]}}(),eo.geo.centroid=function(t){wl=xl=Ml=_l=Sl=kl=Al=Cl=Tl=Nl=El=0,eo.geo.stream(t,Ol);var e=Tl,n=Nl,r=El,a=e*e+n*n+r*r;return Eo>a&&(e=kl,n=Al,r=Cl,No>xl&&(e=Ml,n=_l,r=Sl),a=e*e+n*n+r*r,Eo>a)?[NaN,NaN]:[Math.atan2(n,e)*jo,et(r/Math.sqrt(a))*jo]};var wl,xl,Ml,_l,Sl,kl,Al,Cl,Tl,Nl,El,Ol={sphere:w,point:xe,lineStart:_e,lineEnd:Se,polygonStart:function(){Ol.lineStart=ke},polygonEnd:function(){Ol.lineStart=_e}},Fl=Oe(Ce,Pe,qe,[-Oo,-Oo/2]),Rl=1e9;eo.geo.clipExtent=function(){var t,e,n,r,a,i,o={stream:function(t){return a&&(a.valid=!1),a=i(t),a.valid=!0,a},extent:function(l){return arguments.length?(i=ze(t=+l[0][0],e=+l[0][1],n=+l[1][0],r=+l[1][1]),a&&(a.valid=!1,a=null),o):[[t,e],[n,r]]}};return o.extent([[0,0],[960,500]])},(eo.geo.conicEqualArea=function(){return Ue(He)}).raw=He,eo.geo.albers=function(){return eo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},eo.geo.albersUsa=function(){function t(t){var i=t[0],o=t[1];return e=null,n(i,o),e||(r(i,o),e)||a(i,o),e}var e,n,r,a,i=eo.geo.albers(),o=eo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=eo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,a=(t[1]-n[1])/e;return(a>=.12&&.234>a&&r>=-.425&&-.214>r?o:a>=.166&&.234>a&&r>=-.214&&-.115>r?l:i).invert(t)},t.stream=function(t){var e=i.stream(t),n=o.stream(t),r=l.stream(t);return{point:function(t,a){e.point(t,a),n.point(t,a),r.point(t,a)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(i.precision(e),o.precision(e),l.precision(e),t):i.precision()},t.scale=function(e){return arguments.length?(i.scale(e),o.scale(.35*e),l.scale(e),t.translate(i.translate())):i.scale()},t.translate=function(e){if(!arguments.length)return i.translate();var s=i.scale(),c=+e[0],f=+e[1];return n=i.translate(e).clipExtent([[c-.455*s,f-.238*s],[c+.455*s,f+.238*s]]).stream(u).point,r=o.translate([c-.307*s,f+.201*s]).clipExtent([[c-.425*s+No,f+.12*s+No],[c-.214*s-No,f+.234*s-No]]).stream(u).point,a=l.translate([c-.205*s,f+.212*s]).clipExtent([[c-.214*s+No,f+.166*s+No],[c-.115*s-No,f+.234*s-No]]).stream(u).point,t},t.scale(1070)};var Ll,Pl,jl,ql,Dl,Bl,Il={point:w,lineStart:w,lineEnd:w,polygonStart:function(){Pl=0,Il.lineStart=Ke},polygonEnd:function(){Il.lineStart=Il.lineEnd=Il.point=w,Ll+=po(Pl/2)}},zl={point:Ye,lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w},Ul={point:We,lineStart:Ze,lineEnd:$e,polygonStart:function(){Ul.lineStart=Xe},polygonEnd:function(){Ul.point=We,Ul.lineStart=Ze,Ul.lineEnd=$e}};eo.geo.path=function(){function t(t){return t&&(\"function\"==typeof l&&i.pointRadius(+l.apply(this,arguments)),o&&o.valid||(o=a(i)),eo.geo.stream(t,o)),i.result()}function e(){return o=null,t}var n,r,a,i,o,l=4.5;return t.area=function(t){return Ll=0,eo.geo.stream(t,a(Il)),Ll},t.centroid=function(t){return Ml=_l=Sl=kl=Al=Cl=Tl=Nl=El=0,eo.geo.stream(t,a(Ul)),El?[Tl/El,Nl/El]:Cl?[kl/Cl,Al/Cl]:Sl?[Ml/Sl,_l/Sl]:[NaN,NaN]},t.bounds=function(t){return Dl=Bl=-(jl=ql=1/0),eo.geo.stream(t,a(zl)),[[jl,ql],[Dl,Bl]]},t.projection=function(t){return arguments.length?(a=(n=t)?t.stream||en(t):m,e()):n},t.context=function(t){return arguments.length?(i=null==(r=t)?new Je:new Qe(t),\"function\"!=typeof l&&i.pointRadius(l),e()):r},t.pointRadius=function(e){return arguments.length?(l=\"function\"==typeof e?e:(i.pointRadius(+e),+e),t):l},t.projection(eo.geo.albersUsa()).context(null)},eo.geo.transform=function(t){return{stream:function(e){var n=new nn(e);for(var r in t)n[r]=t[r];return n}}},nn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},eo.geo.projection=an,eo.geo.projectionMutator=on,(eo.geo.equirectangular=function(){return an(un)}).raw=un.invert=un,eo.geo.rotation=function(t){function e(e){return e=t(e[0]*Po,e[1]*Po),e[0]*=jo,e[1]*=jo,e}return t=cn(t[0]%360*Po,t[1]*Po,t.length>2?t[2]*Po:0),e.invert=function(e){return e=t.invert(e[0]*Po,e[1]*Po),e[0]*=jo,e[1]*=jo,e},e},sn.invert=un,eo.geo.circle=function(){function t(){var t=\"function\"==typeof r?r.apply(this,arguments):r,e=cn(-t[0]*Po,-t[1]*Po,0).invert,a=[];return n(null,null,1,{point:function(t,n){a.push(t=e(t,n)),t[0]*=jo,t[1]*=jo}}),{type:\"Polygon\",coordinates:[a]}}var e,n,r=[0,0],a=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=pn((e=+r)*Po,a*Po),t):e},t.precision=function(r){return arguments.length?(n=pn(e*Po,(a=+r)*Po),t):a},t.angle(90)},eo.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Po,a=t[1]*Po,i=e[1]*Po,o=Math.sin(r),l=Math.cos(r),u=Math.sin(a),s=Math.cos(a),c=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((n=f*o)*n+(n=s*c-u*f*l)*n),u*c+s*f*l)},eo.geo.graticule=function(){function t(){return{type:\"MultiLineString\",coordinates:e()}}function e(){return eo.range(Math.ceil(i/g)*g,a,g).map(d).concat(eo.range(Math.ceil(s/y)*y,u,y).map(h)).concat(eo.range(Math.ceil(r/p)*p,n,p).filter(function(t){return po(t%g)>No}).map(c)).concat(eo.range(Math.ceil(l/v)*v,o,v).filter(function(t){return po(t%y)>No}).map(f))}var n,r,a,i,o,l,u,s,c,f,d,h,p=10,v=p,g=90,y=360,m=2.5;return t.lines=function(){return e().map(function(t){return{type:\"LineString\",coordinates:t}})},t.outline=function(){return{type:\"Polygon\",coordinates:[d(i).concat(h(u).slice(1),d(a).reverse().slice(1),h(s).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(i=+e[0][0],a=+e[1][0],s=+e[0][1],u=+e[1][1],i>a&&(e=i,i=a,a=e),s>u&&(e=s,s=u,u=e),t.precision(m)):[[i,s],[a,u]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],l=+e[0][1],o=+e[1][1],r>n&&(e=r,r=n,n=e),l>o&&(e=l,l=o,o=e),t.precision(m)):[[r,l],[n,o]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(g=+e[0],y=+e[1],t):[g,y]},t.minorStep=function(e){return arguments.length?(p=+e[0],v=+e[1],t):[p,v]},t.precision=function(e){return arguments.length?(m=+e,c=gn(l,o,90),f=yn(r,n,m),d=gn(s,u,90),h=yn(i,a,m),t):m},t.majorExtent([[-180,-90+No],[180,90-No]]).minorExtent([[-180,-80-No],[180,80+No]])},eo.geo.greatArc=function(){function t(){return{type:\"LineString\",coordinates:[e||r.apply(this,arguments),n||a.apply(this,arguments)]}}var e,n,r=mn,a=Vn;return t.distance=function(){return eo.geo.distance(e||r.apply(this,arguments),n||a.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e=\"function\"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(a=e,n=\"function\"==typeof e?null:e,t):a},t.precision=function(){return arguments.length?t:0},t},eo.geo.interpolate=function(t,e){return bn(t[0]*Po,t[1]*Po,e[0]*Po,e[1]*Po)},eo.geo.length=function(t){return Hl=0,eo.geo.stream(t,Kl),Hl};var Hl,Kl={sphere:w,point:w,lineStart:wn,lineEnd:w,polygonStart:w,polygonEnd:w},Yl=xn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(eo.geo.azimuthalEqualArea=function(){return an(Yl)}).raw=Yl;var Jl=xn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},m);(eo.geo.azimuthalEquidistant=function(){return an(Jl)}).raw=Jl,(eo.geo.conicConformal=function(){return Ue(Mn)}).raw=Mn,(eo.geo.conicEquidistant=function(){return Ue(_n)}).raw=_n;var Gl=xn(function(t){return 1/t},Math.atan);(eo.geo.gnomonic=function(){return an(Gl)}).raw=Gl,Sn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Lo]},(eo.geo.mercator=function(){return kn(Sn)}).raw=Sn;var Wl=xn(function(){return 1},Math.asin);(eo.geo.orthographic=function(){return an(Wl)}).raw=Wl;var Zl=xn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(eo.geo.stereographic=function(){return an(Zl)}).raw=Zl,An.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Lo]},(eo.geo.transverseMercator=function(){var t=kn(An),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=An,eo.geom={},eo.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,a=kt(n),i=kt(r),o=t.length,l=[],u=[];for(e=0;o>e;e++)l.push([+a.call(this,t[e],e),+i.call(this,t[e],e),e]);for(l.sort(En),e=0;o>e;e++)u.push([l[e][0],-l[e][1]]);var s=Nn(l),c=Nn(u),f=c[0]===s[0],d=c[c.length-1]===s[s.length-1],h=[];for(e=s.length-1;e>=0;--e)h.push(t[l[s[e]][2]]);for(e=+f;e<c.length-d;++e)h.push(t[l[c[e]][2]]);return h}var n=Cn,r=Tn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},eo.geom.polygon=function(t){return Vo(t,$l),t};var $l=eo.geom.polygon.prototype=[];$l.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],a=0;++e<n;)t=r,r=this[e],a+=t[1]*r[0]-t[0]*r[1];return.5*a},$l.centroid=function(t){var e,n,r=-1,a=this.length,i=0,o=0,l=this[a-1];for(arguments.length||(t=-1/(6*this.area()));++r<a;)e=l,l=this[r],n=e[0]*l[1]-l[0]*e[1],i+=(e[0]+l[0])*n,o+=(e[1]+l[1])*n;return[i*t,o*t]},$l.clip=function(t){for(var e,n,r,a,i,o,l=Rn(t),u=-1,s=this.length-Rn(this),c=this[s-1];++u<s;){for(e=t.slice(),t.length=0,a=this[u],i=e[(r=e.length-l)-1],n=-1;++n<r;)o=e[n],On(o,c,a)?(On(i,c,a)||t.push(Fn(i,o,c,a)),t.push(o)):On(i,c,a)&&t.push(Fn(i,o,c,a)),i=o;l&&t.push(t[0]),c=a}return t};var Xl,Ql,tu,eu,nu,ru=[],au=[];zn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Hn),e.length},tr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},er.prototype={insert:function(t,e){var n,r,a;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ir(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(a=r.R,a&&a.C?(n.C=a.C=!1,r.C=!0,t=r):(t===n.R&&(rr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ar(this,r))):(a=r.L,a&&a.C?(n.C=a.C=!1,r.C=!0,t=r):(t===n.L&&(ar(this,n),t=n,n=t.U),n.C=!1,r.C=!0,rr(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,a=t.U,i=t.L,o=t.R;if(n=i?o?ir(o):i:o,a?a.L===t?a.L=n:a.R=n:this._=n,i&&o?(r=n.C,n.C=t.C,n.L=i,i.U=n,n!==o?(a=n.U,n.U=t.U,t=n.R,a.L=t,n.R=o,o.U=n):(n.U=a,a=n,t=n.R)):(r=t.C,t=n),t&&(t.U=a),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===a.L){if(e=a.R,e.C&&(e.C=!1,a.C=!0,rr(this,a),e=a.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ar(this,e),e=a.R),e.C=a.C,a.C=e.R.C=!1,rr(this,a),t=this._;break}}else if(e=a.L,e.C&&(e.C=!1,a.C=!0,ar(this,a),e=a.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,rr(this,e),e=a.L),e.C=a.C,a.C=e.L.C=!1,ar(this,a),t=this._;break}e.C=!0,t=a,a=a.U}while(!t.C);t&&(t.C=!1)}}},eo.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=l[0][0],a=l[0][1],i=l[1][0],o=l[1][1];return or(n(t),l).cells.forEach(function(n,l){var u=n.edges,s=n.site,c=e[l]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):s.x>=r&&s.x<=i&&s.y>=a&&s.y<=o?[[r,o],[i,o],[i,a],[r,a]]:[];c.point=t[l]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(i(t,e)/No)*No,y:Math.round(o(t,e)/No)*No,i:e}})}var r=Cn,a=Tn,i=r,o=a,l=iu;return t?e(t):(e.links=function(t){return or(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return or(n(t)).cells.forEach(function(n,r){for(var a,i,o=n.site,l=n.edges.sort(Hn),u=-1,s=l.length,c=l[s-1].edge,f=c.l===o?c.r:c.l;++u<s;)a=c,i=f,c=l[u].edge,f=c.l===o?c.r:c.l,r<i.i&&r<f.i&&ur(o,i,f)<0&&e.push([t[r],t[i.i],t[f.i]])}),e},e.x=function(t){return arguments.length?(i=kt(r=t),e):r},e.y=function(t){return arguments.length?(o=kt(a=t),e):a},e.clipExtent=function(t){return arguments.length?(l=null==t?iu:t,e):l===iu?null:l},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):l===iu?null:l&&l[1]},e)};var iu=[[-1e6,-1e6],[1e6,1e6]];eo.geom.delaunay=function(t){return eo.geom.voronoi().triangles(t)},eo.geom.quadtree=function(t,e,n,r,a){function i(t){function i(t,e,n,r,a,i,o,l){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(po(u-n)+po(c-r)<.01)s(t,e,n,r,a,i,o,l);else{var f=t.point;t.x=t.y=t.point=null,s(t,f,u,c,a,i,o,l),s(t,e,n,r,a,i,o,l)}else t.x=n,t.y=r,t.point=e}else s(t,e,n,r,a,i,o,l)}function s(t,e,n,r,a,o,l,u){var s=.5*(a+l),c=.5*(o+u),f=n>=s,d=r>=c,h=d<<1|f;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]=fr()),f?a=s:l=s,d?o=c:u=c,i(t,e,n,r,a,o,l,u)}var c,f,d,h,p,v,g,y,m,V=kt(l),b=kt(u);if(null!=e)v=e,g=n,y=r,m=a;else if(y=m=-(v=g=1/0),f=[],d=[],p=t.length,o)for(h=0;p>h;++h)c=t[h],c.x<v&&(v=c.x),c.y<g&&(g=c.y),c.x>y&&(y=c.x),c.y>m&&(m=c.y),f.push(c.x),d.push(c.y);else for(h=0;p>h;++h){var w=+V(c=t[h],h),x=+b(c,h);v>w&&(v=w),g>x&&(g=x),w>y&&(y=w),x>m&&(m=x),f.push(w),d.push(x)}var M=y-v,_=m-g;M>_?m=g+M:y=v+_;var S=fr();if(S.add=function(t){i(S,t,+V(t,++h),+b(t,h),v,g,y,m)},S.visit=function(t){dr(t,S,v,g,y,m)},S.find=function(t){return hr(S,t[0],t[1],v,g,y,m)},h=-1,null==e){for(;++h<p;)i(S,t[h],f[h],d[h],v,g,y,m);--h}else t.forEach(S.add);return f=d=t=c=null,S}var o,l=Cn,u=Tn;return(o=arguments.length)?(l=sr,u=cr,3===o&&(a=n,r=e,n=e=0),i(t)):(i.x=function(t){return arguments.length?(l=t,i):l},i.y=function(t){return arguments.length?(u=t,i):u},i.extent=function(t){return arguments.length?(null==t?e=n=r=a=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],a=+t[1][1]),i):null==e?null:[[e,n],[r,a]]},i.size=function(t){return arguments.length?(null==t?e=n=r=a=null:(e=n=0,r=+t[0],a=+t[1]),i):null==e?null:[r-e,a-n]},i)},eo.interpolateRgb=pr,eo.interpolateObject=vr,eo.interpolateNumber=gr,eo.interpolateString=yr;var ou=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,lu=new RegExp(ou.source,\"g\");eo.interpolate=mr,eo.interpolators=[function(t,e){var n=typeof e;return(\"string\"===n?Xo.has(e)||/^(#|rgb\\(|hsl\\()/.test(e)?pr:yr:e instanceof ot?pr:Array.isArray(e)?Vr:\"object\"===n&&isNaN(e)?vr:gr)(t,e)}],eo.interpolateArray=Vr;var uu=function(){return m},su=eo.map({linear:uu,poly:kr,quad:function(){return Mr},cubic:function(){return _r},sin:function(){return Ar},exp:function(){return Cr},circle:function(){return Tr},elastic:Nr,back:Er,bounce:function(){return Or}}),cu=eo.map({\"in\":m,out:wr,\"in-out\":xr,\"out-in\":function(t){return xr(wr(t))}});eo.ease=function(t){var e=t.indexOf(\"-\"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):\"in\";return n=su.get(n)||uu,r=cu.get(r)||m,br(r(n.apply(null,no.call(arguments,1))))},eo.interpolateHcl=Fr,eo.interpolateHsl=Rr,eo.interpolateLab=Lr,eo.interpolateRound=Pr,eo.transform=function(t){var e=ao.createElementNS(eo.ns.prefix.svg,\"g\");return(eo.transform=function(t){if(null!=t){e.setAttribute(\"transform\",t);var n=e.transform.baseVal.consolidate()}return new jr(n?n.matrix:fu)})(t)},jr.prototype.toString=function(){return\"translate(\"+this.translate+\")rotate(\"+this.rotate+\")skewX(\"+this.skew+\")scale(\"+this.scale+\")\"};var fu={a:1,b:0,c:0,d:1,e:0,f:0};eo.interpolateTransform=Ir,eo.layout={},eo.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Hr(t[n]));return e}},eo.layout.chord=function(){function t(){var t,s,f,d,h,p={},v=[],g=eo.range(i),y=[];for(n=[],r=[],t=0,d=-1;++d<i;){for(s=0,h=-1;++h<i;)s+=a[d][h];v.push(s),y.push(eo.range(i)),t+=s}for(o&&g.sort(function(t,e){return o(v[t],v[e])}),l&&y.forEach(function(t,e){t.sort(function(t,n){return l(a[e][t],a[e][n])})}),t=(Fo-c*i)/t,s=0,d=-1;++d<i;){for(f=s,h=-1;++h<i;){var m=g[d],V=y[m][h],b=a[m][V],w=s,x=s+=b*t;p[m+\"-\"+V]={index:m,subindex:V,startAngle:w,endAngle:x,value:b}}r[m]={index:m,startAngle:f,endAngle:s,value:(s-f)/t},s+=c}for(d=-1;++d<i;)for(h=d-1;++h<i;){var M=p[d+\"-\"+h],_=p[h+\"-\"+d];(M.value||_.value)&&n.push(M.value<_.value?{source:_,target:M}:{source:M,target:_})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,a,i,o,l,u,s={},c=0;return s.matrix=function(t){return arguments.length?(i=(a=t)&&a.length,n=r=null,s):a},s.padding=function(t){return arguments.length?(c=t,n=r=null,s):c},s.sortGroups=function(t){return arguments.length?(o=t,n=r=null,s):o},s.sortSubgroups=function(t){return arguments.length?(l=t,n=null,s):l},s.sortChords=function(t){return arguments.length?(u=t,n&&e(),s):u},s.chords=function(){return n||t(),n},s.groups=function(){return r||t(),r},s},eo.layout.force=function(){function t(t){return function(e,n,r,a){if(e.point!==t){var i=e.cx-t.x,o=e.cy-t.y,l=a-n,u=i*i+o*o;if(u>l*l/g){if(p>u){var s=e.charge/u;t.px-=i*s,t.py-=o*s}return!0}if(e.point&&u&&p>u){var s=e.pointCharge/u;t.px-=i*s,t.py-=o*s}\n}return!e.charge}}function e(t){t.px=eo.event.x,t.py=eo.event.y,l.resume()}var n,r,a,i,o,l={},u=eo.dispatch(\"start\",\"tick\",\"end\"),s=[1,1],c=.9,f=du,d=hu,h=-30,p=pu,v=.1,g=.64,y=[],V=[];return l.tick=function(){if((r*=.99)<.005)return u.end({type:\"end\",alpha:r=0}),!0;var e,n,l,f,d,p,g,m,b,w=y.length,x=V.length;for(n=0;x>n;++n)l=V[n],f=l.source,d=l.target,m=d.x-f.x,b=d.y-f.y,(p=m*m+b*b)&&(p=r*i[n]*((p=Math.sqrt(p))-a[n])/p,m*=p,b*=p,d.x-=m*(g=f.weight/(d.weight+f.weight)),d.y-=b*g,f.x+=m*(g=1-g),f.y+=b*g);if((g=r*v)&&(m=s[0]/2,b=s[1]/2,n=-1,g))for(;++n<w;)l=y[n],l.x+=(m-l.x)*g,l.y+=(b-l.y)*g;if(h)for($r(e=eo.geom.quadtree(y),r,o),n=-1;++n<w;)(l=y[n]).fixed||e.visit(t(l));for(n=-1;++n<w;)l=y[n],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*c,l.y-=(l.py-(l.py=l.y))*c);u.tick({type:\"tick\",alpha:r})},l.nodes=function(t){return arguments.length?(y=t,l):y},l.links=function(t){return arguments.length?(V=t,l):V},l.size=function(t){return arguments.length?(s=t,l):s},l.linkDistance=function(t){return arguments.length?(f=\"function\"==typeof t?t:+t,l):f},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(d=\"function\"==typeof t?t:+t,l):d},l.friction=function(t){return arguments.length?(c=+t,l):c},l.charge=function(t){return arguments.length?(h=\"function\"==typeof t?t:+t,l):h},l.chargeDistance=function(t){return arguments.length?(p=t*t,l):Math.sqrt(p)},l.gravity=function(t){return arguments.length?(v=+t,l):v},l.theta=function(t){return arguments.length?(g=t*t,l):Math.sqrt(g)},l.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(u.start({type:\"start\",alpha:r=t}),eo.timer(l.tick)),l):r},l.start=function(){function t(t,r){if(!n){for(n=new Array(u),l=0;u>l;++l)n[l]=[];for(l=0;c>l;++l){var a=V[l];n[a.source.index].push(a.target),n[a.target.index].push(a.source)}}for(var i,o=n[e],l=-1,s=o.length;++l<s;)if(!isNaN(i=o[l][t]))return i;return Math.random()*r}var e,n,r,u=y.length,c=V.length,p=s[0],v=s[1];for(e=0;u>e;++e)(r=y[e]).index=e,r.weight=0;for(e=0;c>e;++e)r=V[e],\"number\"==typeof r.source&&(r.source=y[r.source]),\"number\"==typeof r.target&&(r.target=y[r.target]),++r.source.weight,++r.target.weight;for(e=0;u>e;++e)r=y[e],isNaN(r.x)&&(r.x=t(\"x\",p)),isNaN(r.y)&&(r.y=t(\"y\",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(a=[],\"function\"==typeof f)for(e=0;c>e;++e)a[e]=+f.call(this,V[e],e);else for(e=0;c>e;++e)a[e]=f;if(i=[],\"function\"==typeof d)for(e=0;c>e;++e)i[e]=+d.call(this,V[e],e);else for(e=0;c>e;++e)i[e]=d;if(o=[],\"function\"==typeof h)for(e=0;u>e;++e)o[e]=+h.call(this,y[e],e);else for(e=0;u>e;++e)o[e]=h;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return n||(n=eo.behavior.drag().origin(m).on(\"dragstart.force\",Jr).on(\"drag.force\",e).on(\"dragend.force\",Gr)),arguments.length?void this.on(\"mouseover.force\",Wr).on(\"mouseout.force\",Zr).call(n):n},eo.rebind(l,u,\"on\")};var du=20,hu=1,pu=1/0;eo.layout.hierarchy=function(){function t(a){var i,o=[a],l=[];for(a.depth=0;null!=(i=o.pop());)if(l.push(i),(s=n.call(t,i,i.depth))&&(u=s.length)){for(var u,s,c;--u>=0;)o.push(c=s[u]),c.parent=i,c.depth=i.depth+1;r&&(i.value=0),i.children=s}else r&&(i.value=+r.call(t,i,i.depth)||0),delete i.children;return ta(a,function(t){var n,a;e&&(n=t.children)&&n.sort(e),r&&(a=t.parent)&&(a.value+=t.value)}),l}var e=ra,n=ea,r=na;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(Qr(e,function(t){t.children&&(t.value=0)}),ta(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},eo.layout.partition=function(){function t(e,n,r,a){var i=e.children;if(e.x=n,e.y=e.depth*a,e.dx=r,e.dy=a,i&&(o=i.length)){var o,l,u,s=-1;for(r=e.value?r/e.value:0;++s<o;)t(l=i[s],n,u=l.value*r,a),n+=u}}function e(t){var n=t.children,r=0;if(n&&(a=n.length))for(var a,i=-1;++i<a;)r=Math.max(r,e(n[i]));return 1+r}function n(n,i){var o=r.call(this,n,i);return t(o[0],0,a[0],a[1]/e(o[0])),o}var r=eo.layout.hierarchy(),a=[1,1];return n.size=function(t){return arguments.length?(a=t,n):a},Xr(n,r)},eo.layout.pie=function(){function t(o){var l,u=o.length,s=o.map(function(n,r){return+e.call(t,n,r)}),c=+(\"function\"==typeof r?r.apply(this,arguments):r),f=(\"function\"==typeof a?a.apply(this,arguments):a)-c,d=Math.min(Math.abs(f)/u,+(\"function\"==typeof i?i.apply(this,arguments):i)),h=d*(0>f?-1:1),p=(f-u*h)/eo.sum(s),v=eo.range(u),g=[];return null!=n&&v.sort(n===vu?function(t,e){return s[e]-s[t]}:function(t,e){return n(o[t],o[e])}),v.forEach(function(t){g[t]={data:o[t],value:l=s[t],startAngle:c,endAngle:c+=l*p+h,padAngle:d}}),g}var e=Number,n=vu,r=0,a=Fo,i=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(a=e,t):a},t.padAngle=function(e){return arguments.length?(i=e,t):i},t};var vu={};eo.layout.stack=function(){function t(l,u){if(!(d=l.length))return l;var s=l.map(function(n,r){return e.call(t,n,r)}),c=s.map(function(e){return e.map(function(e,n){return[i.call(t,e,n),o.call(t,e,n)]})}),f=n.call(t,c,u);s=eo.permute(s,f),c=eo.permute(c,f);var d,h,p,v,g=r.call(t,c,u),y=s[0].length;for(p=0;y>p;++p)for(a.call(t,s[0][p],v=g[p],c[0][p][1]),h=1;d>h;++h)a.call(t,s[h][p],v+=c[h-1][p][1],c[h][p][1]);return l}var e=m,n=ua,r=sa,a=la,i=ia,o=oa;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n=\"function\"==typeof e?e:gu.get(e)||ua,t):n},t.offset=function(e){return arguments.length?(r=\"function\"==typeof e?e:yu.get(e)||sa,t):r},t.x=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(o=e,t):o},t.out=function(e){return arguments.length?(a=e,t):a},t};var gu=eo.map({\"inside-out\":function(t){var e,n,r=t.length,a=t.map(ca),i=t.map(fa),o=eo.range(r).sort(function(t,e){return a[t]-a[e]}),l=0,u=0,s=[],c=[];for(e=0;r>e;++e)n=o[e],u>l?(l+=i[n],s.push(n)):(u+=i[n],c.push(n));return c.reverse().concat(s)},reverse:function(t){return eo.range(t.length).reverse()},\"default\":ua}),yu=eo.map({silhouette:function(t){var e,n,r,a=t.length,i=t[0].length,o=[],l=0,u=[];for(n=0;i>n;++n){for(e=0,r=0;a>e;e++)r+=t[e][n][1];r>l&&(l=r),o.push(r)}for(n=0;i>n;++n)u[n]=(l-o[n])/2;return u},wiggle:function(t){var e,n,r,a,i,o,l,u,s,c=t.length,f=t[0],d=f.length,h=[];for(h[0]=u=s=0,n=1;d>n;++n){for(e=0,a=0;c>e;++e)a+=t[e][n][1];for(e=0,i=0,l=f[n][0]-f[n-1][0];c>e;++e){for(r=0,o=(t[e][n][1]-t[e][n-1][1])/(2*l);e>r;++r)o+=(t[r][n][1]-t[r][n-1][1])/l;i+=o*t[e][n][1]}h[n]=u-=a?i/a*l:0,s>u&&(s=u)}for(n=0;d>n;++n)h[n]-=s;return h},expand:function(t){var e,n,r,a=t.length,i=t[0].length,o=1/a,l=[];for(n=0;i>n;++n){for(e=0,r=0;a>e;e++)r+=t[e][n][1];if(r)for(e=0;a>e;e++)t[e][n][1]/=r;else for(e=0;a>e;e++)t[e][n][1]=o}for(n=0;i>n;++n)l[n]=0;return l},zero:sa});eo.layout.histogram=function(){function t(t,i){for(var o,l,u=[],s=t.map(n,this),c=r.call(this,s,i),f=a.call(this,c,s,i),i=-1,d=s.length,h=f.length-1,p=e?1:1/d;++i<h;)o=u[i]=[],o.dx=f[i+1]-(o.x=f[i]),o.y=0;if(h>0)for(i=-1;++i<d;)l=s[i],l>=c[0]&&l<=c[1]&&(o=u[eo.bisect(f,l,1,h)-1],o.y+=p,o.push(t[i]));return u}var e=!0,n=Number,r=va,a=ha;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=kt(e),t):r},t.bins=function(e){return arguments.length?(a=\"number\"==typeof e?function(t){return pa(t,e)}:kt(e),t):a},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},eo.layout.pack=function(){function t(t,i){var o=n.call(this,t,i),l=o[0],u=a[0],s=a[1],c=null==e?Math.sqrt:\"function\"==typeof e?e:function(){return e};if(l.x=l.y=0,ta(l,function(t){t.r=+c(t.value)}),ta(l,ba),r){var f=r*(e?1:Math.max(2*l.r/u,2*l.r/s))/2;ta(l,function(t){t.r+=f}),ta(l,ba),ta(l,function(t){t.r-=f})}return Ma(l,u/2,s/2,e?1:1/Math.max(2*l.r/u,2*l.r/s)),o}var e,n=eo.layout.hierarchy().sort(ga),r=0,a=[1,1];return t.size=function(e){return arguments.length?(a=e,t):a},t.radius=function(n){return arguments.length?(e=null==n||\"function\"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},Xr(t,n)},eo.layout.tree=function(){function t(t,a){var c=o.call(this,t,a),f=c[0],d=e(f);if(ta(d,n),d.parent.m=-d.z,Qr(d,r),s)Qr(f,i);else{var h=f,p=f,v=f;Qr(f,function(t){t.x<h.x&&(h=t),t.x>p.x&&(p=t),t.depth>v.depth&&(v=t)});var g=l(h,p)/2-h.x,y=u[0]/(p.x+l(p,h)/2+g),m=u[1]/(v.depth||1);Qr(f,function(t){t.x=(t.x+g)*y,t.y=t.depth*m})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var a,i=e.children,o=0,l=i.length;l>o;++o)r.push((i[o]=a={_:i[o],parent:e,children:(a=i[o].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=a);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Ta(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+l(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+l(t._,r._));t.parent.A=a(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t,e,n){if(e){for(var r,a=t,i=t,o=e,u=a.parent.children[0],s=a.m,c=i.m,f=o.m,d=u.m;o=Aa(o),a=ka(a),o&&a;)u=ka(u),i=Aa(i),i.a=t,r=o.z+f-a.z-s+l(o._,a._),r>0&&(Ca(Na(o,t,n),t,r),s+=r,c+=r),f+=o.m,s+=a.m,d+=u.m,c+=i.m;o&&!Aa(i)&&(i.t=o,i.m+=f-c),a&&!ka(u)&&(u.t=a,u.m+=s-d,n=t)}return n}function i(t){t.x*=u[0],t.y=t.depth*u[1]}var o=eo.layout.hierarchy().sort(null).value(null),l=Sa,u=[1,1],s=null;return t.separation=function(e){return arguments.length?(l=e,t):l},t.size=function(e){return arguments.length?(s=null==(u=e)?i:null,t):s?null:u},t.nodeSize=function(e){return arguments.length?(s=null==(u=e)?null:i,t):s?u:null},Xr(t,o)},eo.layout.cluster=function(){function t(t,i){var o,l=e.call(this,t,i),u=l[0],s=0;ta(u,function(t){var e=t.children;e&&e.length?(t.x=Oa(e),t.y=Ea(e)):(t.x=o?s+=n(t,o):0,t.y=0,o=t)});var c=Fa(u),f=Ra(u),d=c.x-n(c,f)/2,h=f.x+n(f,c)/2;return ta(u,a?function(t){t.x=(t.x-u.x)*r[0],t.y=(u.y-t.y)*r[1]}:function(t){t.x=(t.x-d)/(h-d)*r[0],t.y=(1-(u.y?t.y/u.y:1))*r[1]}),l}var e=eo.layout.hierarchy().sort(null).value(null),n=Sa,r=[1,1],a=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(a=null==(r=e),t):a?null:r},t.nodeSize=function(e){return arguments.length?(a=null!=(r=e),t):a?r:null},Xr(t,e)},eo.layout.treemap=function(){function t(t,e){for(var n,r,a=-1,i=t.length;++a<i;)r=(n=t[a]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var i=n.children;if(i&&i.length){var o,l,u,s=f(n),c=[],d=i.slice(),p=1/0,v=\"slice\"===h?s.dx:\"dice\"===h?s.dy:\"slice-dice\"===h?1&n.depth?s.dy:s.dx:Math.min(s.dx,s.dy);for(t(d,s.dx*s.dy/n.value),c.area=0;(u=d.length)>0;)c.push(o=d[u-1]),c.area+=o.area,\"squarify\"!==h||(l=r(c,v))<=p?(d.pop(),p=l):(c.area-=c.pop().area,a(c,v,s,!1),v=Math.min(s.dx,s.dy),c.length=c.area=0,p=1/0);c.length&&(a(c,v,s,!0),c.length=c.area=0),i.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var i,o=f(e),l=r.slice(),u=[];for(t(l,o.dx*o.dy/e.value),u.area=0;i=l.pop();)u.push(i),u.area+=i.area,null!=i.z&&(a(u,i.z?o.dx:o.dy,o,!l.length),u.length=u.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,a=0,i=1/0,o=-1,l=t.length;++o<l;)(n=t[o].area)&&(i>n&&(i=n),n>a&&(a=n));return r*=r,e*=e,r?Math.max(e*a*p/r,r/(e*i*p)):1/0}function a(t,e,n,r){var a,i=-1,o=t.length,l=n.x,s=n.y,c=e?u(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++i<o;)a=t[i],a.x=l,a.y=s,a.dy=c,l+=a.dx=Math.min(n.x+n.dx-l,c?u(a.area/c):0);a.z=!0,a.dx+=n.x+n.dx-l,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++i<o;)a=t[i],a.x=l,a.y=s,a.dx=c,s+=a.dy=Math.min(n.y+n.dy-s,c?u(a.area/c):0);a.z=!1,a.dy+=n.y+n.dy-s,n.x+=c,n.dx-=c}}function i(r){var a=o||l(r),i=a[0];return i.x=0,i.y=0,i.dx=s[0],i.dy=s[1],o&&l.revalue(i),t([i],i.dx*i.dy/i.value),(o?n:e)(i),d&&(o=a),a}var o,l=eo.layout.hierarchy(),u=Math.round,s=[1,1],c=null,f=La,d=!1,h=\"squarify\",p=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(s=t,i):s},i.padding=function(t){function e(e){var n=t.call(i,e,e.depth);return null==n?La(e):Pa(e,\"number\"==typeof n?[n,n,n,n]:n)}function n(e){return Pa(e,t)}if(!arguments.length)return c;var r;return f=null==(c=t)?La:\"function\"==(r=typeof t)?e:\"number\"===r?(t=[t,t,t,t],n):n,i},i.round=function(t){return arguments.length?(u=t?Math.round:Number,i):u!=Number},i.sticky=function(t){return arguments.length?(d=t,o=null,i):d},i.ratio=function(t){return arguments.length?(p=t,i):p},i.mode=function(t){return arguments.length?(h=t+\"\",i):h},Xr(i,l)},eo.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,a;do n=2*Math.random()-1,r=2*Math.random()-1,a=n*n+r*r;while(!a||a>1);return t+e*n*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var t=eo.random.normal.apply(eo,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=eo.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},eo.scale={};var mu={floor:m,ceil:m};eo.scale.linear=function(){return Ua([0,1],[0,1],mr,!1)};var Vu={s:1,g:1,p:1,r:1,e:1};eo.scale.log=function(){return $a(eo.scale.linear().domain([0,1]),10,!0,[1,10])};var bu=eo.format(\".0e\"),wu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};eo.scale.pow=function(){return Xa(eo.scale.linear(),1,[0,1])},eo.scale.sqrt=function(){return eo.scale.pow().exponent(.5)},eo.scale.ordinal=function(){return ti([],{t:\"range\",a:[[]]})},eo.scale.category10=function(){return eo.scale.ordinal().range(xu)},eo.scale.category20=function(){return eo.scale.ordinal().range(Mu)},eo.scale.category20b=function(){return eo.scale.ordinal().range(_u)},eo.scale.category20c=function(){return eo.scale.ordinal().range(Su)};var xu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Vt),Mu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Vt),_u=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Vt),Su=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Vt);eo.scale.quantile=function(){return ei([],[])},eo.scale.quantize=function(){return ni(0,1,[0,1])},eo.scale.threshold=function(){return ri([.5],[0,1])},eo.scale.identity=function(){return ai([0,1])},eo.svg={},eo.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),s=Math.max(0,+r.apply(this,arguments)),c=o.apply(this,arguments)-Lo,f=l.apply(this,arguments)-Lo,d=Math.abs(f-c),h=c>f?0:1;if(t>s&&(p=s,s=t,t=p),d>=Ro)return e(s,h)+(t?e(t,1-h):\"\")+\"Z\";var p,v,g,y,m,V,b,w,x,M,_,S,k=0,A=0,C=[];if((y=(+u.apply(this,arguments)||0)/2)&&(g=i===ku?Math.sqrt(t*t+s*s):+i.apply(this,arguments),h||(A*=-1),s&&(A=et(g/s*Math.sin(y))),t&&(k=et(g/t*Math.sin(y)))),s){m=s*Math.cos(c+A),V=s*Math.sin(c+A),b=s*Math.cos(f-A),w=s*Math.sin(f-A);var T=Math.abs(f-c-2*A)<=Oo?0:1;if(A&&fi(m,V,b,w)===h^T){var N=(c+f)/2;m=s*Math.cos(N),V=s*Math.sin(N),b=w=null}}else m=V=0;if(t){x=t*Math.cos(f-k),M=t*Math.sin(f-k),_=t*Math.cos(c+k),S=t*Math.sin(c+k);var E=Math.abs(c-f+2*k)<=Oo?0:1;if(k&&fi(x,M,_,S)===1-h^E){var O=(c+f)/2;x=t*Math.cos(O),M=t*Math.sin(O),_=S=null}}else x=M=0;if((p=Math.min(Math.abs(s-t)/2,+a.apply(this,arguments)))>.001){v=s>t^h?0:1;var F=null==_?[x,M]:null==b?[m,V]:Fn([m,V],[_,S],[b,w],[x,M]),R=m-F[0],L=V-F[1],P=b-F[0],j=w-F[1],q=1/Math.sin(Math.acos((R*P+L*j)/(Math.sqrt(R*R+L*L)*Math.sqrt(P*P+j*j)))/2),D=Math.sqrt(F[0]*F[0]+F[1]*F[1]);if(null!=b){var B=Math.min(p,(s-D)/(q+1)),I=di(null==_?[x,M]:[_,S],[m,V],s,B,h),z=di([b,w],[x,M],s,B,h);p===B?C.push(\"M\",I[0],\"A\",B,\",\",B,\" 0 0,\",v,\" \",I[1],\"A\",s,\",\",s,\" 0 \",1-h^fi(I[1][0],I[1][1],z[1][0],z[1][1]),\",\",h,\" \",z[1],\"A\",B,\",\",B,\" 0 0,\",v,\" \",z[0]):C.push(\"M\",I[0],\"A\",B,\",\",B,\" 0 1,\",v,\" \",z[0])}else C.push(\"M\",m,\",\",V);if(null!=_){var U=Math.min(p,(t-D)/(q-1)),H=di([m,V],[_,S],t,-U,h),K=di([x,M],null==b?[m,V]:[b,w],t,-U,h);p===U?C.push(\"L\",K[0],\"A\",U,\",\",U,\" 0 0,\",v,\" \",K[1],\"A\",t,\",\",t,\" 0 \",h^fi(K[1][0],K[1][1],H[1][0],H[1][1]),\",\",1-h,\" \",H[1],\"A\",U,\",\",U,\" 0 0,\",v,\" \",H[0]):C.push(\"L\",K[0],\"A\",U,\",\",U,\" 0 0,\",v,\" \",H[0])}else C.push(\"L\",x,\",\",M)}else C.push(\"M\",m,\",\",V),null!=b&&C.push(\"A\",s,\",\",s,\" 0 \",T,\",\",h,\" \",b,\",\",w),C.push(\"L\",x,\",\",M),null!=_&&C.push(\"A\",t,\",\",t,\" 0 \",E,\",\",1-h,\" \",_,\",\",S);return C.push(\"Z\"),C.join(\"\")}function e(t,e){return\"M0,\"+t+\"A\"+t+\",\"+t+\" 0 1,\"+e+\" 0,\"+-t+\"A\"+t+\",\"+t+\" 0 1,\"+e+\" 0,\"+t}var n=oi,r=li,a=ii,i=ku,o=ui,l=si,u=ci;return t.innerRadius=function(e){return arguments.length?(n=kt(e),t):n},t.outerRadius=function(e){return arguments.length?(r=kt(e),t):r},t.cornerRadius=function(e){return arguments.length?(a=kt(e),t):a},t.padRadius=function(e){return arguments.length?(i=e==ku?ku:kt(e),t):i},t.startAngle=function(e){return arguments.length?(o=kt(e),t):o},t.endAngle=function(e){return arguments.length?(l=kt(e),t):l},t.padAngle=function(e){return arguments.length?(u=kt(e),t):u},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+o.apply(this,arguments)+ +l.apply(this,arguments))/2-Lo;return[Math.cos(e)*t,Math.sin(e)*t]},t};var ku=\"auto\";eo.svg.line=function(){return hi(m)};var Au=eo.map({linear:pi,\"linear-closed\":vi,step:gi,\"step-before\":yi,\"step-after\":mi,basis:_i,\"basis-open\":Si,\"basis-closed\":ki,bundle:Ai,cardinal:wi,\"cardinal-open\":Vi,\"cardinal-closed\":bi,monotone:Fi});Au.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Cu=[0,2/3,1/3,0],Tu=[0,1/3,2/3,0],Nu=[0,1/6,2/3,1/6];eo.svg.line.radial=function(){var t=hi(Ri);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},yi.reverse=mi,mi.reverse=yi,eo.svg.area=function(){return Li(m)},eo.svg.area.radial=function(){var t=Li(Ri);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},eo.svg.chord=function(){function t(t,l){var u=e(this,i,t,l),s=e(this,o,t,l);return\"M\"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,s)?a(u.r,u.p1,u.r,u.p0):a(u.r,u.p1,s.r,s.p0)+r(s.r,s.p1,s.a1-s.a0)+a(s.r,s.p1,u.r,u.p0))+\"Z\"}function e(t,e,n,r){var a=e.call(t,n,r),i=l.call(t,a,r),o=u.call(t,a,r)-Lo,c=s.call(t,a,r)-Lo;return{r:i,a0:o,a1:c,p0:[i*Math.cos(o),i*Math.sin(o)],p1:[i*Math.cos(c),i*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return\"A\"+t+\",\"+t+\" 0 \"+ +(n>Oo)+\",1 \"+e}function a(t,e,n,r){return\"Q 0,0 \"+r}var i=mn,o=Vn,l=Pi,u=ui,s=si;return t.radius=function(e){return arguments.length?(l=kt(e),t):l},t.source=function(e){return arguments.length?(i=kt(e),t):i},t.target=function(e){return arguments.length?(o=kt(e),t):o},t.startAngle=function(e){return arguments.length?(u=kt(e),t):u},t.endAngle=function(e){return arguments.length?(s=kt(e),t):s},t},eo.svg.diagonal=function(){function t(t,a){var i=e.call(this,t,a),o=n.call(this,t,a),l=(i.y+o.y)/2,u=[i,{x:i.x,y:l},{x:o.x,y:l},o];return u=u.map(r),\"M\"+u[0]+\"C\"+u[1]+\" \"+u[2]+\" \"+u[3]}var e=mn,n=Vn,r=ji;return t.source=function(n){return arguments.length?(e=kt(n),t):e},t.target=function(e){return arguments.length?(n=kt(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},eo.svg.diagonal.radial=function(){var t=eo.svg.diagonal(),e=ji,n=t.projection;return t.projection=function(t){return arguments.length?n(qi(e=t)):e},t},eo.svg.symbol=function(){function t(t,r){return(Eu.get(e.call(this,t,r))||Ii)(n.call(this,t,r))}var e=Bi,n=Di;return t.type=function(n){return arguments.length?(e=kt(n),t):e},t.size=function(e){return arguments.length?(n=kt(e),t):n},t};var Eu=eo.map({circle:Ii,cross:function(t){var e=Math.sqrt(t/5)/2;return\"M\"+-3*e+\",\"+-e+\"H\"+-e+\"V\"+-3*e+\"H\"+e+\"V\"+-e+\"H\"+3*e+\"V\"+e+\"H\"+e+\"V\"+3*e+\"H\"+-e+\"V\"+e+\"H\"+-3*e+\"Z\"},diamond:function(t){var e=Math.sqrt(t/(2*Fu)),n=e*Fu;return\"M0,\"+-e+\"L\"+n+\",0 0,\"+e+\" \"+-n+\",0Z\"},square:function(t){var e=Math.sqrt(t)/2;return\"M\"+-e+\",\"+-e+\"L\"+e+\",\"+-e+\" \"+e+\",\"+e+\" \"+-e+\",\"+e+\"Z\"},\"triangle-down\":function(t){var e=Math.sqrt(t/Ou),n=e*Ou/2;return\"M0,\"+n+\"L\"+e+\",\"+-n+\" \"+-e+\",\"+-n+\"Z\"},\"triangle-up\":function(t){var e=Math.sqrt(t/Ou),n=e*Ou/2;return\"M0,\"+-n+\"L\"+e+\",\"+n+\" \"+-e+\",\"+n+\"Z\"}});eo.svg.symbolTypes=Eu.keys();var Ou=Math.sqrt(3),Fu=Math.tan(30*Po);Mo.transition=function(t){for(var e,n,r=Ru||++qu,a=Yi(t),i=[],o=Lu||{time:Date.now(),ease:Sr,delay:0,duration:250},l=-1,u=this.length;++l<u;){i.push(e=[]);for(var s=this[l],c=-1,f=s.length;++c<f;)(n=s[c])&&Ji(n,c,a,r,o),e.push(n)}return Ui(i,a,r)},Mo.interrupt=function(t){return this.each(null==t?Pu:zi(Yi(t)))};var Ru,Lu,Pu=zi(Yi()),ju=[],qu=0;ju.call=Mo.call,ju.empty=Mo.empty,ju.node=Mo.node,ju.size=Mo.size,eo.transition=function(t,e){return t&&t.transition?Ru?t.transition(e):t:eo.selection().transition(t)},eo.transition.prototype=ju,ju.select=function(t){var e,n,r,a=this.id,i=this.namespace,o=[];t=C(t);for(var l=-1,u=this.length;++l<u;){o.push(e=[]);for(var s=this[l],c=-1,f=s.length;++c<f;)(r=s[c])&&(n=t.call(r,r.__data__,c,l))?(\"__data__\"in r&&(n.__data__=r.__data__),Ji(n,c,i,a,r[i][a]),e.push(n)):e.push(null)}return Ui(o,i,a)},ju.selectAll=function(t){var e,n,r,a,i,o=this.id,l=this.namespace,u=[];t=T(t);for(var s=-1,c=this.length;++s<c;)for(var f=this[s],d=-1,h=f.length;++d<h;)if(r=f[d]){i=r[l][o],n=t.call(r,r.__data__,d,s),u.push(e=[]);for(var p=-1,v=n.length;++p<v;)(a=n[p])&&Ji(a,p,l,o,i),e.push(a)}return Ui(u,l,o)},ju.filter=function(t){var e,n,r,a=[];\"function\"!=typeof t&&(t=I(t));for(var i=0,o=this.length;o>i;i++){a.push(e=[]);for(var n=this[i],l=0,u=n.length;u>l;l++)(r=n[l])&&t.call(r,r.__data__,l,i)&&e.push(r)}return Ui(a,this.namespace,this.id)},ju.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):U(this,null==e?function(e){e[r][n].tween.remove(t)}:function(a){a[r][n].tween.set(t,e)})},ju.attr=function(t,e){function n(){this.removeAttribute(l)}function r(){this.removeAttributeNS(l.space,l.local)}function a(t){return null==t?n:(t+=\"\",function(){var e,n=this.getAttribute(l);return n!==t&&(e=o(n,t),function(t){this.setAttribute(l,e(t))})})}function i(t){return null==t?r:(t+=\"\",function(){var e,n=this.getAttributeNS(l.space,l.local);return n!==t&&(e=o(n,t),function(t){this.setAttributeNS(l.space,l.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o=\"transform\"==t?Ir:mr,l=eo.ns.qualify(t);return Hi(this,\"attr.\"+t,e,l.local?i:a)},ju.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(a));return r&&function(t){this.setAttribute(a,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(a.space,a.local));return r&&function(t){this.setAttributeNS(a.space,a.local,r(t))}}var a=eo.ns.qualify(t);return this.tween(\"attr.\"+t,a.local?r:n)},ju.style=function(t,n,r){function a(){this.style.removeProperty(t)}function i(n){return null==n?a:(n+=\"\",function(){var a,i=e(this).getComputedStyle(this,null).getPropertyValue(t);return i!==n&&(a=mr(i,n),function(e){this.style.setProperty(t,a(e),r)})})}var o=arguments.length;if(3>o){if(\"string\"!=typeof t){2>o&&(n=\"\");for(r in t)this.style(r,t[r],n);return this}r=\"\"}return Hi(this,\"style.\"+t,n,i)},ju.styleTween=function(t,n,r){function a(a,i){var o=n.call(this,a,i,e(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),r)}}return arguments.length<3&&(r=\"\"),this.tween(\"style.\"+t,a)},ju.text=function(t){return Hi(this,\"text\",t,Ki)},ju.remove=function(){var t=this.namespace;return this.each(\"end.transition\",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},ju.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:(\"function\"!=typeof t&&(t=eo.ease.apply(eo,arguments)),U(this,function(r){r[n][e].ease=t}))},ju.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:U(this,\"function\"==typeof t?function(r,a,i){r[n][e].delay=+t.call(r,r.__data__,a,i)}:(t=+t,function(r){r[n][e].delay=t}))},ju.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:U(this,\"function\"==typeof t?function(r,a,i){r[n][e].duration=Math.max(1,t.call(r,r.__data__,a,i))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},ju.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var a=Lu,i=Ru;try{Ru=n,U(this,function(e,a,i){Lu=e[r][n],t.call(e,e.__data__,a,i)})}finally{Lu=a,Ru=i}}else U(this,function(a){var i=a[r][n];(i.event||(i.event=eo.dispatch(\"start\",\"end\",\"interrupt\"))).on(t,e)});return this},ju.transition=function(){for(var t,e,n,r,a=this.id,i=++qu,o=this.namespace,l=[],u=0,s=this.length;s>u;u++){l.push(t=[]);for(var e=this[u],c=0,f=e.length;f>c;c++)(n=e[c])&&(r=n[o][a],Ji(n,c,o,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return Ui(l,o,i)},eo.svg.axis=function(){function t(t){t.each(function(){var t,s=eo.select(this),c=this.__chart__||n,f=this.__chart__=n.copy(),d=null==u?f.ticks?f.ticks.apply(f,l):f.domain():u,h=null==e?f.tickFormat?f.tickFormat.apply(f,l):m:e,p=s.selectAll(\".tick\").data(d,f),v=p.enter().insert(\"g\",\".domain\").attr(\"class\",\"tick\").style(\"opacity\",No),g=eo.transition(p.exit()).style(\"opacity\",No).remove(),y=eo.transition(p.order()).style(\"opacity\",1),V=Math.max(a,0)+o,b=qa(f),w=s.selectAll(\".domain\").data([0]),x=(w.enter().append(\"path\").attr(\"class\",\"domain\"),eo.transition(w));v.append(\"line\"),v.append(\"text\");var M,_,S,k,A=v.select(\"line\"),C=y.select(\"line\"),T=p.select(\"text\").text(h),N=v.select(\"text\"),E=y.select(\"text\"),O=\"top\"===r||\"left\"===r?-1:1;if(\"bottom\"===r||\"top\"===r?(t=Gi,M=\"x\",S=\"y\",_=\"x2\",k=\"y2\",T.attr(\"dy\",0>O?\"0em\":\".71em\").style(\"text-anchor\",\"middle\"),x.attr(\"d\",\"M\"+b[0]+\",\"+O*i+\"V0H\"+b[1]+\"V\"+O*i)):(t=Wi,M=\"y\",S=\"x\",_=\"y2\",k=\"x2\",T.attr(\"dy\",\".32em\").style(\"text-anchor\",0>O?\"end\":\"start\"),x.attr(\"d\",\"M\"+O*i+\",\"+b[0]+\"H0V\"+b[1]+\"H\"+O*i)),A.attr(k,O*a),N.attr(S,O*V),C.attr(_,0).attr(k,O*a),E.attr(M,0).attr(S,O*V),f.rangeBand){var F=f,R=F.rangeBand()/2;c=f=function(t){return F(t)+R}}else c.rangeBand?c=f:g.call(t,f,c);v.call(t,c,f),y.call(t,f,f)})}var e,n=eo.scale.linear(),r=Du,a=6,i=6,o=3,l=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Bu?e+\"\":Du,t):r},t.ticks=function(){return arguments.length?(l=arguments,t):l},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(a=+e,i=+arguments[n-1],t):a},t.innerTickSize=function(e){return arguments.length?(a=+e,t):a},t.outerTickSize=function(e){return arguments.length?(i=+e,t):i},t.tickPadding=function(e){return arguments.length?(o=+e,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var Du=\"bottom\",Bu={top:1,right:1,bottom:1,left:1};eo.svg.brush=function(){function t(e){e.each(function(){var e=eo.select(this).style(\"pointer-events\",\"all\").style(\"-webkit-tap-highlight-color\",\"rgba(0,0,0,0)\").on(\"mousedown.brush\",i).on(\"touchstart.brush\",i),o=e.selectAll(\".background\").data([0]);o.enter().append(\"rect\").attr(\"class\",\"background\").style(\"visibility\",\"hidden\").style(\"cursor\",\"crosshair\"),e.selectAll(\".extent\").data([0]).enter().append(\"rect\").attr(\"class\",\"extent\").style(\"cursor\",\"move\");var l=e.selectAll(\".resize\").data(v,m);l.exit().remove(),l.enter().append(\"g\").attr(\"class\",function(t){return\"resize \"+t}).style(\"cursor\",function(t){return Iu[t]}).append(\"rect\").attr(\"x\",function(t){return/[ew]$/.test(t)?-3:null}).attr(\"y\",function(t){return/^[ns]/.test(t)?-3:null}).attr(\"width\",6).attr(\"height\",6).style(\"visibility\",\"hidden\"),l.style(\"display\",t.empty()?\"none\":null);var u,f=eo.transition(e),d=eo.transition(o);s&&(u=qa(s),d.attr(\"x\",u[0]).attr(\"width\",u[1]-u[0]),r(f)),c&&(u=qa(c),d.attr(\"y\",u[0]).attr(\"height\",u[1]-u[0]),a(f)),n(f)})}function n(t){t.selectAll(\".resize\").attr(\"transform\",function(t){return\"translate(\"+f[+/e$/.test(t)]+\",\"+d[+/^s/.test(t)]+\")\"})}function r(t){t.select(\".extent\").attr(\"x\",f[0]),t.selectAll(\".extent,.n>rect,.s>rect\").attr(\"width\",f[1]-f[0])}function a(t){t.select(\".extent\").attr(\"y\",d[0]),t.selectAll(\".extent,.e>rect,.w>rect\").attr(\"height\",d[1]-d[0])}function i(){function i(){32==eo.event.keyCode&&(T||(V=null,E[0]-=f[1],E[1]-=d[1],T=2),_())}function v(){32==eo.event.keyCode&&2==T&&(E[0]+=f[1],E[1]+=d[1],T=0,_())}function g(){var t=eo.mouse(w),e=!1;b&&(t[0]+=b[0],t[1]+=b[1]),T||(eo.event.altKey?(V||(V=[(f[0]+f[1])/2,(d[0]+d[1])/2]),E[0]=f[+(t[0]<V[0])],E[1]=d[+(t[1]<V[1])]):V=null),A&&y(t,s,0)&&(r(S),e=!0),C&&y(t,c,1)&&(a(S),e=!0),e&&(n(S),M({type:\"brush\",mode:T?\"move\":\"resize\"}))}function y(t,e,n){var r,a,i=qa(e),u=i[0],s=i[1],c=E[n],v=n?d:f,g=v[1]-v[0];return T&&(u-=c,s-=g+c),r=(n?p:h)?Math.max(u,Math.min(s,t[n])):t[n],T?a=(r+=c)+g:(V&&(c=Math.max(u,Math.min(s,2*V[n]-r))),r>c?(a=r,r=c):a=c),v[0]!=r||v[1]!=a?(n?l=null:o=null,v[0]=r,v[1]=a,!0):void 0}function m(){g(),S.style(\"pointer-events\",\"all\").selectAll(\".resize\").style(\"display\",t.empty()?\"none\":null),eo.select(\"body\").style(\"cursor\",null),O.on(\"mousemove.brush\",null).on(\"mouseup.brush\",null).on(\"touchmove.brush\",null).on(\"touchend.brush\",null).on(\"keydown.brush\",null).on(\"keyup.brush\",null),N(),M({type:\"brushend\"})}var V,b,w=this,x=eo.select(eo.event.target),M=u.of(w,arguments),S=eo.select(w),k=x.datum(),A=!/^(n|s)$/.test(k)&&s,C=!/^(e|w)$/.test(k)&&c,T=x.classed(\"extent\"),N=W(w),E=eo.mouse(w),O=eo.select(e(w)).on(\"keydown.brush\",i).on(\"keyup.brush\",v);if(eo.event.changedTouches?O.on(\"touchmove.brush\",g).on(\"touchend.brush\",m):O.on(\"mousemove.brush\",g).on(\"mouseup.brush\",m),S.interrupt().selectAll(\"*\").interrupt(),T)E[0]=f[0]-E[0],E[1]=d[0]-E[1];else if(k){var F=+/w$/.test(k),R=+/^n/.test(k);b=[f[1-F]-E[0],d[1-R]-E[1]],E[0]=f[F],E[1]=d[R]}else eo.event.altKey&&(V=E.slice());S.style(\"pointer-events\",\"none\").selectAll(\".resize\").style(\"display\",null),eo.select(\"body\").style(\"cursor\",x.style(\"cursor\")),M({type:\"brushstart\"}),g()}var o,l,u=k(t,\"brushstart\",\"brush\",\"brushend\"),s=null,c=null,f=[0,0],d=[0,0],h=!0,p=!0,v=zu[0];return t.event=function(t){t.each(function(){var t=u.of(this,arguments),e={x:f,y:d,i:o,j:l},n=this.__chart__||e;this.__chart__=e,Ru?eo.select(this).transition().each(\"start.brush\",function(){o=n.i,l=n.j,f=n.x,d=n.y,t({type:\"brushstart\"})}).tween(\"brush:brush\",function(){var n=Vr(f,e.x),r=Vr(d,e.y);return o=l=null,function(a){f=e.x=n(a),d=e.y=r(a),t({type:\"brush\",mode:\"resize\"})}}).each(\"end.brush\",function(){o=e.i,l=e.j,t({type:\"brush\",mode:\"resize\"}),t({type:\"brushend\"})}):(t({type:\"brushstart\"}),t({type:\"brush\",mode:\"resize\"}),t({type:\"brushend\"}))})},t.x=function(e){return arguments.length?(s=e,v=zu[!s<<1|!c],t):s},t.y=function(e){return arguments.length?(c=e,v=zu[!s<<1|!c],t):c},t.clamp=function(e){return arguments.length?(s&&c?(h=!!e[0],p=!!e[1]):s?h=!!e:c&&(p=!!e),t):s&&c?[h,p]:s?h:c?p:null},t.extent=function(e){var n,r,a,i,u;return arguments.length?(s&&(n=e[0],r=e[1],c&&(n=n[0],r=r[0]),o=[n,r],s.invert&&(n=s(n),r=s(r)),n>r&&(u=n,n=r,r=u),(n!=f[0]||r!=f[1])&&(f=[n,r])),c&&(a=e[0],i=e[1],s&&(a=a[1],i=i[1]),l=[a,i],c.invert&&(a=c(a),i=c(i)),a>i&&(u=a,a=i,i=u),(a!=d[0]||i!=d[1])&&(d=[a,i])),t):(s&&(o?(n=o[0],r=o[1]):(n=f[0],r=f[1],s.invert&&(n=s.invert(n),r=s.invert(r)),n>r&&(u=n,n=r,r=u))),c&&(l?(a=l[0],i=l[1]):(a=d[0],i=d[1],c.invert&&(a=c.invert(a),i=c.invert(i)),a>i&&(u=a,a=i,i=u))),s&&c?[[n,a],[r,i]]:s?[n,r]:c&&[a,i])},t.clear=function(){return t.empty()||(f=[0,0],d=[0,0],o=l=null),t},t.empty=function(){return!!s&&f[0]==f[1]||!!c&&d[0]==d[1]},eo.rebind(t,u,\"on\")};var Iu={n:\"ns-resize\",\ne:\"ew-resize\",s:\"ns-resize\",w:\"ew-resize\",nw:\"nwse-resize\",ne:\"nesw-resize\",se:\"nwse-resize\",sw:\"nesw-resize\"},zu=[[\"n\",\"e\",\"s\",\"w\",\"nw\",\"ne\",\"se\",\"sw\"],[\"e\",\"w\"],[\"n\",\"s\"],[]],Uu=ul.format=pl.timeFormat,Hu=Uu.utc,Ku=Hu(\"%Y-%m-%dT%H:%M:%S.%LZ\");Uu.iso=Date.prototype.toISOString&&+new Date(\"2000-01-01T00:00:00.000Z\")?Zi:Ku,Zi.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Zi.toString=Ku.toString,ul.second=Dt(function(t){return new sl(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ul.seconds=ul.second.range,ul.seconds.utc=ul.second.utc.range,ul.minute=Dt(function(t){return new sl(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ul.minutes=ul.minute.range,ul.minutes.utc=ul.minute.utc.range,ul.hour=Dt(function(t){var e=t.getTimezoneOffset()/60;return new sl(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ul.hours=ul.hour.range,ul.hours.utc=ul.hour.utc.range,ul.month=Dt(function(t){return t=ul.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ul.months=ul.month.range,ul.months.utc=ul.month.utc.range;var Yu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ju=[[ul.second,1],[ul.second,5],[ul.second,15],[ul.second,30],[ul.minute,1],[ul.minute,5],[ul.minute,15],[ul.minute,30],[ul.hour,1],[ul.hour,3],[ul.hour,6],[ul.hour,12],[ul.day,1],[ul.day,2],[ul.week,1],[ul.month,1],[ul.month,3],[ul.year,1]],Gu=Uu.multi([[\".%L\",function(t){return t.getMilliseconds()}],[\":%S\",function(t){return t.getSeconds()}],[\"%I:%M\",function(t){return t.getMinutes()}],[\"%I %p\",function(t){return t.getHours()}],[\"%a %d\",function(t){return t.getDay()&&1!=t.getDate()}],[\"%b %d\",function(t){return 1!=t.getDate()}],[\"%B\",function(t){return t.getMonth()}],[\"%Y\",Ce]]),Wu={range:function(t,e,n){return eo.range(Math.ceil(t/n)*n,+e,n).map(Xi)},floor:m,ceil:m};Ju.year=ul.year,ul.scale=function(){return $i(eo.scale.linear(),Ju,Gu)};var Zu=Ju.map(function(t){return[t[0].utc,t[1]]}),$u=Hu.multi([[\".%L\",function(t){return t.getUTCMilliseconds()}],[\":%S\",function(t){return t.getUTCSeconds()}],[\"%I:%M\",function(t){return t.getUTCMinutes()}],[\"%I %p\",function(t){return t.getUTCHours()}],[\"%a %d\",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],[\"%b %d\",function(t){return 1!=t.getUTCDate()}],[\"%B\",function(t){return t.getUTCMonth()}],[\"%Y\",Ce]]);Zu.year=ul.year.utc,ul.scale.utc=function(){return $i(eo.scale.linear(),Zu,$u)},eo.text=At(function(t){return t.responseText}),eo.json=function(t,e){return Ct(t,\"application/json\",Qi,e)},eo.html=function(t,e){return Ct(t,\"text/html\",to,e)},eo.xml=At(function(t){return t.responseXML}),\"function\"==typeof define&&define.amd?define(eo):\"object\"==typeof module&&module.exports&&(module.exports=eo),this.d3=eo}(),function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports[\"powerbi-models\"]=e():t[\"powerbi-models\"]=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p=\"\",e(0)}([function(t,e,n){function r(t){return l(t)&&!!t.keys}function a(t){return i(t)===W.Basic&&!!t.keyValues}function i(t){if(t.filterType)return t.filterType;var e=t,n=t;return\"string\"==typeof e.operator&&Array.isArray(e.values)?W.Basic:\"string\"==typeof n.logicalOperator&&Array.isArray(n.conditions)?W.Advanced:W.Unknown}function o(t){return void 0!==t.table&&void 0!==t.measure}function l(t){return!(!t.table||!t.column||t.aggregationFunction)}function u(t){return!(!(t.table&&t.hierarchy&&t.hierarchyLevel)||t.aggregationFunction)}function s(t){return!!(t.table&&t.hierarchy&&t.hierarchyLevel&&t.aggregationFunction)}function c(t){return!!(t.table&&t.column&&t.aggregationFunction)}function f(t){var e=t.message;return e||(e=t.path+\" is invalid. Not meeting \"+t.keyword+\" constraint\"),{message:e}}function d(t){var n=e.Validators.visualSelectorValidator.validate(t);return n?n.map(f):void 0}function h(t){var n=e.Validators.slicerValidator.validate(t);return n?n.map(f):void 0}function p(t){var n=e.Validators.slicerStateValidator.validate(t);return n?n.map(f):void 0}function v(t){var n=e.Validators.playBookmarkRequestValidator.validate(t);return n?n.map(f):void 0}function g(t){var n=e.Validators.addBookmarkRequestValidator.validate(t);return n?n.map(f):void 0}function y(t){var n=e.Validators.applyBookmarkByNameRequestValidator.validate(t);return n?n.map(f):void 0}function m(t){var n=e.Validators.applyBookmarkStateRequestValidator.validate(t);return n?n.map(f):void 0}function V(t){var n=e.Validators.settingsValidator.validate(t);return n?n.map(f):void 0}function b(t){var n=e.Validators.customPageSizeValidator.validate(t);return n?n.map(f):void 0}function w(t){var n=e.Validators.extensionValidator.validate(t);return n?n.map(f):void 0}function x(t){var n=e.Validators.reportLoadValidator.validate(t);return n?n.map(f):void 0}function M(t){var n=e.Validators.reportCreateValidator.validate(t);return n?n.map(f):void 0}function _(t){var n=e.Validators.dashboardLoadValidator.validate(t);return n?n.map(f):void 0}function S(t){var n=e.Validators.tileLoadValidator.validate(t);return n?n.map(f):void 0}function k(t){var n=e.Validators.pageValidator.validate(t);return n?n.map(f):void 0}function A(t){var n=e.Validators.filtersValidator.validate(t);return n?n.map(f):void 0}function C(t){var n=e.Validators.saveAsParametersValidator.validate(t);return n?n.map(f):void 0}function T(t){var n=e.Validators.loadQnaValidator.validate(t);return n?n.map(f):void 0}function N(t){var n=e.Validators.qnaInterpretInputDataValidator.validate(t);return n?n.map(f):void 0}function E(t){var n=e.Validators.exportDataRequestValidator.validate(t);return n?n.map(f):void 0}function O(t){var n=e.Validators.visualHeaderValidator.validate(t);return n?n.map(f):void 0}function F(t){var n=e.Validators.visualSettingsValidator.validate(t);return n?n.map(f):void 0}function R(t){var n=e.Validators.commandsSettingsValidator.validate(t);return n?n.map(f):void 0}function L(t){var n=e.Validators.customThemeValidator.validate(t);return n?n.map(f):void 0}var P=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0}),e.Validators=n(1).Validators;var j;!function(t){t[t.Information=0]=\"Information\",t[t.Verbose=1]=\"Verbose\",t[t.Warning=2]=\"Warning\",t[t.Error=3]=\"Error\",t[t.ExpectedError=4]=\"ExpectedError\",t[t.UnexpectedError=5]=\"UnexpectedError\",t[t.Fatal=6]=\"Fatal\"}(j=e.TraceType||(e.TraceType={}));var q;!function(t){t[t.Widescreen=0]=\"Widescreen\",t[t.Standard=1]=\"Standard\",t[t.Cortana=2]=\"Cortana\",t[t.Letter=3]=\"Letter\",t[t.Custom=4]=\"Custom\"}(q=e.PageSizeType||(e.PageSizeType={}));var D;!function(t){t[t.FitToPage=0]=\"FitToPage\",t[t.FitToWidth=1]=\"FitToWidth\",t[t.ActualSize=2]=\"ActualSize\"}(D=e.DisplayOption||(e.DisplayOption={}));var B;!function(t){t[t.Default=0]=\"Default\",t[t.Transparent=1]=\"Transparent\"}(B=e.BackgroundType||(e.BackgroundType={}));var I;!function(t){t[t.Visible=0]=\"Visible\",t[t.Hidden=1]=\"Hidden\"}(I=e.VisualContainerDisplayMode||(e.VisualContainerDisplayMode={}));var z;!function(t){t[t.Master=0]=\"Master\",t[t.Custom=1]=\"Custom\",t[t.MobilePortrait=2]=\"MobilePortrait\",t[t.MobileLandscape=3]=\"MobileLandscape\"}(z=e.LayoutType||(e.LayoutType={}));var U;!function(t){t[t.AlwaysVisible=0]=\"AlwaysVisible\",t[t.HiddenInViewMode=1]=\"HiddenInViewMode\"}(U=e.SectionVisibility||(e.SectionVisibility={}));var H;!function(t){t[t.Read=0]=\"Read\",t[t.ReadWrite=1]=\"ReadWrite\",t[t.Copy=2]=\"Copy\",t[t.Create=4]=\"Create\",t[t.All=7]=\"All\"}(H=e.Permissions||(e.Permissions={}));var K;!function(t){t[t.View=0]=\"View\",t[t.Edit=1]=\"Edit\"}(K=e.ViewMode||(e.ViewMode={}));var Y;!function(t){t[t.Aad=0]=\"Aad\",t[t.Embed=1]=\"Embed\"}(Y=e.TokenType||(e.TokenType={}));var J;!function(t){t[t.Bottom=0]=\"Bottom\",t[t.Top=1]=\"Top\"}(J=e.MenuLocation||(e.MenuLocation={}));var G;!function(t){t[t.Report=0]=\"Report\",t[t.Page=1]=\"Page\",t[t.Visual=2]=\"Visual\"}(G=e.FiltersLevel||(e.FiltersLevel={}));var W;!function(t){t[t.Advanced=0]=\"Advanced\",t[t.Basic=1]=\"Basic\",t[t.Unknown=2]=\"Unknown\",t[t.IncludeExclude=3]=\"IncludeExclude\",t[t.RelativeDate=4]=\"RelativeDate\",t[t.TopN=5]=\"TopN\",t[t.Tuple=6]=\"Tuple\"}(W=e.FilterType||(e.FilterType={}));var Z;!function(t){t[t.Days=0]=\"Days\",t[t.Weeks=1]=\"Weeks\",t[t.CalendarWeeks=2]=\"CalendarWeeks\",t[t.Months=3]=\"Months\",t[t.CalendarMonths=4]=\"CalendarMonths\",t[t.Years=5]=\"Years\",t[t.CalendarYears=6]=\"CalendarYears\"}(Z=e.RelativeDateFilterTimeUnit||(e.RelativeDateFilterTimeUnit={}));var $;!function(t){t[t.InLast=0]=\"InLast\",t[t.InThis=1]=\"InThis\",t[t.InNext=2]=\"InNext\"}($=e.RelativeDateOperators||(e.RelativeDateOperators={}));var X=function(){function t(t,e){this.target=t,this.filterType=e}return t.prototype.toJSON=function(){var t={$schema:this.schemaUrl,target:this.target,filterType:this.filterType};return void 0!==this.displaySettings&&(t.displaySettings=this.displaySettings),t},t}();e.Filter=X;var Q=function(t){function e(n,r,a){var i=t.call(this,n,W.Unknown)||this;return i.message=r,i.notSupportedTypeName=a,i.schemaUrl=e.schemaUrl,i}return P(e,t),e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.message=this.message,e.notSupportedTypeName=this.notSupportedTypeName,e},e.schemaUrl=\"http://powerbi.com/product/schema#notSupported\",e}(X);e.NotSupportedFilter=Q;var tt=function(t){function e(n,r,a){var i=t.call(this,n,W.IncludeExclude)||this;return i.values=a,i.isExclude=r,i.schemaUrl=e.schemaUrl,i}return P(e,t),e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.isExclude=this.isExclude,e.values=this.values,e},e.schemaUrl=\"http://powerbi.com/product/schema#includeExclude\",e}(X);e.IncludeExcludeFilter=tt;var et=function(t){function e(n,r,a){var i=t.call(this,n,W.TopN)||this;return i.operator=r,i.itemCount=a,i.schemaUrl=e.schemaUrl,i}return P(e,t),e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.operator=this.operator,e.itemCount=this.itemCount,e},e.schemaUrl=\"http://powerbi.com/product/schema#topN\",e}(X);e.TopNFilter=et;var nt=function(t){function e(n,r,a,i,o){var l=t.call(this,n,W.RelativeDate)||this;return l.operator=r,l.timeUnitsCount=a,l.timeUnitType=i,l.includeToday=o,l.schemaUrl=e.schemaUrl,l}return P(e,t),e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.operator=this.operator,e.timeUnitsCount=this.timeUnitsCount,e.timeUnitType=this.timeUnitType,e.includeToday=this.includeToday,e},e.schemaUrl=\"http://powerbi.com/product/schema#relativeDate\",e}(X);e.RelativeDateFilter=nt;var rt=function(t){function e(n,r){for(var a=[],i=2;i<arguments.length;i++)a[i-2]=arguments[i];var o=t.call(this,n,W.Basic)||this;if(o.operator=r,o.schemaUrl=e.schemaUrl,0===a.length&&\"All\"!==r)throw new Error('values must be a non-empty array unless your operator is \"All\".');return Array.isArray(a[0])?o.values=a[0]:o.values=a,o}return P(e,t),e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.operator=this.operator,e.values=this.values,e},e.schemaUrl=\"http://powerbi.com/product/schema#basic\",e}(X);e.BasicFilter=rt;var at=function(t){function e(e,n,r,a){var i=t.call(this,e,n,r)||this;i.keyValues=a,i.target=e;var o=e.keys?e.keys.length:0;if(o>0&&!a)throw new Error(\"You should pass the values to be filtered for each key. You passed: no values and \"+o+\" keys\");if(0===o&&a&&a.length>0)throw new Error(\"You passed key values but your target object doesn't contain the keys to be filtered\");for(var l=0;l<i.keyValues.length;l++)if(i.keyValues[l]){var u=i.keyValues[l].length;if(u!==o)throw new Error(\"Each tuple of key values should contain a value for each of the keys. You passed: \"+u+\" values and \"+o+\" keys\")}return i}return P(e,t),e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.keyValues=this.keyValues,e},e}(rt);e.BasicFilterWithKeys=at;var it=function(t){function e(n,r,a){var i=t.call(this,n,W.Tuple)||this;return i.operator=r,i.schemaUrl=e.schemaUrl,i.values=a,i}return P(e,t),e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.operator=this.operator,e.values=this.values,e.target=this.target,e},e.schemaUrl=\"http://powerbi.com/product/schema#tuple\",e}(X);e.TupleFilter=it;var ot=function(t){function e(n,r){for(var a=[],i=2;i<arguments.length;i++)a[i-2]=arguments[i];var o=t.call(this,n,W.Advanced)||this;if(o.schemaUrl=e.schemaUrl,\"string\"!=typeof r||0===r.length)throw new Error(\"logicalOperator must be a valid operator, You passed: \"+r);o.logicalOperator=r;var l;if(l=Array.isArray(a[0])?a[0]:a,0===l.length)throw new Error(\"conditions must be a non-empty array. You passed: \"+a);if(l.length>2)throw new Error(\"AdvancedFilters may not have more than two conditions. You passed: \"+a.length);if(1===l.length&&\"And\"!==r)throw new Error('Logical Operator must be \"And\" when there is only one condition provided');return o.conditions=l,o}return P(e,t),e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.logicalOperator=this.logicalOperator,e.conditions=this.conditions,e},e.schemaUrl=\"http://powerbi.com/product/schema#advanced\",e}(X);e.AdvancedFilter=ot,e.isFilterKeyColumnsTarget=r,e.isBasicFilterWithKeys=a,e.getFilterType=i,e.isMeasure=o,e.isColumn=l,e.isHierarchyLevel=u,e.isHierarchyLevelAggr=s,e.isColumnAggr=c;var lt;!function(t){t[t.Interactive=0]=\"Interactive\",t[t.ResultOnly=1]=\"ResultOnly\"}(lt=e.QnaMode||(e.QnaMode={}));var ut;!function(t){t[t.Summarized=0]=\"Summarized\",t[t.Underlying=1]=\"Underlying\"}(ut=e.ExportDataType||(e.ExportDataType={}));var st;!function(t){t[t.Off=0]=\"Off\",t[t.Presentation=1]=\"Presentation\"}(st=e.BookmarksPlayMode||(e.BookmarksPlayMode={})),e.CommonErrorCodes={TokenExpired:\"TokenExpired\",NotFound:\"PowerBIEntityNotFound\",InvalidParameters:\"Invalid parameters\",LoadReportFailed:\"LoadReportFailed\",NotAuthorized:\"PowerBINotAuthorizedException\",FailedToLoadModel:\"ExplorationContainer_FailedToLoadModel_DefaultDetails\"},e.TextAlignment={Left:\"left\",Center:\"center\",Right:\"right\"},e.LegendPosition={Top:\"Top\",Bottom:\"Bottom\",Right:\"Right\",Left:\"Left\",TopCenter:\"TopCenter\",BottomCenter:\"BottomCenter\",RightCenter:\"RightCenter\",LeftCenter:\"LeftCenter\"};var ct=function(){function t(t){this.$schema=t}return t.prototype.toJSON=function(){return{$schema:this.$schema}},t}();e.Selector=ct;var ft=function(t){function e(n){var r=t.call(this,e.schemaUrl)||this;return r.pageName=n,r}return P(e,t),e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.pageName=this.pageName,e},e.schemaUrl=\"http://powerbi.com/product/schema#pageSelector\",e}(ct);e.PageSelector=ft;var dt=function(t){function e(n){var r=t.call(this,e.schemaUrl)||this;return r.visualName=n,r}return P(e,t),e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.visualName=this.visualName,e},e.schemaUrl=\"http://powerbi.com/product/schema#visualSelector\",e}(ct);e.VisualSelector=dt;var ht=function(t){function e(e){var n=t.call(this,dt.schemaUrl)||this;return n.visualType=e,n}return P(e,t),e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.visualType=this.visualType,e},e.schemaUrl=\"http://powerbi.com/product/schema#visualTypeSelector\",e}(ct);e.VisualTypeSelector=ht;var pt=function(t){function e(e){var n=t.call(this,dt.schemaUrl)||this;return n.target=e,n}return P(e,t),e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.target=this.target,e},e.schemaUrl=\"http://powerbi.com/product/schema#slicerTargetSelector\",e}(ct);e.SlicerTargetSelector=pt;var vt;!function(t){t[t.Enabled=0]=\"Enabled\",t[t.Disabled=1]=\"Disabled\",t[t.Hidden=2]=\"Hidden\"}(vt=e.CommandDisplayOption||(e.CommandDisplayOption={}));var gt;!function(t){t[t.Grouping=0]=\"Grouping\",t[t.Measure=1]=\"Measure\",t[t.GroupingOrMeasure=2]=\"GroupingOrMeasure\"}(gt=e.VisualDataRoleKind||(e.VisualDataRoleKind={}));var yt;!function(t){t[t.Measure=0]=\"Measure\",t[t.Grouping=1]=\"Grouping\"}(yt=e.VisualDataRoleKindPreference||(e.VisualDataRoleKindPreference={})),e.validateVisualSelector=d,e.validateSlicer=h,e.validateSlicerState=p,e.validatePlayBookmarkRequest=v,e.validateAddBookmarkRequest=g,e.validateApplyBookmarkByNameRequest=y,e.validateApplyBookmarkStateRequest=m,e.validateSettings=V,e.validateCustomPageSize=b,e.validateExtension=w,e.validateReportLoad=x,e.validateCreateReport=M,e.validateDashboardLoad=_,e.validateTileLoad=S,e.validatePage=k,e.validateFilter=A,e.validateSaveAsParameters=C,e.validateLoadQnaConfiguration=T,e.validateQnaInterpretInputData=N,e.validateExportDataRequest=E,e.validateVisualHeader=O,e.validateVisualSettings=F,e.validateCommandsSettings=R,e.validateCustomTheme=L},function(t,e,n){Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(2),a=n(3),i=n(5),o=n(6),l=n(7),u=n(8),s=n(9),c=n(10),f=n(11),d=n(12),h=n(13),p=n(14),v=n(15),g=n(16),y=n(17),m=n(18),V=n(19),b=n(20),w=n(21),x=n(22),M=n(23),_=n(24);e.Validators={addBookmarkRequestValidator:new o.AddBookmarkRequestValidator,advancedFilterTypeValidator:new r.EnumValidator([0]),advancedFilterValidator:new l.AdvancedFilterValidator,anyArrayValidator:new r.ArrayValidator([new s.AnyOfValidator([new r.StringValidator,new r.NumberValidator,new r.BooleanValidator])]),anyFilterValidator:new s.AnyOfValidator([new l.BasicFilterValidator,new l.AdvancedFilterValidator,new l.IncludeExcludeFilterValidator,new l.NotSupportedFilterValidator,new l.RelativeDateFilterValidator,new l.TopNFilterValidator]),anyValueValidator:new s.AnyOfValidator([new r.StringValidator,new r.NumberValidator,new r.BooleanValidator]),applyBookmarkByNameRequestValidator:new o.ApplyBookmarkByNameRequestValidator,applyBookmarkStateRequestValidator:new o.ApplyBookmarkStateRequestValidator,applyBookmarkValidator:new s.AnyOfValidator([new o.ApplyBookmarkByNameRequestValidator,new o.ApplyBookmarkStateRequestValidator]),backgroundValidator:new r.EnumValidator([0,1]),basicFilterTypeValidator:new r.EnumValidator([1]),basicFilterValidator:new l.BasicFilterValidator,booleanArrayValidator:new r.BooleanArrayValidator,booleanValidator:new r.BooleanValidator,commandDisplayOptionValidator:new r.EnumValidator([0,1,2]),commandExtensionSelectorValidator:new s.AnyOfValidator([new b.VisualSelectorValidator,new b.VisualTypeSelectorValidator]),commandExtensionValidator:new a.CommandExtensionValidator,commandsSettingsArrayValidator:new r.ArrayValidator([new M.CommandsSettingsValidator]),commandsSettingsValidator:new M.CommandsSettingsValidator,conditionItemValidator:new l.ConditionItemValidator,customLayoutDisplayOptionValidator:new r.EnumValidator([0,1,2]),customLayoutValidator:new m.CustomLayoutValidator,customPageSizeValidator:new p.CustomPageSizeValidator,customThemeValidator:new _.CustomThemeValidator,dashboardLoadValidator:new d.DashboardLoadValidator,displayStateModeValidator:new r.EnumValidator([0,1]),displayStateValidator:new m.DisplayStateValidator,exportDataRequestValidator:new V.ExportDataRequestValidator,extensionArrayValidator:new r.ArrayValidator([new a.ExtensionValidator]),extensionPointsValidator:new a.ExtensionPointsValidator,extensionValidator:new a.ExtensionValidator,fieldRequiredValidator:new u.FieldRequiredValidator,filterColumnTargetValidator:new l.FilterColumnTargetValidator,filterConditionsValidator:new r.ArrayValidator([new l.ConditionItemValidator]),filterHierarchyTargetValidator:new l.FilterHierarchyTargetValidator,filterMeasureTargetValidator:new l.FilterMeasureTargetValidator,filterTargetValidator:new s.AnyOfValidator([new l.FilterColumnTargetValidator,new l.FilterHierarchyTargetValidator,new l.FilterMeasureTargetValidator]),filtersArrayValidator:new r.ArrayValidator([new s.AnyOfValidator([new l.BasicFilterValidator,new l.AdvancedFilterValidator,new l.RelativeDateFilterValidator])]),filtersValidator:new l.FilterValidator,includeExcludeFilterValidator:new l.IncludeExcludeFilterValidator,includeExludeFilterTypeValidator:new r.EnumValidator([3]),layoutTypeValidator:new r.EnumValidator([0,1,2,3]),loadQnaValidator:new v.LoadQnaValidator,menuExtensionValidator:new a.MenuExtensionValidator,menuLocationValidator:new r.EnumValidator([0,1]),notSupportedFilterTypeValidator:new r.EnumValidator([2]),notSupportedFilterValidator:new l.NotSupportedFilterValidator,numberArrayValidator:new r.NumberArrayValidator,numberValidator:new r.NumberValidator,pageLayoutValidator:new y.MapValidator([new r.StringValidator],[new m.VisualLayoutValidator]),pageSizeTypeValidator:new r.EnumValidator([0,1,2,3,4,5]),pageSizeValidator:new p.PageSizeValidator,pageValidator:new p.PageValidator,pageViewFieldValidator:new p.PageViewFieldValidator,pagesLayoutValidator:new y.MapValidator([new r.StringValidator],[new m.PageLayoutValidator]),permissionsValidator:new r.EnumValidator([0,1,2,4,7]),playBookmarkRequestValidator:new o.PlayBookmarkRequestValidator,qnaInterpretInputDataValidator:new v.QnaInterpretInputDataValidator,qnaSettingValidator:new v.QnaSettingsValidator,relativeDateFilterOperatorValidator:new r.EnumValidator([0,1,2]),relativeDateFilterTimeUnitTypeValidator:new r.EnumValidator([0,1,2,3,4,5,6]),relativeDateFilterTypeValidator:new r.EnumValidator([4]),relativeDateFilterValidator:new l.RelativeDateFilterValidator,reportCreateValidator:new f.ReportCreateValidator,reportLoadValidator:new c.ReportLoadValidator,saveAsParametersValidator:new g.SaveAsParametersValidator,settingsValidator:new i.SettingsValidator,singleCommandSettingsValidator:new M.SingleCommandSettingsValidator,slicerSelectorValidator:new s.AnyOfValidator([new b.VisualSelectorValidator,new b.SlicerTargetSelectorValidator]),slicerStateValidator:new w.SlicerStateValidator,slicerTargetValidator:new s.AnyOfValidator([new l.FilterColumnTargetValidator,new l.FilterHierarchyTargetValidator,new l.FilterMeasureTargetValidator,new l.FilterKeyColumnsTargetValidator,new l.FilterKeyHierarchyTargetValidator]),slicerValidator:new w.SlicerValidator,stringArrayValidator:new r.StringArrayValidator,stringValidator:new r.StringValidator,tileLoadValidator:new h.TileLoadValidator,tokenTypeValidator:new r.EnumValidator([0,1]),topNFilterTypeValidator:new r.EnumValidator([5]),topNFilterValidator:new l.TopNFilterValidator,viewModeValidator:new r.EnumValidator([0,1]),visualCommandSelectorValidator:new s.AnyOfValidator([new b.VisualSelectorValidator,new b.VisualTypeSelectorValidator]),visualHeaderSelectorValidator:new s.AnyOfValidator([new b.VisualSelectorValidator,new b.VisualTypeSelectorValidator]),visualHeaderSettingsValidator:new x.VisualHeaderSettingsValidator,visualHeaderValidator:new x.VisualHeaderValidator,visualHeadersValidator:new r.ArrayValidator([new x.VisualHeaderValidator]),visualLayoutValidator:new m.VisualLayoutValidator,visualSelectorValidator:new b.VisualSelectorValidator,visualSettingsValidator:new x.VisualSettingsValidator,visualTypeSelectorValidator:new b.VisualTypeSelectorValidator}},function(t,e){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var r=function(){function t(){}return t.prototype.validate=function(t,e,n){return null==t?null:\"object\"!=typeof t||Array.isArray(t)?[{message:void 0!==n?n+\" must be an object\":\"input must be an object\",path:e,keyword:\"type\"}]:null},t}();e.ObjectValidator=r;var a=function(){function t(t){this.itemValidators=t}return t.prototype.validate=function(t,e,n){if(null==t)return null;if(!Array.isArray(t))return[{message:n+\" property is invalid\",path:(e?e+\".\":\"\")+n,keyword:\"type\"}];for(var r=0;r<t.length;r++)for(var a=(e?e+\".\":\"\")+n+\".\"+r,i=0,o=this.itemValidators;i<o.length;i++){var l=o[i],u=l.validate(t[r],a,n);if(u)return[{message:n+\" property is invalid\",path:(e?e+\".\":\"\")+n,keyword:\"type\"}]}return null},t}();e.ArrayValidator=a;var i=function(){function t(t){this.expectedType=t}return t.prototype.validate=function(t,e,n){return null==t?null:typeof t!==this.expectedType?[{message:n+\" must be a \"+this.expectedType,path:(e?e+\".\":\"\")+n,keyword:\"type\"}]:null},t}();e.TypeValidator=i;var o=function(t){function e(){return t.call(this,\"string\")||this}return n(e,t),e}(i);e.StringValidator=o;var l=function(t){function e(){return t.call(this,\"boolean\")||this}return n(e,t),e}(i);e.BooleanValidator=l;var u=function(t){function e(){return t.call(this,\"number\")||this}return n(e,t),e}(i);e.NumberValidator=u;var s=function(){function t(t){this.possibleValues=t}return t.prototype.validate=function(t,e,n){return null==t?null:this.possibleValues.indexOf(t)<0?[{message:n+\" property is invalid\",path:(e?e+\".\":\"\")+n,keyword:\"invalid\"}]:null},t}();e.ValueValidator=s;var c=function(t){function e(e){var n=t.call(this,[e])||this;return n.schemaValue=e,n}return n(e,t),e.prototype.validate=function(e,n,r){return t.prototype.validate.call(this,e,n,r)},e}(s);e.SchemaValidator=c;var f=function(t){function e(e){var n=t.call(this)||this;return n.possibleValues=e,n}return n(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var a=t.prototype.validate.call(this,e,n,r);if(a)return a;var i=new s(this.possibleValues);return i.validate(e,n,r)},e}(u);e.EnumValidator=f;var d=function(t){function e(){return t.call(this,[new o])||this}return n(e,t),e.prototype.validate=function(e,n,r){var a=t.prototype.validate.call(this,e,n,r);return a?[{message:r+\" must be an array of strings\",path:(n?n+\".\":\"\")+r,keyword:\"type\"}]:null},e}(a);e.StringArrayValidator=d;var h=function(t){function e(){return t.call(this,[new l])||this}return n(e,t),e.prototype.validate=function(e,n,r){var a=t.prototype.validate.call(this,e,n,r);return a?[{message:r+\" must be an array of booleans\",path:(n?n+\".\":\"\")+r,keyword:\"type\"}]:null},e}(a);e.BooleanArrayValidator=h;var p=function(t){function e(){return t.call(this,[new u])||this}return n(e,t),e.prototype.validate=function(e,n,r){var a=t.prototype.validate.call(this,e,n,r);return a?[{message:r+\" must be an array of numbers\",path:(n?n+\".\":\"\")+r,keyword:\"type\"}]:null},e}(a);e.NumberArrayValidator=p},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(1),i=n(4),o=n(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"title\",validators:[a.Validators.stringValidator]},{field:\"icon\",validators:[a.Validators.stringValidator]},{field:\"menuLocation\",validators:[a.Validators.menuLocationValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.MenuExtensionValidator=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"visualContextMenu\",validators:[a.Validators.menuExtensionValidator]},{field:\"visualOptionsMenu\",validators:[a.Validators.menuExtensionValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.ExtensionPointsValidator=u;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"name\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"extend\",validators:[a.Validators.fieldRequiredValidator,a.Validators.extensionPointsValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.ExtensionItemValidator=s;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"title\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"icon\",validators:[a.Validators.stringValidator]},{field:\"selector\",validators:[a.Validators.commandExtensionSelectorValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(s);e.CommandExtensionValidator=c;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"command\",validators:[a.Validators.commandExtensionValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.ExtensionValidator=f},function(t,e){Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){function t(t){this.fieldValidatorsPairs=t}return t.prototype.validate=function(t,e,n){if(!this.fieldValidatorsPairs)return null;for(var r=e?e+\".\"+n:n,a=0,i=this.fieldValidatorsPairs;a<i.length;a++)for(var o=i[a],l=0,u=o.validators;l<u.length;l++){var s=u[l],c=s.validate(t[o.field],r,o.field);if(c)return c}return null},t}();e.MultipleFieldsValidator=n},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(1),i=n(4),o=n(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"filterPaneEnabled\",validators:[a.Validators.booleanValidator]},{field:\"navContentPaneEnabled\",validators:[a.Validators.booleanValidator]},{field:\"bookmarksPaneEnabled\",validators:[a.Validators.booleanValidator]},{field:\"useCustomSaveAsDialog\",validators:[a.Validators.booleanValidator]},{field:\"extensions\",validators:[a.Validators.extensionArrayValidator]},{field:\"layoutType\",validators:[a.Validators.layoutTypeValidator]},{field:\"customLayout\",validators:[a.Validators.customLayoutValidator]},{field:\"background\",validators:[a.Validators.backgroundValidator]},{field:\"visualSettings\",validators:[a.Validators.visualSettingsValidator]},{field:\"hideErrors\",validators:[a.Validators.booleanValidator]},{field:\"commands\",validators:[a.Validators.commandsSettingsArrayValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.SettingsValidator=l},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(1),i=n(4),o=n(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;\n}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var l=t.prototype.validate.call(this,e,n,r);if(l)return l;var u=[{field:\"playMode\",validators:[a.Validators.fieldRequiredValidator,new o.EnumValidator([0,1])]}],s=new i.MultipleFieldsValidator(u);return s.validate(e,n,r)},e}(o.ObjectValidator);e.PlayBookmarkRequestValidator=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"state\",validators:[a.Validators.stringValidator]},{field:\"displayName\",validators:[a.Validators.stringValidator]},{field:\"apply\",validators:[a.Validators.booleanValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.AddBookmarkRequestValidator=u;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"name\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.ApplyBookmarkByNameRequestValidator=s;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"state\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.ApplyBookmarkStateRequestValidator=c},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(1),i=n(4),o=n(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"table\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"column\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.FilterColumnTargetValidator=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"keys\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringArrayValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(l);e.FilterKeyColumnsTargetValidator=u;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"table\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"hierarchy\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"hierarchyLevel\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.FilterHierarchyTargetValidator=s;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"keys\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringArrayValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(s);e.FilterKeyHierarchyTargetValidator=c;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"table\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"measure\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.FilterMeasureTargetValidator=f;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"target\",validators:[a.Validators.fieldRequiredValidator,a.Validators.filterTargetValidator]},{field:\"operator\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"values\",validators:[a.Validators.fieldRequiredValidator,a.Validators.anyArrayValidator]},{field:\"filterType\",validators:[a.Validators.basicFilterTypeValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.BasicFilterValidator=d;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"target\",validators:[a.Validators.fieldRequiredValidator,a.Validators.filterTargetValidator]},{field:\"logicalOperator\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"conditions\",validators:[a.Validators.fieldRequiredValidator,a.Validators.filterConditionsValidator]},{field:\"filterType\",validators:[a.Validators.advancedFilterTypeValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.AdvancedFilterValidator=h;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"target\",validators:[a.Validators.fieldRequiredValidator,a.Validators.filterTargetValidator]},{field:\"operator\",validators:[a.Validators.fieldRequiredValidator,a.Validators.relativeDateFilterOperatorValidator]},{field:\"timeUnitsCount\",validators:[a.Validators.fieldRequiredValidator,a.Validators.numberValidator]},{field:\"timeUnitType\",validators:[a.Validators.fieldRequiredValidator,a.Validators.relativeDateFilterTimeUnitTypeValidator]},{field:\"includeToday\",validators:[a.Validators.fieldRequiredValidator,a.Validators.booleanValidator]},{field:\"filterType\",validators:[a.Validators.relativeDateFilterTypeValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.RelativeDateFilterValidator=p;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"target\",validators:[a.Validators.fieldRequiredValidator,a.Validators.filterTargetValidator]},{field:\"operator\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"itemCount\",validators:[a.Validators.fieldRequiredValidator,a.Validators.numberValidator]},{field:\"filterType\",validators:[a.Validators.topNFilterTypeValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.TopNFilterValidator=v;var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"target\",validators:[a.Validators.filterTargetValidator]},{field:\"message\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"notSupportedTypeName\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"filterType\",validators:[a.Validators.notSupportedFilterTypeValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.NotSupportedFilterValidator=g;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"target\",validators:[a.Validators.fieldRequiredValidator,a.Validators.filterTargetValidator]},{field:\"isExclude\",validators:[a.Validators.fieldRequiredValidator,a.Validators.booleanValidator]},{field:\"values\",validators:[a.Validators.fieldRequiredValidator,a.Validators.anyArrayValidator]},{field:\"filterType\",validators:[a.Validators.includeExludeFilterTypeValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.IncludeExcludeFilterValidator=y;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(t,e,n){return null==t?null:a.Validators.anyFilterValidator.validate(t,e,n)},e}(o.ObjectValidator);e.FilterValidator=m;var V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"value\",validators:[a.Validators.anyValueValidator]},{field:\"operator\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.ConditionItemValidator=V},function(t,e){Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){function t(){}return t.prototype.validate=function(t,e,n){return null==t?[{message:n+\" is required\",path:(e?e+\".\":\"\")+n,keyword:\"required\"}]:null},t}();e.FieldRequiredValidator=n},function(t,e){Object.defineProperty(e,\"__esModule\",{value:!0});var n=function(){function t(t){this.validators=t}return t.prototype.validate=function(t,e,n){if(null==t)return null;for(var r=!1,a=0,i=this.validators;a<i.length;a++){var o=i[a],l=o.validate(t,e,n);if(!l){r=!0;break}}return r?null:[{message:n+\" property is invalid\",path:(e?e+\".\":\"\")+n,keyword:\"invalid\"}]},t}();e.AnyOfValidator=n},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(1),i=n(4),o=n(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"accessToken\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"id\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"groupId\",validators:[a.Validators.stringValidator]},{field:\"settings\",validators:[a.Validators.settingsValidator]},{field:\"pageName\",validators:[a.Validators.stringValidator]},{field:\"filters\",validators:[a.Validators.filtersArrayValidator]},{field:\"permissions\",validators:[a.Validators.permissionsValidator]},{field:\"viewMode\",validators:[a.Validators.viewModeValidator]},{field:\"tokenType\",validators:[a.Validators.tokenTypeValidator]},{field:\"bookmark\",validators:[a.Validators.applyBookmarkValidator]},{field:\"theme\",validators:[a.Validators.customThemeValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.ReportLoadValidator=l},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(1),i=n(4),o=n(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"accessToken\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"datasetId\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"groupId\",validators:[a.Validators.stringValidator]},{field:\"tokenType\",validators:[a.Validators.tokenTypeValidator]},{field:\"theme\",validators:[a.Validators.customThemeValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.ReportCreateValidator=l},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(1),i=n(4),o=n(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"accessToken\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"id\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"groupId\",validators:[a.Validators.stringValidator]},{field:\"pageView\",validators:[a.Validators.pageViewFieldValidator]},{field:\"tokenType\",validators:[a.Validators.tokenTypeValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.DashboardLoadValidator=l},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(1),i=n(4),o=n(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"accessToken\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"id\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"dashboardId\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"groupId\",validators:[a.Validators.stringValidator]},{field:\"pageView\",validators:[a.Validators.stringValidator]},{field:\"tokenType\",validators:[a.Validators.tokenTypeValidator]},{field:\"width\",validators:[a.Validators.numberValidator]},{field:\"height\",validators:[a.Validators.numberValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.TileLoadValidator=l},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(1),i=n(4),o=n(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"type\",validators:[a.Validators.fieldRequiredValidator,a.Validators.pageSizeTypeValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.PageSizeValidator=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"width\",validators:[a.Validators.numberValidator]},{field:\"height\",validators:[a.Validators.numberValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(l);e.CustomPageSizeValidator=u;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"name\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.PageValidator=s;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var a=t.prototype.validate.call(this,e,n,r);if(a)return a;var i=[\"actualSize\",\"fitToWidth\",\"oneColumn\"];return i.indexOf(e)<0?[{message:'pageView must be a string with one of the following values: \"actualSize\", \"fitToWidth\", \"oneColumn\"'}]:null},e}(o.StringValidator);e.PageViewFieldValidator=c},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(1),i=n(4),o=n(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"accessToken\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]},{field:\"datasetIds\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringArrayValidator]},{field:\"question\",validators:[a.Validators.stringValidator]},{field:\"viewMode\",validators:[a.Validators.viewModeValidator]},{field:\"settings\",validators:[a.Validators.qnaSettingValidator]},{field:\"tokenType\",validators:[a.Validators.tokenTypeValidator]},{field:\"groupId\",validators:[a.Validators.stringValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.LoadQnaValidator=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"filterPaneEnabled\",validators:[a.Validators.booleanValidator]},{field:\"hideErrors\",validators:[a.Validators.booleanValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.QnaSettingsValidator=u;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"datasetIds\",validators:[a.Validators.stringArrayValidator]},{field:\"question\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.QnaInterpretInputDataValidator=s},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(1),i=n(4),o=n(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"name\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.SaveAsParametersValidator=l},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(2),i=function(t){function e(e,n){var r=t.call(this)||this;return r.keyValidators=e,r.valueValidators=n,r}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var a=t.prototype.validate.call(this,e,n,r);if(a)return a;for(var i in e)if(e.hasOwnProperty(i)){for(var o=(n?n+\".\":\"\")+r+\".\"+i,l=0,u=this.keyValidators;l<u.length;l++){var s=u[l];if(a=s.validate(i,o,r))return a}for(var c=0,f=this.valueValidators;c<f.length;c++){var d=f[c];if(a=d.validate(e[i],o,r))return a}}return null},e}(a.ObjectValidator);e.MapValidator=i},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(1),i=n(4),o=n(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"pageSize\",validators:[a.Validators.pageSizeValidator]},{field:\"displayOption\",validators:[a.Validators.customLayoutDisplayOptionValidator]},{field:\"pagesLayout\",validators:[a.Validators.pagesLayoutValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.CustomLayoutValidator=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"x\",validators:[a.Validators.numberValidator]},{field:\"y\",validators:[a.Validators.numberValidator]},{field:\"z\",validators:[a.Validators.numberValidator]},{field:\"width\",validators:[a.Validators.numberValidator]},{field:\"height\",validators:[a.Validators.numberValidator]},{field:\"displayState\",validators:[a.Validators.displayStateValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.VisualLayoutValidator=u;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"mode\",validators:[a.Validators.displayStateModeValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.DisplayStateValidator=s;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"visualsLayout\",validators:[a.Validators.fieldRequiredValidator,a.Validators.pageLayoutValidator]},{field:\"defaultLayout\",validators:[a.Validators.visualLayoutValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.PageLayoutValidator=c},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(4),i=n(2),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"rows\",validators:[new i.NumberValidator]},{field:\"exportDataType\",validators:[new i.EnumValidator([0,1])]}],u=new a.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(i.ObjectValidator);e.ExportDataRequestValidator=o},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(1),i=n(4),o=n(2),l=n(2),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var u=[{field:\"$schema\",validators:[a.Validators.stringValidator,new l.SchemaValidator(\"http://powerbi.com/product/schema#visualSelector\")]},{field:\"visualName\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}],s=new i.MultipleFieldsValidator(u);return s.validate(e,n,r)},e}(o.ObjectValidator);e.VisualSelectorValidator=u;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var u=[{field:\"$schema\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator,new l.SchemaValidator(\"http://powerbi.com/product/schema#visualTypeSelector\")]},{field:\"visualType\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator]}],s=new i.MultipleFieldsValidator(u);return s.validate(e,n,r)},e}(o.ObjectValidator);e.VisualTypeSelectorValidator=s;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var u=[{field:\"$schema\",validators:[a.Validators.fieldRequiredValidator,a.Validators.stringValidator,new l.SchemaValidator(\"http://powerbi.com/product/schema#slicerTargetSelector\")]},{field:\"target\",validators:[a.Validators.fieldRequiredValidator,a.Validators.slicerTargetValidator]}],s=new i.MultipleFieldsValidator(u);return s.validate(e,n,r)},e}(o.ObjectValidator);e.SlicerTargetSelectorValidator=c},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(1),i=n(4),o=n(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"selector\",validators:[a.Validators.fieldRequiredValidator,a.Validators.slicerSelectorValidator]},{field:\"state\",validators:[a.Validators.fieldRequiredValidator,a.Validators.slicerStateValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.SlicerValidator=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"filters\",validators:[a.Validators.filtersArrayValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.SlicerStateValidator=u},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(1),i=n(4),o=n(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"visualHeaders\",validators:[a.Validators.visualHeadersValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.VisualSettingsValidator=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"visible\",validators:[a.Validators.booleanValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.VisualHeaderSettingsValidator=u;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"settings\",validators:[a.Validators.fieldRequiredValidator,a.Validators.visualHeaderSettingsValidator]},{field:\"selector\",validators:[a.Validators.visualHeaderSelectorValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.VisualHeaderValidator=s},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(1),i=n(4),o=n(2),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"copy\",validators:[a.Validators.singleCommandSettingsValidator]},{field:\"drill\",validators:[a.Validators.singleCommandSettingsValidator]},{field:\"drillthrough\",validators:[a.Validators.singleCommandSettingsValidator]},{field:\"expandCollapse\",validators:[a.Validators.singleCommandSettingsValidator]},{field:\"exportData\",validators:[a.Validators.singleCommandSettingsValidator]},{field:\"includeExclude\",validators:[a.Validators.singleCommandSettingsValidator]},{field:\"removeVisual\",validators:[a.Validators.singleCommandSettingsValidator]},{field:\"search\",validators:[a.Validators.singleCommandSettingsValidator]},{field:\"seeData\",validators:[a.Validators.singleCommandSettingsValidator]},{field:\"sort\",validators:[a.Validators.singleCommandSettingsValidator]},{field:\"spotlight\",validators:[a.Validators.singleCommandSettingsValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.CommandsSettingsValidator=l;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this;\n}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"displayOption\",validators:[a.Validators.fieldRequiredValidator,a.Validators.commandDisplayOptionValidator]},{field:\"selector\",validators:[a.Validators.visualCommandSelectorValidator]}],u=new i.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(o.ObjectValidator);e.SingleCommandSettingsValidator=u},function(t,e,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,\"__esModule\",{value:!0});var a=n(4),i=n(2),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.validate=function(e,n,r){if(null==e)return null;var o=t.prototype.validate.call(this,e,n,r);if(o)return o;var l=[{field:\"themeJson\",validators:[new i.ObjectValidator]}],u=new a.MultipleFieldsValidator(l);return u.validate(e,n,r)},e}(i.ObjectValidator);e.CustomThemeValidator=o}])});var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),powerbi;!function(t){var e;!function(e){var n;!function(e){var n;!function(e){\"use strict\";var n=t.extensibility.utils.dataview.DataViewObjectsParser,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.KPITreeSettings=new a,e.KPITreeFormat=new i,e.Legend=new o,e.BlockAnnotation=new l,e.CF11=new u,e}return __extends(e,t),e}(n);e.VisualSettings=r;var a=function(){function t(){this.showMeasure=!0,this.drillBlank=!0,this.drillEmpty=!0,this.showLimit=5,this.defaultDrillDown=3}return t}();e.KPITreeSettings=a;var i=function(){function t(){this.boxbg=\"#000000\",this.lines=\"#000000\",this.rx=0,this.Rx=0}return t}();e.KPITreeFormat=i;var o=function(){function t(){this.enable=!0,this.L1=\"Actual >= Target\",this.L2=\"Actual < Target\",this.L3=\"Extendable or empty node\",this.L4=\"Target not available\"}return t}();e.Legend=o;var l=function(){function t(){this.R1=\"Cost\",this.R2=\"Time\",this.R3=\"Delta\"}return t}();e.BlockAnnotation=l;var u=function(){function t(){this.enable=!0}return t}();e.CF11=u}(n=e.FCB64197A074475B35C21C09AB529C74||(e.FCB64197A074475B35C21C09AB529C74={}))}(n=e.visual||(e.visual={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){function e(t,e,n,a){var i={L1:\"Current <= Target\",L2:\"Current > Target\",L3:\"Extendable or empty node\",L4:\"Target not available\"},o=new r(t,n.depth*a,i);e.settings.Legend.enable&&(e.settings.Legend.L1||e.settings.Legend.L2||e.settings.Legend.L3||e.settings.Legend.L4?(e.settings.Legend.L1&&(i.L1=e.settings.Legend.L1),e.settings.Legend.L2&&(i.L2=e.settings.Legend.L2),e.settings.Legend.L3&&(i.L3=e.settings.Legend.L3),e.settings.Legend.L4&&(i.L4=e.settings.Legend.L4),e.svgG.append(\"foreignObject\").attr(\"x\",t+450).attr(\"y\",n.depth*a).attr(\"width\",500).attr(\"height\",100).html(o.DrawLegendHTML())):e.svgG.append(\"foreignObject\").attr(\"x\",t+450).attr(\"y\",n.depth*a).attr(\"width\",500).attr(\"height\",100).html(o.DrawLegendHTML()))}function n(t,e,n,r){var i={R1:\"Cost\",R2:\"Time\",R3:\"Delta\"},o=new a(i);e.settings.BlockAnnotation.R1||e.settings.BlockAnnotation.R2||e.settings.BlockAnnotation.R3?(e.settings.BlockAnnotation.R1||e.settings.BlockAnnotation.R2||e.settings.BlockAnnotation.R3)&&(e.settings.BlockAnnotation.R1&&(i.R1=e.settings.BlockAnnotation.R1),e.settings.BlockAnnotation.R2&&(i.R2=e.settings.BlockAnnotation.R2),e.settings.BlockAnnotation.R3&&(i.R3=e.settings.BlockAnnotation.R3),e.svgG.append(\"foreignObject\").attr(\"x\",t+189).attr(\"y\",n.depth*r+35).attr(\"width\",200).attr(\"height\",60).html(o.DrawAnnotationHTML())):e.svgG.append(\"foreignObject\").attr(\"x\",t+189).attr(\"y\",n.depth*r+35).attr(\"width\",200).attr(\"height\",60).html(o.DrawAnnotationHTML())}var r=function(){function t(t,e,n){this.x=t,this.y=e,this.values=n}return t.prototype.DrawLegendHTML=function(){var t,e=\"<table id='legend' class='legTable'>\",n=\"<thead><tr><th></th></tr></thead>\",r=\"<tbody>\";return t=\"\",t=t+e+n+r,t+=\"<tr class = 'red'>\",t=t+\"<td>\"+this.values.L1+\"</td>\",t+=\"<tr/>\",t+=\"<tr class = 'green'>\",t=t+\"<td>\"+this.values.L2+\"</td>\",t+=\"<tr/>\",t+=\"<tr class = 'yellow'>\",t=t+\"<td>\"+this.values.L3+\"</td>\",t+=\"<tr/>\",t+=\"<tr class = 'gray'>\",t=t+\"<td>\"+this.values.L4+\"</td>\",t+=\"<tr/>\",t+=\"</tbody>\",t+=\"</table>\"},t}();t.TreeLegend=r;var a=function(){function t(t){this.values=t}return t.prototype.DrawAnnotationHTML=function(){var t,e=\"<table  id='annotation' class='annoTable'>\",n=\"<thead><tr><th></th></tr></thead>\",r=\"<tbody>\";return t=\"\",t=t+e+n+r,t+=\"<tr>\",t=t+\"<td>\"+this.values.R1+\"</td>\",t+=\"</tr>\",t+=\"<tr>\",t=t+\"<td>\"+this.values.R2+\"</td>\",t+=\"</tr>\",t+=\"<tr>\",t=t+\"<td>\"+this.values.R3+\"</td>\",t+=\"</tr>\",t+=\"</tbody>\",t+=\"</table>\"},t}();t.Annotation=a,t.DrawLegend=e,t.DrawBlockAnnotation=n}(e||(e={}));var n;!function(t){function e(t){t.setAttribute(\"style\",\"height:700px;padding: 10px; display: block; min-width:99%;background: white\");for(var e=t.getElementsByClassName(\"dataTable\"),n=0;n<e.length;n++)e[n].setAttribute(\"style\",\"font-family: Trebuchet MS, Arial, Helvetica, sans-serif;border-collapse: collapse;width: 100%;text-align: center;background-color: whitesmoke;border: 0.5px solid black;\");for(var r=t.getElementsByClassName(\"dataTable-th\"),n=0;n<r.length;n++)r[n].setAttribute(\"style\",\"padding-top: 1px;padding-bottom: 1px;border: 1px solid black;font-size: 11px;\");for(var a=t.getElementsByClassName(\"dataTable-td\"),n=0;n<a.length;n++)a[n].setAttribute(\"style\",\"border: 1px solid black;padding: 0px;font-size: 11px;height: 16px;width: 25%;\");for(var i=t.getElementsByClassName(\"green\"),n=0;n<i.length;n++)i[n].setAttribute(\"style\",\"background-color: #39a31f;border: 1px solid black;color: white;font-size: 12px\");for(var o=t.getElementsByClassName(\"red\"),n=0;n<o.length;n++)o[n].setAttribute(\"style\",\"background-color: #fc4949;border: 1px solid black;color: white;font-size: 12px\");for(var l=t.getElementsByClassName(\"gray\"),n=0;n<l.length;n++)l[n].setAttribute(\"style\",\"background-color: #BFC0C2;border: 1px solid black;color: white;font-size: 12px\");for(var u=t.getElementsByClassName(\"yellow\"),n=0;n<u.length;n++)u[n].setAttribute(\"style\",\"background-color: #fcdb32;border: 1px solid black;color: white;font-size: 12px\");for(var s=t.getElementsByClassName(\"boxhead\"),n=0;n<s.length;n++)s[n].setAttribute(\"style\",\"font-weight:bold;text-align: center;font-size: 13px;fill: white;text-anchor: middle;\");for(var c=t.getElementsByClassName(\"annoTable\"),n=0;n<c.length;n++)c[n].setAttribute(\"style\",'font-size:11px;font-family: \"Trebuchet MS\", Arial, Helvetica, sans-serif;border-collapse: collapse;width: 100%;font-weight: bold;line-height: 15px;');for(var f=t.getElementsByClassName(\"legTable\"),n=0;n<f.length;n++)f[n].setAttribute(\"style\",\"border-spacing: 0px;\");for(var d=t.getElementsByClassName(\"drillCrc\"),n=0;n<d.length;n++)d[n].setAttribute(\"style\",\"fill: #e8ecf2;opacity: 1;\");for(var h=t.getElementsByClassName(\"prevCrc\"),n=0;n<h.length;n++)h[n].setAttribute(\"style\",\"fill: #e8ecf2;opacity: 1;\");for(var p=t.getElementsByClassName(\"nextCrc\"),n=0;n<p.length;n++)p[n].setAttribute(\"style\",\"fill: #e8ecf2;opacity: 1;\");for(var v=t.getElementsByClassName(\"arrow\"),n=0;n<v.length;n++)v[n].setAttribute(\"style\",\"stroke: black;stroke-width: 1.2; fill: none;\");for(var g=t.getElementsByClassName(\"footer\"),n=0;n<g.length;n++)g[n].setAttribute(\"style\",\"width: 50%;border: 1px solid black\")}function n(t,e,n,r,a){var i,o=document.getElementById(\"root\");i=+o.getAttribute(\"x\"),t.svgG.append(\"rect\").attr(\"x\",i+275).attr(\"y\",e.depth*a).attr(\"width\",150).attr(\"height\",n/2).attr(\"fill\",\"white\").attr(\"opacity\",\"1\")}function r(t,r,i,o,l){var u=document.querySelector(\"svg\"),s=u.getAttribute(\"style\");console.log(s);var c=+u.getAttribute(\"width\"),f=+u.getAttribute(\"height\"),d=+document.getElementById(\"root\").getAttribute(\"x\"),h=650,p=f+125,v=Math.max(c+25,d+h);u.setAttribute(\"height\",\"\"+p),u.setAttribute(\"width\",\"\"+v),e(u),n(t,r,i,o,l);var g=new Image,y=new XMLSerializer,m=y.serializeToString(u);g.src=\"data:image/svg+xml;base64,\"+a.encode(m);var V=document.createElement(\"canvas\"),b=4,w=v*b,x=p*b;V.width=w,V.height=x;var M=V.getContext(\"2d\");g.setAttribute(\"src\",\"data:image/svg+xml;base64,\"+a.encode(m)),g.onload=function(){M.drawImage(g,0,0,w,x),V.toBlob(function(t){window.saveAs(t,\"KPITree.jpg\")},\"image/jpg\")},u.setAttribute(\"style\",\"background: rgb(230, 217, 217) transparent\")}var a=window.Base64;t.saveImage=r}(n||(n={}));var r;!function(t){function e(e,n,r,a){var i=a.categories[7],o={table:i.source.queryName.substr(0,i.source.queryName.indexOf(\".\")),column:i.source.displayName},l=e.fullPath,u=new window[\"powerbi-models\"].BasicFilter(o,\"In\",l);\"true\"==n?r.host.applyJsonFilter(u,\"general\",\"filter\",0):r.host.applyJsonFilter(u,\"general\",\"filter\",1),t.isFiltered=\"true\"==n}t.isFiltered=!1,t.filterAPI=e}(r||(r={}));var a;!function(t){function e(t,e,n,r,a,i){this.data=t,this.parent=e,this.children=[],this.hiddenChildren=[],this.sums=[],this.prelim=0,this.modif=0,this[\"final\"]=0,this.shifted=-1,this.substitution=!1,this.fullPath=r,this.index=n,this.depth=a,this.path4Filter=i}function n(t,e,n,r,a,i){for(var o,l=\"\",u=0;r>u;u++){for(var s=0;i>s;s++)null!==a.categories[s].values[u]&&\"\"!==a.categories[s].values[u]||(a.categories[s].values[u]=\"\");if(l=a.categories[0].values[u]+\"\"+a.categories[1].values[u]+a.categories[2].values[u]+a.categories[3].values[u]+a.categories[4].values[u],t.fullPath===l&&e==a.categories[i+1].values[u]&&n==a.categories[i].values[u])return o=a.values[0].values[u]}return o}function r(t,e,n,r,a,i){for(var o,l=\"\",u=0;r>u;u++){for(var s=0;i>s;s++)null!==a.categories[s].values[u]&&\"\"!==a.categories[s].values[u]||(a.categories[s].values[u]=\"\");l=a.categories[0].values[u]+\"\"+a.categories[1].values[u]+a.categories[2].values[u]+a.categories[3].values[u]+a.categories[4].values[u],t.fullPath===l&&e==a.categories[i+1].values[u]&&n==a.categories[i].values[u]&&(o=a.values[1].values[u])}return o}var a=function(){function t(t,e,n,r){this.x=t,this.y=e,this.header=n,this.value=r}return t.prototype.GetDrawMyNode=function(t,e){var n;n=\"\";var r=\"<table id='analysisData' class = 'dataTable'>\",a=\"\",o=t[0].substring(2,t[0].length),l=t[1].substring(2,t[1].length),u=t[2].substring(2,t[2].length),s=t[3].substring(2,t[3].length);a=\"<thead><tr><th class = 'dataTable-th'>\"+o+\"</th><th class = 'dataTable-th'>\"+l+\"</th><th class = 'dataTable-th'>\"+u+\"</th><th class = 'dataTable-th'>\"+s+\"</th></thead>\";var c=\"<tbody>\";n=n+r+a+c,this.value.forEach(function(t){n+=\"<tr>\",n=n+\"<td class = 'dataTable-td'>\"+t.col0+\"</td>\",n=n+\"<td class = 'dataTable-td'>\"+t.col1+\"</td>\",n=n+\"<td class = 'dataTable-td'>\"+t.col2+\"</td>\",n=n+\"<td class = 'dataTable-td'>\"+t.col3+\"</td>\",n+=\"</tr>\"});var f=i.diffCurrencyValues(this.value[0].col0.toString().trim(),this.value[0].col3.toString().trim()),d=+(this.value[1].col3-this.value[1].col0)||0==+(this.value[1].col3-this.value[1].col0)?+(this.value[1].col3-this.value[1].col0).toFixed(1)+\" days\":\"--\";return 0==e?(n+=\"<tr class='green'>\",n=n+\"<td colspan='2' class='footer'>\"+f+\"</td>\",n=n+\"<td colspan='2' class='footer'>\"+d+\"</td>\",n+=\"</tr>\"):1==e?(n+=\"<tr class='red'>\",n=n+\"<td colspan='2' class='footer'>\"+f+\"</td>\",n=n+\"<td colspan='2' class='footer'>\"+d+\"</td>\",n+=\"</tr>\"):2==e?(n+=\"<tr class='gray'>\",n=n+\"<td colspan='2' class='footer'>\"+f+\"</td>\",n=n+\"<td colspan='2' class='footer'>\"+d+\"</td>\",n+=\"</tr>\"):(n+=\"<tr class='yellow'>\",n+=\"<td colspan='2' class='footer'>--</td>\",n+=\"<td colspan='2' class='footer'>--</td>\",n+=\"</tr>\"),n+=\"</tbody>\",n+=\"</table>\"},t}();t.TableNode=a,t.Nodex=e,t.renderVal=n,t.renderColor=r}(a||(a={}));var i;!function(t){function e(t){return Math.round(Math.log(t)/Math.LN10)}function n(t){var n={sign:0>t?\"-\":\"+\",value:\"\"},r=Math.abs(t),a=e(r);return 3>a?n.value=r.toFixed(1):6>a?n.value=(r/Math.pow(10,3)).toFixed(1)+\"K\":9>a?n.value=(r/Math.pow(10,6)).toFixed(1)+\"M\":12>a?n.value=(r/Math.pow(10,9)).toFixed(1)+\"B\":15>a?n.value=(r/Math.pow(10,15)).toFixed(1)+\"T\":n.value=r.toFixed(1),n}function r(t){return t.sort().filter(function(t,e,n){return!e||t!=n[e-1]})}function a(t){return null!=t&&\"\"!=t.toString().trim()}function i(t){return a(t)&&!isNaN(Number(t.toString()))}function o(t){return null!=t&&!isNaN(Number(t.toString()))&&\"\"!=t.toString().trim()}function l(t,e){var r={N:1,K:Math.pow(10,3),M:Math.pow(10,6),B:Math.pow(10,9),T:Math.pow(10,12)};if(!a(t)||!a(e)||\"--\"==t||\"--\"==e)return\"--\";var o=t.substring(0,1),l=i(t.substring(t.length-1))?\"N\":t.substring(t.length-1),u=i(e.substring(e.length-1))?\"N\":e.substring(e.length-1),s=\"N\"==l?+t.substring(1,t.length):+t.substring(1,t.length-1),c=\"N\"==u?+e.substring(1,e.length):+e.substring(1,e.length-1);s=r[l]*s,c=r[u]*c;var f=n(c-s);return f.sign+o+f.value}function u(t){return null!=t&&!(\"\"==t.toString().trim())}function s(t){if(!t)return t;var e,n=Array.isArray(t)?[]:{};for(var r in t)e=t[r],n[r]=\"object\"==typeof e?s(e):e;return n}t.sort_unique=r,t.isNumber=i,t.isNumberForRender=o,t.diffCurrencyValues=l,t.isNotNull=u,t.copy=s}(i||(i={}));var o=function(){function o(t){this.flag=!1,this.svg=d3.select(t.element).append(\"svg\").attr(\"class\",\"svg\").attr(\"style\",\"height:700px\"),t.element.style.overflow=\"auto\",this.host=t.host,this.element=t.element}return o.prototype.update=function(t){function l(t,e){if(!(e>=C)){for(var n=new Array(T+1),r=0;T+1>r;r++)n[r]=0;for(var r=0;A>r;r++){var i=!0,o=t;e>q-1&&(i=!1);for(var u=e;u>0;u--){if(\"\"===k.categories[u].values[r]||null===k.categories[u].values[r]){i=!1;break}if(o.data!=(null===k.categories[u-1].values[r]?\"(Blank)\":k.categories[u-1].values[r].toString())){i=!1;break}o=o.parent}if(i){for(var s=!0,c=0,f=t.children;c<f.length;c++){var d=f[c];if(d.data==(null===k.categories[e].values[r]?\"(Blank)\":k.categories[e].values[r].toString())){s=!1;break}}if(s){for(var h=\"\",p=[],u=0;e>=u;u++)h+=k.categories[u].values[r],p.push(\"\"+k.categories[u].values[r]+u);var v=p.join(\">\");if(o=new a.Nodex(null===k.categories[e].values[r]?\"(Blank)\":k.categories[e].values[r].toString(),t,r,h,e,v),e==C-1){o.sums[0]=1,n[0]+=1;for(var u=1;T+1>u;u++)o.sums[u]=parseFloat(k.values[u-1].values[r].toString()),n[u]+=o.sums[u]}else{o.sums=l(o,e+1);for(var u=0;T+1>u;u++)n[u]+=o.sums[u]}t.children.push(o)}}}return n}}function u(t,e){if(null!=t){for(;t.children.length>e;){var n=t.children.pop();n.substitution||t.hiddenChildren.unshift(n),s(n)}if(t.children.length>0&&t.hiddenChildren.length>0){var r=new a.Nodex(\"+ \"+t.hiddenChildren.length,t,t.index,\"\",0,\"\");r.substitution=!0,r.sums=[0];for(var i=0;T>=i;i++){r.sums[i]=0;for(var o=0;o<t.hiddenChildren.length;o++)r.sums[i]+=t.hiddenChildren[o].sums[i]}t.children.push(r)}}}function s(t){for(var e=0;t.children.length>e;e++)s(t.children[e]);u(t,0)}function c(t,e){if(null!=t){for(t.children.length>0&&t.children[t.children.length-1].substitution&&t.children.pop(),t.children.length+t.hiddenChildren.length==e+1&&e++;t.children.length<e&&0!=t.hiddenChildren.length;)t.children.push(t.hiddenChildren.shift());if(t.children.length>0&&t.hiddenChildren.length>0){var n=new a.Nodex(\"+ \"+t.hiddenChildren.length,t,t.index,\"\",0,\"\");n.substitution=!0,n.sums=[0];for(var r=0;T>=r;r++){n.sums[r]=0;for(var i=0;i<t.hiddenChildren.length;i++)n.sums[r]+=t.hiddenChildren[i].sums[r]}t.children.push(n)}}}function f(t,e){if(!(0>=e)){var n=!0;M.settings.KPITreeSettings.drillBlank||(n=!d(t,\"(Blank)\")),M.settings.KPITreeSettings.drillEmpty||(n=n&&!d(t,\"\")),n&&c(t,M.settings.KPITreeSettings.showLimit);for(var r=0;t.children.length>r;r++)f(t.children[r],e-1)}}function d(t,e){return t.hiddenChildren.length+t.children.length==0?!0:t.children.length>0?!1:1!=t.hiddenChildren.length||t.hiddenChildren[0].data!=e?!1:d(t.hiddenChildren[0],e)}function h(t,e){if(1==e){if(t.children.length>0){for(var n=t.children[t.children.length-1].prelim,r=t;null!=r.parent;)n+=r.modif,r=r.parent;return n}return-1e6}if(t.children.length>0){for(var a=-1e6,i=0;i<t.children.length;i++)a=Math.max(a,h(t.children[i],e-1));return a}return-1e6}function p(t,e){if(1==e){if(t.children.length>0){for(var n=t.children[0].prelim,r=t;null!=r.parent;)n+=r.modif,r=r.parent;return n}return 1e6}if(t.children.length>0){for(var a=1e6,i=0;i<t.children.length;i++)a=Math.min(a,p(t.children[i],e-1));return a}return 1e6}function v(t){if(null!=t){t.children.forEach(v);var e=!1;if(null!=t.parent)if(t.parent.children[0]==t&&0!=t.children.length)t.prelim=(t.children[0].prelim+t.children[t.children.length-1].prelim)/2;else if(t.parent.children[0]==t&&0==t.children.length)t.prelim=0;else if(0==t.children.length){for(var n=0;n<t.parent.children.length&&t.parent.children[n]!=t;n++);n>0&&(t.prelim=t.parent.children[n-1].prelim+N+E)}else{for(var n=0;n<t.parent.children.length&&t.parent.children[n]!=t;n++);n>0&&(t.prelim=t.parent.children[n-1].prelim+N+E),t.modif=t.prelim-(t.children[0].prelim+t.children[t.children.length-1].prelim)/2,e=!0}if(e){for(var r=0,a=0;C>a;a++)for(var n=0;n<t.parent.children.length&&t.parent.children[n]!=t;n++)r=Math.max(r,h(t.parent.children[n],a)-p(t,a)+N+E);t.modif+=r,t.prelim+=r,t.shifted=r}}}function g(t,e){if(null!=t){t[\"final\"]=t.prelim+e,t[\"final\"]>O&&(O=t[\"final\"]),t[\"final\"]<F&&(F=t[\"final\"]);for(var n=0;t.children.length>n;n++)g(t.children[n],t.modif+e)}}function y(t){x(),M.svgG.append(\"rect\").attr(\"x\",t[\"final\"]-F).attr(\"y\",t.depth*P).attr(\"width\",E).attr(\"height\",L).attr(\"fill\",\"#d9d9d9\").attr(\"opacity\",\"0.7\").attr(\"stroke\",M.settings.KPITreeFormat.lines).attr(\"rx\",t.substitution?M.settings.KPITreeFormat.Rx:M.settings.KPITreeFormat.rx).on(\"click\",function(){x(),r.filterAPI(t,\"false\",M,k),M.flag=!1})}function m(t,e,n){var a=t.path4Filter.split(\">\");switch(n){case\"drill\":e.path4Filter==t.path4Filter&&r.isFiltered?(r.filterAPI(e,\"true\",M,k),y(e)):!r.isFiltered||e.path4Filter.includes(a[a.length-1])?r.filterAPI(e,\"false\",M,k):(r.filterAPI(e,\"true\",M,k),y(e));break;case\"previous\":e.path4Filter,t.path4Filter;r.filterAPI(e,\"false\",M,k);break;case\"next\":r.filterAPI(e,\"false\",M,k)}}function V(t){M.svgG.append(\"foreignObject\").attr(\"x\",t+360).attr(\"y\",U.depth*P).attr(\"width\",68).attr(\"height\",23).html(\"<button>Capture</button>\").on(\"click\",function(){x(),n.saveImage(M,U,L,E,P),r.filterAPI(z,\"false\",M,k),x()})}function b(t){var e;e=0==U.children.length?\"Extend\":\"Collapse\";M.svgG.append(\"foreignObject\").attr(\"x\",t+280).attr(\"y\",U.depth*P).attr(\"width\",68).attr(\"height\",23).html(\"<button>\"+e+\"</button>\").on(\"click\",function(t){0==U.children.length?f(U,M.settings.KPITreeSettings.defaultDrillDown):s(U),x(),r.filterAPI(z,\"false\",M,k)})}function w(t,e,n){if(null!=t){for(var o=0;t.children.length>o;o++)w(t.children[o],e+1,n+\";\"+o);e>R&&(R=e),i.isNumberForRender(t.data.substring(0,1))&&(t.data=t.data.substring(2,t.data.length));var l=M.svgG.append(\"g\").attr(\"class\",\"box\").attr(\"style\",\"clip-path: url(#boxClips)\").attr(\"isClicked\",\"false\").on(\"click\",function(e){this.setAttribute(\"isClicked\",(\"false\"==this.getAttribute(\"isClicked\")).toString()),M.flag=!0,t.data.includes(\"+\")||(r.filterAPI(t,this.getAttribute(\"isClicked\"),M,k),y(t),z=t)}).on(\"mouseover\",function(e){for(var n=[{displayName:t.data,value:\"\",header:\"\"}],r=1;T>=r;r++)n.push({displayName:\"\",value:\"\"});M.host.tooltipService.show({dataItems:n,identities:[],coordinates:[d3.mouse(this)[0]-M.element.scrollLeft,d3.mouse(this)[1]-M.element.scrollTop],isTouchEvent:!1})}).on(\"mousemove\",function(e){for(var n=[{displayName:t.data,value:\"\",header:\"\"}],r=1;T>=r;r++)n.push({displayName:\"\",value:\"\"});M.host.tooltipService.move({dataItems:n,identities:[],coordinates:[d3.mouse(this)[0]-M.element.scrollLeft,d3.mouse(this)[1]-M.element.scrollTop],isTouchEvent:!1})}).on(\"mouseout\",function(t){M.host.tooltipService.hide({immediately:!0,isTouchEvent:!1})});S.append(\"rect\").attr(\"x\",t[\"final\"]-F).attr(\"y\",e*P).attr(\"class\",\"boxbg\").attr(\"rx\",t.substitution?M.settings.KPITreeFormat.Rx:M.settings.KPITreeFormat.rx).attr(\"width\",E).attr(\"height\",L);for(var f=l.append(\"text\").attr(\"x\",-1e3).attr(\"y\",-1e3).attr(\"class\",\"boxhead\").text(t.data).node().getComputedTextLength(),h=0;f>E;)h++,f=l.append(\"text\").attr(\"x\",-1e3).attr(\"y\",-1e3).attr(\"class\",\"boxhead\").text(t.data.substring(0,t.data.length-h)+\"...\").node().getComputedTextLength();if(l.selectAll(\"text\").remove(),M.settings.KPITreeSettings.showMeasure){var p=B[0].toString(),v=B[1].toString(),g=B[2].toString(),V=B[3].toString(),b=[{col0:0,col1:0,col2:0,col3:0},{col0:0,col1:0,col2:0,col3:0}],_=a.renderVal(t,p,\"L1\",A,k,q),N=a.renderVal(t,v,\"L1\",A,k,q),O=a.renderVal(t,g,\"L1\",A,k,q),D=a.renderVal(t,V,\"L1\",A,k,q);b[0].col0=i.isNotNull(_)?_:\"--\",b[0].col1=i.isNotNull(N)?N:\"--\",b[0].col2=i.isNotNull(O)?O:\"--\",b[0].col3=i.isNotNull(D)?D:\"--\";var H=a.renderVal(t,p,\"L2\",A,k,q),K=a.renderVal(t,v,\"L2\",A,k,q),Y=a.renderVal(t,g,\"L2\",A,k,q),J=a.renderVal(t,V,\"L2\",A,k,q);b[1].col0=i.isNotNull(H)?Number(H).toFixed(1):\"--\",b[1].col1=i.isNotNull(K)?Number(K).toFixed(1):\"--\",b[1].col2=i.isNotNull(Y)?Number(Y).toFixed(1):\"--\",b[1].col3=i.isNotNull(J)?Number(J).toFixed(1):\"--\",I=a.renderColor(t,p,\"L1\",A,k,q),i.isNumberForRender(I)?(0===I&&(l.append(\"rect\").attr(\"x\",t[\"final\"]-F).attr(\"y\",e*P).attr(\"width\",E).attr(\"height\",L).attr(\"fill\",\"#39a31f\").attr(\"stroke\",M.settings.KPITreeFormat.lines).attr(\"rx\",t.substitution?M.settings.KPITreeFormat.Rx:M.settings.KPITreeFormat.rx),l.append(\"text\").attr(\"x\",t[\"final\"]+E/2-F).attr(\"y\",e*P+15).attr(\"class\",\"boxhead\").text(t.data.substring(0,t.data.length-h)+(0==h?\"\":\"...\"))),1===I&&(l.append(\"rect\").attr(\"x\",t[\"final\"]-F).attr(\"y\",e*P).attr(\"width\",E).attr(\"height\",L).attr(\"fill\",\"#fc4949\").attr(\"stroke\",M.settings.KPITreeFormat.lines).attr(\"rx\",t.substitution?M.settings.KPITreeFormat.Rx:M.settings.KPITreeFormat.rx),l.append(\"text\").attr(\"x\",t[\"final\"]+E/2-F).attr(\"y\",e*P+15).attr(\"class\",\"boxhead\").text(t.data.substring(0,t.data.length-h)+(0==h?\"\":\"...\"))),2===I&&(l.append(\"rect\").attr(\"x\",t[\"final\"]-F).attr(\"y\",e*P).attr(\"width\",E).attr(\"height\",L).attr(\"fill\",\"#BFC0C2\").attr(\"stroke\",M.settings.KPITreeFormat.lines).attr(\"rx\",t.substitution?M.settings.KPITreeFormat.Rx:M.settings.KPITreeFormat.rx),l.append(\"text\").attr(\"x\",t[\"final\"]+E/2-F).attr(\"y\",e*P+15).attr(\"class\",\"boxhead\").text(t.data.substring(0,t.data.length-h)+(0==h?\"\":\"...\")))):(l.append(\"rect\").attr(\"x\",t[\"final\"]-F).attr(\"y\",e*P).attr(\"width\",E).attr(\"height\",L).attr(\"fill\",\"#e3cd0b\").attr(\"opacity\",\"1\").attr(\"stroke\",M.settings.KPITreeFormat.lines).attr(\"rx\",t.substitution?M.settings.KPITreeFormat.Rx:M.settings.KPITreeFormat.rx),l.append(\"text\").attr(\"x\",t[\"final\"]+E/2-F).attr(\"y\",e*P+15).attr(\"class\",\"boxhead\").text(t.data.substring(0,t.data.length-h)+(0==h?\"\":\"...\")));var G=new a.TableNode(t[\"final\"]-F,e*P,\"header\",b);l.append(\"foreignObject\").attr(\"x\",t[\"final\"]-F).attr(\"y\",e*P+20).attr(\"width\",E).attr(\"height\",L-20).html(G.GetDrawMyNode(B,I)),U&&l.append(\"rect\").attr(\"x\",U[\"final\"]-F).attr(\"y\",e*P).attr(\"id\",\"root\")}var W=!0;if(M.settings.KPITreeSettings.drillBlank||(W=!d(t,\"(Blank)\")),M.settings.KPITreeSettings.drillEmpty||(W=W&&!d(t,\"\")),!t.substitution&&C>e&&W){var Z=M.svgG.append(\"g\").attr(\"class\",\"drillBtn\").on(\"click\",function(e){0==t.children.length?c(t,M.settings.KPITreeSettings.showLimit):s(t),x(),m(t,z,\"drill\")});0==t.children.length&&t.hiddenChildren.length>0?(Z.append(\"circle\").attr(\"cx\",t[\"final\"]+E/2-F).attr(\"cy\",e*P+j).attr(\"r\",8).attr(\"class\",\"drillCrc\"),Z.append(\"path\").attr(\"class\",\"arrow\").attr(\"d\",\"M \"+(t[\"final\"]-F+E/2)+\" \"+(e*P+j)+\" m -5 -4 l 5 5 l 5 -5 m -10 4 l 5 5 l 5 -5 \")):0==t.children.length||(Z.append(\"circle\").attr(\"cx\",t[\"final\"]+E/2-F).attr(\"cy\",e*P+j).attr(\"r\",8).attr(\"class\",\"drillCrc\"),Z.append(\"path\").attr(\"class\",\"arrow\").attr(\"d\",\"M \"+(t[\"final\"]-F+E/2)+\" \"+(e*P+j)+\" m -5 4 l 5 -5 l 5 5 m -10 -4 l 5 -5 l 5 5 \"))}if(t.substitution){var Z=M.svgG.append(\"g\").attr(\"class\",\"nextBtn\").on(\"click\",function(e){c(t.parent,t.parent.children.length+2),x(),m(t,z,\"next\")});Z.append(\"circle\").attr(\"cx\",t[\"final\"]-F+E/2+25).attr(\"cy\",e*P+j).attr(\"r\",8).attr(\"class\",\"nextCrc\"),Z.append(\"path\").attr(\"class\",\"arrow\").attr(\"d\",\"M \"+(t[\"final\"]-F+E/2+25)+\" \"+(e*P+j)+\" m -4 -5 l 5 5 l -5 5 m 4 -10 l 5 5 l -5 5 \")}if(null!=t.parent&&t.parent.children.length>2&&t.parent.children[t.parent.children.length-1]==t){var Z=M.svgG.append(\"g\").attr(\"class\",\"prevBtn\").on(\"click\",function(e){u(t.parent,Math.max(1,t.parent.children.length-4)),x(),m(t,z,\"previous\")});Z.append(\"circle\").attr(\"cx\",t[\"final\"]-F+E/2-25).attr(\"cy\",e*P+j).attr(\"r\",8).attr(\"class\",\"prevCrc\"),Z.append(\"path\").attr(\"class\",\"arrow\").attr(\"d\",\"M \"+(t[\"final\"]-F+E/2-25)+\" \"+(e*P+j)+\" m 4 -5 l -5 5 l 5 5 m -4 -10 l -5 5 l 5 5 \")}if(e>0){var $={x:t.parent[\"final\"]+E/2-F,y:(e-1)*P+98},X={x:t[\"final\"]+E/2-F,y:e*P},Q={x:$.x,y:$.y+10},tt={x:X.x,y:$.y+10};M.svgG.append(\"line\").attr(\"x1\",$.x).attr(\"y1\",$.y).attr(\"x2\",Q.x).attr(\"y2\",Q.y).attr(\"stroke\",M.settings.KPITreeFormat.lines),M.svgG.append(\"line\").attr(\"x1\",Q.x).attr(\"y1\",Q.y).attr(\"x2\",tt.x).attr(\"y2\",tt.y).attr(\"stroke\",M.settings.KPITreeFormat.lines),M.svgG.append(\"line\").attr(\"x1\",tt.x).attr(\"y1\",tt.y).attr(\"x2\",X.x).attr(\"y2\",X.y).attr(\"stroke\",M.settings.KPITreeFormat.lines)}}}function x(){M.svg.selectAll(\"g\").remove(),M.svgG=M.svg.append(\"g\").attr(\"style\",\"display: block; margin: auto; overflow:auto;\"),S=M.svgG.append(\"defs\").append(\"clipPath\").attr(\"id\",\"boxClips\"),F=0,R=0,O=E,v(U),g(U,0),F-=10,U.children.length>0?U[\"final\"]=(U.children[0][\"final\"]+U.children[U.children.length-1][\"final\"])/2:U[\"final\"]=0,w(U,0,\"0\"),M.svg.attr(\"width\",O+E+10-F).attr(\"height\",100*(R+1)-30);var t,n=document.getElementById(\"root\");t=+n.getAttribute(\"x\"),e.DrawLegend(t,M,U,P),e.DrawBlockAnnotation(t,M,U,P),b(t),V(t)}if(0==this.flag&&JSON.stringify(t.dataViews)!=this.previousUpdateData){this.previousUpdateData=JSON.stringify(t.dataViews),this.svg.selectAll(\"g\").remove(),this.svgG=this.svg.append(\"g\");var M=this,_=t.dataViews;if(_&&_[0]&&_[0].categorical&&_[0].categorical.categories&&_[0].categorical.categories[0].source){var S,k=t.dataViews[0].categorical,A=k.categories[0].values.length,C=k.categories.length,T=k.values?k.values.length:0,N=30,E=185,O=E,F=0,R=1,L=87,P=118,j=95,q=k.categories.length-3,D=i.copy(k.categories[6].values),B=i.sort_unique(D),I=0,z=new a.Nodex(null,null,null,null,0,\"\");this.settings=o.parseSettings(t&&t.dataViews&&t.dataViews[0]);var U=new a.Nodex(k.categories[0].values[0]+\"\",null,0,k.categories[0].values[0]+\"\",0,\"\");U.sums=l(U,1),s(U),f(U,M.settings.KPITreeSettings.defaultDrillDown),x()}}},o.parseSettings=function(e){return t.VisualSettings.parse(e)},o.prototype.enumerateObjectInstances=function(e){return t.VisualSettings.enumerateObjectInstances(this.settings||t.VisualSettings.getDefault(),e)},o}();t.Visual=o}(e=t.FCB64197A074475B35C21C09AB529C74||(t.FCB64197A074475B35C21C09AB529C74={}))}(e=t.visual||(t.visual={}))}(e=t.extensibility||(t.extensibility={}))}(powerbi||(powerbi={}));var powerbi;!function(t){var e;!function(e){var n;!function(e){e.FCB64197A074475B35C21C09AB529C74={name:\"FCB64197A074475B35C21C09AB529C74\",displayName:\"Advanced KPI Tree\",\"class\":\"Visual\",version:\"1.0.4\",apiVersion:\"2.5.0\",create:function(e){return new t.extensibility.visual.FCB64197A074475B35C21C09AB529C74.Visual(e)},custom:!0}}(n=e.plugins||(e.plugins={}))}(e=t.visuals||(t.visuals={}))}(powerbi||(powerbi={}));","css":".visual-FCB64197A074475B35C21C09AB529C74 p{font-size:20px;font-weight:bold}.visual-FCB64197A074475B35C21C09AB529C74 p em{background:yellow;padding:5px}.visual-FCB64197A074475B35C21C09AB529C74 .box{width:100px;height:68px;border:1px solid black !important}.visual-FCB64197A074475B35C21C09AB529C74 .box text{text-anchor:middle;font-size:13px;font-weight:bold;text-align:center ;fill:white}.visual-FCB64197A074475B35C21C09AB529C74 .boxhead{font-weight:bold;text-align:center}.visual-FCB64197A074475B35C21C09AB529C74 .boxheadOnclick{text-anchor:middle;font-size:13px;font-weight:bold;color:black}.visual-FCB64197A074475B35C21C09AB529C74 .box:hover .percentage{visibility:visible}.visual-FCB64197A074475B35C21C09AB529C74 .box:hover .value{visibility:hidden}.visual-FCB64197A074475B35C21C09AB529C74 .box:hover{visibility:visible}.visual-FCB64197A074475B35C21C09AB529C74 .drillCrc{fill:#e8ecf2}.visual-FCB64197A074475B35C21C09AB529C74 .nextCrc{fill:#e8ecf2}.visual-FCB64197A074475B35C21C09AB529C74 .prevCrc{fill:#e8ecf2}.visual-FCB64197A074475B35C21C09AB529C74 .drillCrc,.visual-FCB64197A074475B35C21C09AB529C74 .nextCrc,.visual-FCB64197A074475B35C21C09AB529C74 .prevCrc{opacity:1}.visual-FCB64197A074475B35C21C09AB529C74 .drillBtn:hover .drillCrc,.visual-FCB64197A074475B35C21C09AB529C74 .nextBtn:hover .nextCrc,.visual-FCB64197A074475B35C21C09AB529C74 .prevBtn:hover .prevCrc{opacity:1}.visual-FCB64197A074475B35C21C09AB529C74 .arrow{stroke:black;stroke-width:1.2;fill:none}.visual-FCB64197A074475B35C21C09AB529C74 .drillBtn:hover .arrow,.visual-FCB64197A074475B35C21C09AB529C74 .nextBtn:hover .arrow,.visual-FCB64197A074475B35C21C09AB529C74 .prevBtn:hover .arrow{stroke:black}.visual-FCB64197A074475B35C21C09AB529C74 .tooltipBox{fill:darkblue;opacity:.95}.visual-FCB64197A074475B35C21C09AB529C74 .tooltipText{fill:whitesmoke}.visual-FCB64197A074475B35C21C09AB529C74 .svg{height:700px;padding:10px;display:block;min-width:99%;background:#e6d9d9 transparent}.visual-FCB64197A074475B35C21C09AB529C74 #analysisData{font-family:\"Trebuchet MS\",Arial,Helvetica,sans-serif;border-collapse:collapse;width:100%;text-align:center;background-color:whitesmoke;border:.5px solid black}.visual-FCB64197A074475B35C21C09AB529C74 #analysisData td{border:1px solid black;padding:0px;font-size:11px;height:16px;width:25%}.visual-FCB64197A074475B35C21C09AB529C74 #analysisData th{padding-top:1px;padding-bottom:1px;border:1px solid black;font-size:11px}.visual-FCB64197A074475B35C21C09AB529C74 #annotation{font-size:11px;font-family:\"Trebuchet MS\",Arial,Helvetica,sans-serif;border-collapse:collapse;width:100%;font-weight:bold;line-height:15px}.visual-FCB64197A074475B35C21C09AB529C74 #legend{border-spacing:0px;font-size:12px}.visual-FCB64197A074475B35C21C09AB529C74 .green{background-color:#39a31f}.visual-FCB64197A074475B35C21C09AB529C74 .red{background-color:#fc4949}.visual-FCB64197A074475B35C21C09AB529C74 .gray{background-color:#BFC0C2}.visual-FCB64197A074475B35C21C09AB529C74 .yellow{background-color:#fcdb32}.visual-FCB64197A074475B35C21C09AB529C74 tr.red{background-color:#fc4949;border:1px solid black;color:white;font-size:12px}.visual-FCB64197A074475B35C21C09AB529C74 tr.green{background-color:#39a31f;border:1px solid black;color:white;font-size:12px}.visual-FCB64197A074475B35C21C09AB529C74 tr.yellow{background-color:#e3cd0b;border:1px solid black;color:white;font-size:12px}.visual-FCB64197A074475B35C21C09AB529C74 tr.gray{background-color:#BFC0C2;border:1px solid black;color:white;font-size:12px}.visual-FCB64197A074475B35C21C09AB529C74 .td{padding:0}","iconBase64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAABJ0AAASdAHeZh94AAAAAmJLR0QAAKqNIzIAAAAHdElNRQfjCh8OGhywfBd6AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEwLTMxVDE0OjI2OjI4KzAwOjAwNYnnIAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMC0zMVQxNDoyNjoyOCswMDowMETUX5wAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAACWklEQVQ4T82TvUvyURTHjy0FiRGIQxIo5gtibkE66Kjgkg2KLmFIOLtINPpPRIPQ7Ga5OKhDEIpKqOggijgW1KBi0st5fud0TX20l2d7PnC9957zvd/7u/ceAb/g/f0dk8kkOhwOVCgUuLGxwWOKUe4rlhr2+308PDxkk2g0iplMhhuNKUa5wWAg1PMsNTw5OcHt7W1sNBoiMoViarUaI5GIiMyzYPj6+ooAgOl0WkQWub6+Zs2yoy8Ynp+fs/gnSHNxcSFmUz5XDodDPDg4YGE8HhfRD56enrjNQhrSer1eHI1GIioM6ZjHx8eo1WqxVqtxYhaXy4Uej4fHz8/P+Pb2xuNqtYoajQbD4TB7EGyYzWZxa2sL8/k8B/8mGAyyYSKRwFAohO12W2QQc7kcPxL1xIr02XBzcwMWiwX29/dpusDq6ipIjwSxWAx0Oh2oVCqRAbDZbGA2m9mDWJFMQSoFMBqNvHDCy8sLSLXGY5lMBnt7e9Dr9eDs7AzkcjnHCVpjMpmgXq/TaWGFxJubmyBdupB80Gw2QapFNqpUKnyCtbU1kZ3n8fERlEolb8xHdjqdcHt7C91ulwWE1WqFcrnM/d3dHYuX0el0eC15MHSR9/f3KN0fBgIBmi7gdrvR5/OJ2RQqbL/fj3a7HR8eHjj2WYfFYpH/bru7u3h1dYWtVgsLhQKenp6idGe4vr7OY9JRLpVKsZbWlEol4TJjSNAuR0dHXLCTZjAYcGdnh5ter5/LUQlNvmyCjH6k5LdIm3B/eXnJ/Xfwo/zEeDzm9ht+Zfgv/O+GAH8ATUsS/BW+zowAAAAASUVORK5CYII="}}